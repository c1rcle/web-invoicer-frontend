(this["webpackJsonpweb-invoicer-frontend"]=this["webpackJsonpweb-invoicer-frontend"]||[]).push([[0],{470:function(e){e.exports=JSON.parse('{"palette":{"type":"light","background":{"paper":"rgba(245, 245, 245, 1)","default":"rgba(255, 255, 255, 1)"},"primary":{"light":"rgba(99, 164, 255, 1)","main":"rgba(25, 118, 210, 1)","dark":"rgba(0, 75, 160, 1)","contrastText":"rgba(255, 255, 255, 1)"},"secondary":{"light":"rgba(255, 84, 122, 1)","main":"rgba(220, 0, 78, 1)","dark":"rgba(163, 0, 39, 1)","contrastText":"rgba(255, 255, 255, 1)"},"error":{"light":"rgba(99, 164, 255, 1)","main":"rgba(25, 118, 210, 1)","dark":"rgba(0, 75, 160, 1)","contrastText":"rgba(255, 255, 255, 1)"},"warning":{"light":"#ffb74d","main":"#ff9800","dark":"#f57c00","contrastText":"rgba(0, 0, 0, 0.87)"},"info":{"light":"#64b5f6","main":"#2196f3","dark":"#1976d2","contrastText":"#fff"},"success":{"light":"#81c784","main":"#4caf50","dark":"#388e3c","contrastText":"rgba(0, 0, 0, 0.87)"},"text":{"primary":"rgba(0, 0, 0, 0.87)","secondary":"rgba(0, 0, 0, 0.54)","disabled":"rgba(0, 0, 0, 0.38)","hint":"rgba(0, 0, 0, 0.38)"}}}')},471:function(e){e.exports=JSON.parse('{"palette":{"type":"dark","primary":{"light":"rgba(195, 253, 255, 1)","main":"rgba(144, 202, 249, 1)","dark":"rgba(93, 153, 198, 1)","contrastText":"rgba(0, 0, 0, 0.87)"},"secondary":{"light":"rgba(255, 193, 227, 1)","main":"rgba(244, 143, 177, 1)","dark":"rgba(191, 95, 130, 1)","contrastText":"rgba(0, 0, 0, 0.87)"},"error":{"light":"rgba(195, 253, 255, 1)","main":"rgba(144, 202, 249, 1)","dark":"rgba(93, 153, 198, 1)","contrastText":"rgba(0, 0, 0, 0.87)"},"warning":{"light":"#ffb74d","main":"#ff9800","dark":"#f57c00","contrastText":"rgba(0, 0, 0, 0.87)"},"info":{"light":"#64b5f6","main":"#2196f3","dark":"#1976d2","contrastText":"#fff"},"success":{"light":"#81c784","main":"#4caf50","dark":"#388e3c","contrastText":"rgba(0, 0, 0, 0.87)"},"text":{"primary":"#fff","secondary":"rgba(255, 255, 255, 0.7)","disabled":"rgba(255, 255, 255, 0.5)","hint":"rgba(255, 255, 255, 0.5)","icon":"rgba(255, 255, 255, 0.5)"}}}')},484:function(e,t,a){e.exports=a(743)},742:function(e,t,a){},743:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),o=a.n(c),i=a(42),u=a(6),l=a(330),s=a(205),d=a(460),p=a(462);l.a.use(d.a).use(p.a).use(s.e).init({fallbackLng:"en",interpolation:{escapeValue:!1},backend:{loadPath:"/web-invoicer-frontend/locales/{{lng}}/{{ns}}.json"}});var m=l.a,f=a(152),b=a(786),v=a(788),g=a(787),h=a(316),O=a(804),E=a(779),j=a(199),y=a(70),x=a(780),w=a(781),D=a(89),C=a(10),k=a(83),P=Object(k.a)((function(e){return{drawer:{width:250},drawerPaper:{width:250},drawerHeader:Object(C.a)({width:250,padding:e.spacing(0,1),display:"flex",alignItems:"center",justifyContent:"flex-end"},e.mixins.toolbar),drawerHighlight:{background:e.palette.primary.main,"&:hover":{background:e.palette.primary.main}},drawerHighlightText:{color:e.palette.getContrastText(e.palette.primary.main)}}})),N=P,I=function(e){var t=e.children,a=N();return r.a.createElement(D.a,{variant:"permanent",anchor:"left",className:a.drawer,classes:{paper:a.drawerPaper}},r.a.createElement(h.a,null),t)},S=a(770),T=a(769),R=function(e){var t=e.open,a=e.onClose,n=e.children,c=N();return r.a.createElement(D.a,{anchor:"left",open:t,onClose:a},r.a.createElement("div",{className:c.drawerHeader},r.a.createElement(j.a,{onClick:a},r.a.createElement(T.a,null))),r.a.createElement(S.a,null),n)},A=a(749),F=a(747),B=a(771),M=a(393),L=a(238),z=a(394),V=a(772),q=a(34),W=function(){var e=Object(n.useState)(null),t=Object(q.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),o=Object(q.a)(c,2),i=o[0],u=o[1];return{anchor:i,menuData:a,openMenu:function(e,t){u(e.currentTarget),t&&r(t)},closeMenu:function(){return u(null)}}},U=function(){var e=Object(O.a)(),t=e.t,a=e.i18n,n=t("languages",{returnObjects:!0}),c=W(),o=c.anchor,i=c.openMenu,u=c.closeMenu;return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{button:!0,onClick:i},r.a.createElement(B.a,null,r.a.createElement(V.a,null)),r.a.createElement(M.a,{primary:t("drawer.language")})),r.a.createElement(L.a,{anchorEl:o,open:Boolean(o),onClose:u},n.map((function(e,t){return r.a.createElement(z.a,{key:t,selected:a.language.startsWith(e.code),onClick:(n=e.code,function(){n!==a.language&&a.changeLanguage(n),u()})},e.label);var n}))))},H=a(773),J=a(774),_=a(24),G={theme:localStorage.getItem("theme")||"dark",isDialogOpen:!1,isDrawerOpen:!1},Y=Object(_.c)({name:"app",initialState:G,reducers:{setTheme:function(e,t){e.theme=t.payload},setDialogOpen:function(e,t){e.isDialogOpen=t.payload},setDrawerOpen:function(e,t){e.isDrawerOpen=t.payload}}}),K=Y.actions,$=K.setTheme,Z=K.setDialogOpen,Q=K.setDrawerOpen,X=Y.reducer,ee=function(){var e=Object(O.a)().t,t=Object(u.c)(),a=Object(u.d)((function(e){return e.app.theme}));return r.a.createElement(F.a,{button:!0,onClick:function(){var e="light"===a?"dark":"light";localStorage.setItem("theme",e),t($(e))}},r.a.createElement(B.a,null,"dark"===a?r.a.createElement(H.a,null):r.a.createElement(J.a,null)),r.a.createElement(M.a,{primary:e("drawer.theme")}))},te=a(455),ae=a(46),ne=function(){var e=Object(u.c)(),t=Object(u.d)((function(e){return e.app.isDialogOpen})),a=Object(ae.g)();return{openDialogForType:function(t){a.replace("/".concat(t)),e(Z(!0))},openDialog:function(){return e(Z(!0))},closeDialog:function(){return e(Z(!1))},onExited:function(){return a.replace("/")},isDialogOpen:t}},re=function(){var e=Object(O.a)().t,t=ne().openDialogForType,a=N();return r.a.createElement(te.a,{smUp:!0},r.a.createElement(S.a,null),r.a.createElement(A.a,null,r.a.createElement(F.a,{button:!0,onClick:function(){return t("login")}},r.a.createElement(M.a,{primary:e("signIn")})),r.a.createElement(F.a,{button:!0,onClick:function(){return t("register")},className:a.drawerHighlight},r.a.createElement(M.a,{primary:e("signUp"),className:a.drawerHighlightText}))))},ce=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,null,r.a.createElement(U,null),r.a.createElement(ee,null)),r.a.createElement(re,null))},oe=a(395),ie=function(e){var t=e.closeDrawer,a=e.isDrawerPermanent,n=Object(O.a)().t,c=Object(ae.h)(),o=n("drawer.user",{returnObjects:!0}),u=function(e){return c.pathname===e.pathname||c.pathname.startsWith("".concat(e.pathname,"/"))},l=function(){return!a&&t()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,null,o.map((function(e,t){return r.a.createElement(F.a,{button:!0,key:t,component:i.b,to:e.pathname,replace:c.pathname===e.pathname,selected:u(e),onClick:l},r.a.createElement(B.a,null,r.a.createElement(oe.a,null,e.icon)),r.a.createElement(M.a,{primary:e.text}))}))),r.a.createElement(S.a,null),r.a.createElement(A.a,null,r.a.createElement(U,null),r.a.createElement(ee,null)))},ue=a(750),le=a(28),se=function(){var e=Object(u.c)(),t=Object(u.d)((function(e){return e.app.isDrawerOpen})),a=Object(u.d)((function(e){return e.user.isLoggedIn})),n=Object(ue.a)(Object(le.a)().breakpoints.up("lg"));return{openDrawer:function(){return e(Q(!0))},closeDrawer:function(){return e(Q(!1))},isDrawerOpen:t,isDrawerPermanent:a&&n}},de=function(e){var t=e.isLoggedIn,a=se(),n=a.closeDrawer,c=a.isDrawerOpen,o=a.isDrawerPermanent,i=o?I:R,u=t?ie:ce;return r.a.createElement(i,{open:c,onClose:n},r.a.createElement(u,{closeDrawer:n,isDrawerPermanent:o}))},pe=a(144),me=Object(k.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1},appBarSpacer:{marginRight:e.spacing(1)},appBarLogo:{marginRight:4},appBarTitle:{userSelect:"none",flexGrow:1}}})),fe=function(){var e=Object(O.a)().t,t=ne().openDialogForType,a=me();return r.a.createElement(te.a,{xsDown:!0},r.a.createElement(pe.a,{color:"inherit",onClick:function(){return t("login")},className:a.appBarSpacer},e("signIn")),r.a.createElement(pe.a,{variant:"outlined",color:"inherit",onClick:function(){return t("register")}},e("signUp")))},be=a(778),ve=a(37),ge=a(751),he=a(752),Oe=a(753),Ee=a(775),je=a(776),ye=Object(k.a)((function(e){return{dialogTitle:function(t){var a=t.centered;return{margin:0,padding:a?e.spacing(2,8,0):e.spacing(2,8,2,3),textAlign:a?"center":"initial"}},dialogCloseButton:{position:"absolute",top:e.spacing(1),right:e.spacing(1),color:e.palette.text.secondary},successAlert:{margin:e.spacing(3,3,0)},dialogActions:{padding:e.spacing(2,3),justifyContent:"center"}}})),xe=function(e){var t=e.title,a=e.onClose,n=e.centered,c=e.closeButton,o=ye({centered:n});return r.a.createElement(Ee.a,{disableTypography:!0,className:o.dialogTitle},r.a.createElement(y.a,{variant:"h6"},t),c&&r.a.createElement(j.a,{className:o.dialogCloseButton,onClick:a},r.a.createElement(je.a,null)))},we=function(e){var t=e.open,a=e.onClose,n=e.title,c=e.centeredTitle,o=void 0!==c&&c,i=e.closeButton,u=void 0!==i&&i,l=e.content,s=e.actions,d=e.children,p=Object(ve.a)(e,["open","onClose","title","centeredTitle","closeButton","content","actions","children"]);return r.a.createElement(ge.a,Object.assign({open:t,onClose:a},p),r.a.createElement(xe,{title:n,onClose:a,centered:o,closeButton:u}),l&&r.a.createElement(he.a,null,l),s&&r.a.createElement(Oe.a,null,s),d)},De=a(777),Ce=a(803),ke=a(20),Pe=a(8),Ne=a.n(Pe),Ie=a(21),Se=a(463),Te=a.n(Se),Re=function(){return Te.a.create({baseURL:"https://api.webinvoicer.c1rcle.me",timeout:1e4,headers:localStorage.getItem("token")?{Authorization:"Bearer "+localStorage.getItem("token")}:{}})},Ae=function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n,r;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n=null;case 9:return r=n&&n.status>=200&&n.status<300,e.abrupt("return",r?n:{type:"ERROR",data:a});case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),Fe=Object(_.b)("user/login",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n,r;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Ue({endpoint:"users/authenticate",payload:t,errorData:"login"},n);case 3:return r=e.sent,n(Q(!1)),localStorage.setItem("token",r.token),localStorage.setItem("userData",JSON.stringify(r.userData)),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Be=Object(_.b)("user/refreshToken",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n,r;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Ue({endpoint:"users/refreshToken",errorData:"refreshToken"},n);case 3:return r=e.sent,localStorage.setItem("token",r),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Me=Object(_.b)("user/register",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Ue({endpoint:"users/register",payload:t,errorData:"register"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Le=Object(_.b)("user/confirmEmail",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Ue({endpoint:"users/confirm",payload:t,errorData:"confirmEmail"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),ze=Object(_.b)("user/resetPassword",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Ue({endpoint:"users/resetPassword",payload:{email:t},errorData:"resetPassword"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Ve=Object(_.b)("user/changeResetPassword",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Ue({endpoint:"users/changeResetPassword",payload:t,errorData:"changePassword"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),qe=Object(_.b)("user/changePassword",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Ue({endpoint:"users/changePassword",payload:t,errorData:"changePassword"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),We=Object(_.b)("user/setCompanyData",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Ue({endpoint:"users/setCompanyDetails",payload:t,errorData:"setCompanyData"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Ue=function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n,r,c,o;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.endpoint,r=t.payload,c=t.errorData,a(_e(!0)),e.next=4,Ae(Re().post(n,r),c);case 4:if(o=e.sent,a(_e(!1)),"ERROR"!==o.type){e.next=9;break}throw a(Ge(o.data)),new Error(o.data);case 9:return e.abrupt("return",o.data);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),He=Object(_.c)({name:"user",initialState:{actionPending:!1,error:null,userData:null,isLoggedIn:!1},reducers:{setActionPending:function(e,t){e.actionPending=t.payload},setError:function(e,t){e.error=t.payload},setUserData:function(e,t){e.userData=t.payload,e.isLoggedIn=!0}},extraReducers:Object(ke.a)({},Fe.fulfilled,(function(e,t){e.userData=t.payload.userData,e.isLoggedIn=!0}))}),Je=He.actions,_e=Je.setActionPending,Ge=Je.setError,Ye=Je.setUserData,Ke=He.reducer,$e=Object(k.a)((function(e){return{dialogAlert:{margin:e.spacing(3,3,0)}}})),Ze=function(){var e=Object(n.useState)(""),t=Object(q.a)(e,2),a=t[0],c=t[1],o=Object(O.a)().t,i=Object(u.c)(),l=Object(u.d)((function(e){return e.user.error})),s=$e();return Object(n.useEffect)((function(){l&&(c(l),setTimeout((function(){i(Ge(null))}),5e3))}),[l,i]),Object(n.useEffect)((function(){return function(){return i(Ge(null))}}),[]),r.a.createElement(De.a,{in:Boolean(l)},r.a.createElement(Ce.a,{variant:"outlined",severity:"error",className:s.dialogAlert},a&&o("user.error.".concat(a))))},Qe=a(126),Xe=a(145),et=a.n(Xe),tt=function(){var e=Object(O.a)().t;return{required:function(t){var a=t+"";return!(!t||et.a.isEmpty(a,{ignore_whitespace:!0}))||e("validation.required")},validate:function(t,a,n){var r=a+"";if(!n&&(!a||0===r.length))return!0;return!!function(){switch(t){case"validNip":return function(e){var t=[6,5,7,2,3,4,5,6,7,0];if(10!==e.length||!et.a.isNumeric(e))return!1;var a=0;return Array.from(e).forEach((function(e,n){return a+=Number(e)*t[n]})),a%11===Number(e[9])}(r);case"positiveInt":return function(e){return et.a.isInt(e,{gt:0,allow_leading_zeroes:!1})}(r);case"currency":return function(e){return Number(e)>0&&et.a.isCurrency(e,{allow_negatives:!1,digits_after_decimal:[1,2],symbol:""})}(r);case"phoneNumber":return function(e){return et.a.isMobilePhone(e,["pl-PL"])}(r);case"postalCode":return function(e){return et.a.isPostalCode(e,["PL"])}(r);default:throw new Error("Validation type not supported!")}}()||e("validation.".concat(t))}}},at=function(e){var t=e.children,a=e.validatorRef,c=Object(ve.a)(e,["children","validatorRef"]),o=tt().validate,i=function(e){return!0===e},u=[{name:"validNip",validator:function(e){return i(o("validNip",e,!0))}},{name:"positiveInt",validator:function(e){return i(o("positiveInt",e,!0))}},{name:"currency",validator:function(e){return i(o("currency",e,!0))}},{name:"phoneNumber",validator:function(e){return i(o("phoneNumber",e,!0))}},{name:"postalCode",validator:function(e){return i(o("postalCode",e,!0))}}];return Object(n.useEffect)((function(){return u.forEach((function(e){return Qe.ValidatorForm.addValidationRule(e.name,e.validator)})),function(){return u.forEach((function(e){return Qe.ValidatorForm.removeValidationRule(e.name)}))}}),[]),r.a.createElement(Qe.ValidatorForm,Object.assign({},c,{ref:a}),t)},nt=a(420),rt=Object(k.a)((function(){return{wrapper:{position:"relative"},progress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),ct=function(e){var t=e.text,a=e.loading,n=rt();return r.a.createElement("div",{className:n.wrapper},r.a.createElement(pe.a,{variant:"contained",color:"primary",size:"large",type:"submit",disabled:a},t),a&&r.a.createElement(nt.a,{size:24,className:n.progress}))},ot=function(e){var t=e.onSubmit,a=e.children,n=e.submitText,c=e.validatorRef,o=ye(),i=Object(u.d)((function(e){return e.user.actionPending}));return r.a.createElement(at,{onSubmit:t,validatorRef:c,noValidate:!0},r.a.createElement(he.a,null,a),r.a.createElement(Oe.a,{className:o.dialogActions},r.a.createElement(ct,{text:n,loading:i})))},it=function(e){return r.a.createElement(Qe.TextValidator,Object.assign({margin:"normal",variant:"outlined",fullWidth:!0},e))},ut=function(e){var t=e.passwordChange,a=Object(ve.a)(e,["passwordChange"]),n=Object(O.a)().t;return r.a.createElement(it,Object.assign({label:n("home.dialog.".concat(t?"newPassword":"password")),type:"password",validators:["required","matchRegexp:^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[#$^+=!*()@%&]).{6,}$"],errorMessages:[n("home.dialog.validation.required"),n("home.dialog.validation.password")]},a))},lt=function(e){var t=e.success,a=e.text,n=ye();return r.a.createElement(De.a,{in:t},r.a.createElement(Ce.a,{variant:"outlined",severity:"success",className:n.successAlert},a))},st=function(e){var t=Object(n.useState)(!1),a=Object(q.a)(t,2),r=a[0],c=a[1],o=Object(u.c)();return{success:r,performAction:function(t,a,n){c(!1),o(e(t)).then(_.e).then((function(){c(!0),a&&a()})).catch((function(e){return n&&n(e)}))}}},dt=function(){var e=Object(n.useState)({password:"",newPassword:""}),t=Object(q.a)(e,2),a=t[0],c=t[1],o=Object(O.a)().t,i=Object(u.c)(),l=st(qe),s=l.success,d=l.performAction,p=Object(u.d)((function(e){return e.user.userData.email})),m=function(e){return function(t){var a=t.target;c((function(t){return Object(C.a)(Object(C.a)({},t),{},Object(ke.a)({},e,a.value))}))}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(lt,{success:s,text:o("user.success.changePassword")}),r.a.createElement(ot,{onSubmit:function(e){e.preventDefault(),a.password!==a.newPassword?d(Object(C.a)(Object(C.a)({},a),{},{email:p}),(function(){return c({password:"",newPassword:""})})):i(Ge("passwordsEqual"))},submitText:o("changePassword")},r.a.createElement(ut,{autoFocus:!0,onChange:m("password"),value:a.password}),r.a.createElement(ut,{passwordChange:!0,onChange:m("newPassword"),value:a.newPassword})))},pt=function(e,t){var a=Object(n.useRef)(!0);Object(n.useEffect)((function(){a.current?a.current=!1:e()}),t)},mt=a(466),ft=a.n(mt),bt=function(){var e={companyName:"",nip:"",address:"",postalCode:"",city:""},t=Object(n.useState)(e),a=Object(q.a)(t,2),c=a[0],o=a[1],i=Object(O.a)().t,l=Object(u.c)(),s=Object(n.useRef)(null),d=st(We),p=d.success,m=d.performAction,f=Object(u.d)((function(e){return e.user.userData}));pt((function(){ft()(c,e)&&s.current.resetValidations()}),[c]);var b=function(e){return function(t){var a=t.target;o((function(t){return Object(C.a)(Object(C.a)({},t),{},Object(ke.a)({},e,a.value))}))}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(lt,{success:p,text:i("user.success.setCompanyData")}),r.a.createElement(ot,{onSubmit:function(t){t.preventDefault(),m(c,(function(){l(Ye(Object(C.a)(Object(C.a)({},f),c))),o(e)}))},submitText:i("save"),validatorRef:s},r.a.createElement(it,{autoFocus:!0,label:i("counterparties.name"),onChange:b("companyName"),value:c.companyName,validators:["required"],errorMessages:[i("validation.required")]}),r.a.createElement(it,{label:i("counterparties.nip"),onChange:b("nip"),value:c.nip,validators:["validNip"],errorMessages:[i("validation.validNip")]}),r.a.createElement(it,{label:i("counterparties.address"),onChange:b("address"),value:c.address,validators:["required"],errorMessages:[i("validation.required")]}),r.a.createElement(it,{label:i("counterparties.postalCode"),onChange:b("postalCode"),value:c.postalCode,validators:["postalCode"],errorMessages:[i("validation.postalCode")]}),r.a.createElement(it,{label:i("counterparties.city"),onChange:b("city"),value:c.city,validators:["required"],errorMessages:[i("validation.required")]})))},vt=function(e){var t=e.open,a=e.onClose,n=e.type,c=Object(O.a)().t,o=c("changePassword"===n?"accountChangePassword":"accountSetCompanyData");return r.a.createElement(we,{centeredTitle:!0,closeButton:!0,title:o,open:t,onClose:a,maxWidth:"xs",fullWidth:!0},r.a.createElement(Ze,null),"changePassword"===n?r.a.createElement(dt,null):r.a.createElement(bt,null))},gt=function(){var e=Object(u.c)();return function(){localStorage.removeItem("token"),localStorage.removeItem("userData"),e({type:"user/logout"})}},ht=function(){var e=Object(n.useState)(!1),t=Object(q.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),o=Object(q.a)(c,2),i=o[0],u=o[1];return{isDialogOpen:a,dialogData:i,openDialog:function(e){r(!0),e&&u(e)},closeDialog:function(){return r(!1)}}},Ot=a(254),Et=function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])},jt=function(){var e=Object(u.c)(),t=Object(Ot.a)(localStorage.getItem("token")).exp,a=function(){return 1e3*t-(new Date).getTime()-3e4},n=a();Et((function(){e(Be()),n=a()}),n)},yt=function(){var e=Object(O.a)().t,t=W(),a=t.anchor,n=t.openMenu,c=t.closeMenu,o=ht(),i=o.isDialogOpen,u=o.dialogData,l=o.openDialog,s=o.closeDialog,d=gt();jt();var p=function(e){return function(){c(),l(e)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,{open:i,onClose:s,type:u}),r.a.createElement(j.a,{edge:"end",color:"primary",onClick:n},r.a.createElement(be.a,{fontSize:"large"})),r.a.createElement(L.a,{anchorEl:a,open:Boolean(a),onClose:c},r.a.createElement(z.a,{onClick:p("setCompanyData")},e("accountSetCompanyData")),r.a.createElement(z.a,{onClick:p("changePassword")},e("accountChangePassword")),r.a.createElement(z.a,{onClick:d},e("signOut"))))},xt=function(){var e=Object(u.c)(),t=gt(),a=Object(u.d)((function(e){return e.user.isLoggedIn}));Object(n.useEffect)((function(){if(!a&&localStorage.getItem("token")){var n=Object(Ot.a)(localStorage.getItem("token")),r=JSON.parse(localStorage.getItem("userData"));!n||!r||n.exp<(new Date).getTime()/1e3?t():e(Ye(r))}}),[])},wt=function(){var e=Object(O.a)().t,t=Object(u.d)((function(e){return e.user.isLoggedIn})),a=se(),n=a.openDrawer,c=a.isDrawerPermanent,o=me();return xt(),r.a.createElement(r.a.Fragment,null,r.a.createElement(de,{isLoggedIn:t}),r.a.createElement(E.a,{position:"fixed",color:"inherit",className:o.appBar},r.a.createElement(h.a,null,!c&&r.a.createElement(j.a,{edge:"start",color:"inherit",onClick:n,className:o.appBarSpacer},r.a.createElement(x.a,null)),r.a.createElement(w.a,{fontSize:"large",className:o.appBarLogo,color:"primary"}),r.a.createElement(y.a,{variant:"h6",className:o.appBarTitle},e("title")),t?r.a.createElement(yt,null):r.a.createElement(fe,null))))},Dt=a(475),Ct=function(){return r.a.createElement(Dt.a,{open:!0},r.a.createElement(nt.a,null))},kt=function(e){var t=Object(u.d)((function(e){return e.user.isLoggedIn}));return r.a.createElement(r.a.Fragment,null,t||r.a.createElement(ae.a,{to:"/"}),r.a.createElement(ae.b,e))},Pt=a(294),Nt=a(782),It=a(783),St=a(784),Tt=Object(k.a)((function(e){return{heroContainer:Object(ke.a)({width:"fit-content",padding:e.spacing(2),margin:e.spacing(2,0),marginLeft:"auto",marginRight:"auto",display:"flex"},e.breakpoints.only("xs"),{flexDirection:"column"}),heroItem:Object(ke.a)({marginTop:"auto",marginBottom:"auto"},e.breakpoints.only("xs"),{textAlign:"center"}),heroIcon:Object(ke.a)({fontSize:"6rem",marginRight:e.spacing(2)},e.breakpoints.only("xs"),{marginRight:0}),featureCard:{height:"100%"},featureIcon:{fontSize:"5rem"}}})),Rt=function(){var e=(0,Object(O.a)().t)("home.features",{returnObjects:!0}),t=Tt();return r.a.createElement(Nt.a,{container:!0,justify:"center",spacing:3},e.map((function(e,a){return r.a.createElement(Nt.a,{key:a,item:!0,xs:12,sm:6},r.a.createElement(It.a,{className:t.featureCard},r.a.createElement(St.a,null,r.a.createElement("div",{className:"text-center"},r.a.createElement(oe.a,{className:t.featureIcon,color:"primary"},e.icon)),r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",className:"text-center"},e.header),r.a.createElement(y.a,{variant:"body1",color:"textSecondary",className:"text-center"},e.description))))})))},At=function(){var e=Object(O.a)().t,t=ne().openDialogForType;return r.a.createElement(Pt.a,{mb:4,className:"text-center"},r.a.createElement(y.a,{variant:"h5"},e("home.footer")),r.a.createElement(Pt.a,{mt:2},r.a.createElement(pe.a,{variant:"outlined",color:"inherit",size:"large",onClick:function(){return t("register")}},e("signUp"))))},Ft=function(){var e=Object(O.a)().t,t=Tt();return r.a.createElement("div",{className:t.heroContainer},r.a.createElement("div",{className:t.heroItem},r.a.createElement(w.a,{className:t.heroIcon,color:"primary"})),r.a.createElement("div",{className:t.heroItem},r.a.createElement(y.a,{variant:"h4",gutterBottom:!0},e("home.hero.title")),r.a.createElement(y.a,{variant:"h6",color:"textSecondary"},e("home.hero.description"))))},Bt=(0,a(17).makeStyles)((function(e){return{dialogAlert:{margin:e.spacing(3,3,0)},dialogActions:{padding:e.spacing(2,3),justifyContent:"center"}}})),Mt=function(e){var t=e.locationKey,a=Object(n.useState)(""),c=Object(q.a)(a,2),o=c[0],i=c[1],l=Object(O.a)().t,s=Object(u.c)(),d=Object(u.d)((function(e){return e.user.error})),p=Bt();return Object(n.useEffect)((function(){d&&(d!==t?s(Ge(null)):(i(d),setTimeout((function(){s(Ge(null))}),5e3)))}),[d,s,t]),Object(n.useEffect)((function(){return function(){return s(Ge(null))}}),[]),r.a.createElement(De.a,{in:Boolean(d)},r.a.createElement(Ce.a,{variant:"outlined",severity:"error",className:p.dialogAlert},o&&l("home.dialog.error.".concat(o))))},Lt=a(790),zt=function(e){var t=Object(O.a)().t;return r.a.createElement(it,Object.assign({label:t("home.dialog.email"),type:"email",validators:["required","isEmail"],errorMessages:[t("home.dialog.validation.required"),t("home.dialog.validation.email")]},e))},Vt=Object(k.a)((function(e){return{dialogText:{display:"block",marginTop:e.spacing(3),textAlign:"center"},dialogConfirmContainer:{display:"flex",justifyContent:"center",alignItems:"center",margin:e.spacing(3,0)},dialogProgress:{marginRight:e.spacing(2)}}})),qt=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(q.a)(e,2),a=t[0],c=t[1],o=Object(O.a)().t,l=Object(u.c)(),s=Object(u.d)((function(e){return e.user.isLoggedIn})),d=Vt(),p=function(e){return function(t){var a=t.target;c((function(t){return Object(C.a)(Object(C.a)({},t),{},Object(ke.a)({},e,a.value))}))}};return r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(ae.a,{to:"invoices"}),r.a.createElement(ot,{onSubmit:function(e){e.preventDefault(),l(Fe(a))},submitText:o("signIn")},r.a.createElement(zt,{autoFocus:!0,onChange:p("email"),value:a.email}),r.a.createElement(ut,{onChange:p("password"),value:a.password}),r.a.createElement(Lt.a,{component:i.b,to:"resetPassword",variant:"body2",color:"primary",className:d.dialogText},o("home.dialog.forgotPassword"))))},Wt=function(){var e=Object(n.useState)({fullName:"",email:"",password:""}),t=Object(q.a)(e,2),a=t[0],c=t[1],o=st(Me),i=o.success,u=o.performAction,l=Object(O.a)().t,s=Vt(),d=function(e){return function(t){var a=t.target;c((function(t){return Object(C.a)(Object(C.a)({},t),{},Object(ke.a)({},e,a.value))}))}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(lt,{success:i,text:l("home.dialog.success.register")}),r.a.createElement(ot,{onSubmit:function(e){e.preventDefault(),u(a,(function(){return c({fullName:"",email:"",password:""})}))},submitText:l("signUp")},r.a.createElement(it,{autoFocus:!0,label:l("home.dialog.name"),type:"text",value:a.fullName,validators:["required"],errorMessages:[l("home.dialog.validation.required")],onChange:d("fullName")}),r.a.createElement(zt,{onChange:d("email"),value:a.email}),r.a.createElement(ut,{onChange:d("password"),value:a.password}),r.a.createElement(y.a,{variant:"body2",color:"textSecondary",className:s.dialogText},l("home.dialog.terms"))))},Ut=function(){var e=Object(n.useState)(""),t=Object(q.a)(e,2),a=t[0],c=t[1],o=st(ze),i=o.success,u=o.performAction,l=Object(O.a)().t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(lt,{success:i,text:l("home.dialog.success.resetPassword")}),r.a.createElement(ot,{onSubmit:function(e){e.preventDefault(),u(a,(function(){return c("")}))},submitText:l("reset")},r.a.createElement(zt,{autoFocus:!0,onChange:function(e){var t=e.target;c(t.value)},value:a})))},Ht=function(){var e=Object(n.useState)(""),t=Object(q.a)(e,2),a=t[0],c=t[1],o=st(Ve),i=o.success,u=o.performAction,l=Object(O.a)().t,s=new URLSearchParams(Object(ae.h)().search),d=s.get("email"),p=s.get("token");return r.a.createElement(r.a.Fragment,null,r.a.createElement(lt,{success:i,text:l("home.dialog.success.resetPassword")}),r.a.createElement(ot,{onSubmit:function(e){e.preventDefault(),u({email:d,resetToken:p,newPassword:a},(function(){return c("")}))},submitText:l("changePassword")},r.a.createElement(ut,{autoFocus:!0,passwordChange:!0,onChange:function(e){var t=e.target;c(t.value)},value:a})))},Jt=function(){var e=st(Le),t=e.success,a=e.performAction,c=Object(O.a)().t,o=Object(u.d)((function(e){return e.user.actionPending})),i=new URLSearchParams(Object(ae.h)().search),l=i.get("email"),s=i.get("token"),d=Vt();return Object(n.useEffect)((function(){a({email:l,token:s})}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(lt,{success:t,text:c("home.dialog.success.confirmEmail")}),r.a.createElement(he.a,null,r.a.createElement("div",{className:d.dialogConfirmContainer},o?r.a.createElement(r.a.Fragment,null,r.a.createElement(nt.a,{className:d.dialogProgress}),r.a.createElement(y.a,null,c("home.dialog.pleaseWait"))):r.a.createElement(y.a,null,c("home.dialog.closeWindow")))))},_t=function(){var e=Object(O.a)().t,t=ne(),a=t.isDialogOpen,n=t.closeDialog,c=t.onExited,o=Object(ae.h)().pathname.substring(1);return r.a.createElement(we,{centeredTitle:!0,closeButton:!0,title:o?e("home.dialog.".concat(o)):"",open:a,onClose:n,onExited:c,maxWidth:"xs",fullWidth:!0},r.a.createElement(Mt,{locationKey:o}),r.a.createElement(ae.b,{exact:!0,path:"/login",component:qt}),r.a.createElement(ae.b,{exact:!0,path:"/register",component:Wt}),r.a.createElement(ae.b,{exact:!0,path:"/resetPassword",component:Ut}),r.a.createElement(ae.b,{exact:!0,path:"/changePassword",component:Ht}),r.a.createElement(ae.b,{exact:!0,path:"/confirmEmail",component:Jt}))},Gt=function(){var e=Object(ae.h)(),t=ne(),a=t.isDialogOpen,c=t.openDialog,o=t.closeDialog,i=Object(u.d)((function(e){return e.user.isLoggedIn}));return Object(n.useEffect)((function(){"/"!==e.pathname&&!a&&c(),"/"===e.pathname&&a&&o()}),[e]),r.a.createElement(r.a.Fragment,null,i&&r.a.createElement(ae.a,{to:"invoices"}),r.a.createElement(_t,null),r.a.createElement(Ft,null),r.a.createElement(Rt,null),r.a.createElement(Pt.a,{my:5},r.a.createElement(S.a,{variant:"fullWidth"})),r.a.createElement(At,null))},Yt=a(143),Kt=a(789),$t=function(e){var t=e.error,a=e.clearAction,c=e.onClose,o=Object(n.useState)(""),i=Object(q.a)(o,2),l=i[0],s=i[1],d=Object(O.a)().t,p=Object(u.c)(),m=function(){c?c():p(a(null))};return Object(n.useEffect)((function(){t&&s(t)}),[t]),r.a.createElement(we,{open:Boolean(t),onClose:m,title:l?d("errors.".concat(l)):"",content:r.a.createElement(Kt.a,null,function(){var e=["create","invoice","counterparty"];return d("errors.text.".concat(function(){switch(l){case e.includes(l):return"create";case"createInvoice":return"createInvoice";case"delete":return"delete";case"details":return"details";default:return"serverDown"}}()))}()),actions:r.a.createElement(pe.a,{onClick:m,color:"primary"},d("cancel"))})},Zt=function(e){var t=e.actionPending,a=e.className,c=Object(n.useState)(!1),o=Object(q.a)(c,2),i=o[0],u=o[1];return Object(n.useEffect)((function(){var e=null;return t!==i&&(t?u(!0):e=setTimeout((function(){u(t)}),1e3)),function(){return e&&clearTimeout(e)}}),[t]),r.a.createElement(Dt.a,{open:i,transitionDuration:500,className:a},r.a.createElement(nt.a,null))},Qt=function(){var e=Object(O.a)().t,t=Object(ae.h)(),a=e("invoices.header.".concat(t.pathname.split("/")[2]));return r.a.createElement(y.a,{variant:"h5"},a)},Xt=a(794),ea=a(806),ta=function(e){var t=e.validators,a=Object(ve.a)(e,["validators"]),n=Object(O.a)().t,c=t&&t.map((function(e){return n("validation.".concat(e))}));return r.a.createElement(Qe.TextValidator,Object.assign({variant:"outlined",fullWidth:!0,validators:t,errorMessages:c},a))},aa=function(e){var t=e.textProps,a=Object(ve.a)(e,["textProps"]),n=Object(Xt.a)({limit:5});return r.a.createElement(ea.a,Object.assign({freeSolo:!0,fullWidth:!0,filterOptions:n,renderInput:function(e){return r.a.createElement(ta,Object.assign({},e,t,{variant:"outlined"}))}},a))},na=a(240),ra=a(473),ca=a(472),oa=a(36),ia=a(296),ua={en:ra.a,pl:ca.a},la=function(e){var t=e.onChange,a=e.minDate,n=Object(ve.a)(e,["onChange","minDate"]),c=Object(O.a)().i18n;return r.a.createElement(oa.a,{utils:na.default,locale:ua[c.language]},r.a.createElement(ia.b,Object.assign({disablePast:!Boolean(a),variant:"inline",inputVariant:"outlined",fullWidth:!0,format:"dd/MM/yyyy",onChange:function(e,a){return t(new Date(e).toISOString())}},a&&{minDate:a},n)))},sa=a(795),da=function(e){var t=e.onClick;return r.a.createElement(Pt.a,{ml:1},r.a.createElement(j.a,{onClick:t,size:"small"},r.a.createElement(sa.a,{color:"primary"})))},pa=function(e){var t=e.update,a=e.select,n=e.editorData,c=Object(O.a)().t,o=Object(u.d)((function(e){return e.invoice.employeeData})),i=n.employee,l=new Date(n.date),s=function(e,n){return r.a.createElement(aa,{disabled:Boolean(null===i||void 0===i?void 0:i.id),options:o,getOptionLabel:function(t){return t[e]},onChange:function(e,t,n){return"select-option"===n&&a(t)},inputValue:(null===i||void 0===i?void 0:i[e])||"",textProps:{label:n,validators:["fullName"===e?"required":"phoneNumber"],onChange:t(e,!0),value:null===i||void 0===i?void 0:i[e]}})};return{Number:r.a.createElement(ta,{label:c("invoices.number"),validators:["required"],onChange:t("number"),value:n.number}),Date:r.a.createElement(la,{minDate:Boolean(n.id)&&l,label:c("invoices.date"),onChange:t("date"),value:l}),FullName:s("fullName",c("employees.fullName")),PhoneNumber:s("phoneNumber",c("employees.phoneNumber")),Clear:r.a.createElement(da,{onClick:function(){return a(null)}})}},ma=a(469),fa=a(120),ba={type:null,number:"",date:(new Date).toISOString(),employee:null,counterparty:null,items:[],paymentType:null,paymentDeadline:null},va=function(e){return ha.findIndex((function(t){return t.id===e}))},ga=function(e){return ha[e].id},ha=[{id:"vat",symbol:"FV"},{id:"proforma",symbol:"FP"},{id:"receipt",symbol:"PA"},{id:"corrective",symbol:"FC"}],Oa=function(e,t,a){return e===a.type&&t===new Date(a.date).getMonth()},Ea=a(328),ja=a(329),ya=a.n(ja),xa=a(468),wa=a.n(xa);ya.a.vfs=wa.a.pdfMake.vfs;var Da,Ca,ka,Pa,Na=ya.a,Ia=a(114),Sa=function(e,t){var a=e.type,n=e.number,r=e.date,c=e.paymentDeadline,o=e.paymentType,i=t("invoices.paymentTypes",{returnObjects:!0});return[{text:t("invoices.header.".concat(ga(a))),style:"header",margin:[0,0,0,10]},{layout:"noBorders",margin:[0,0,0,20],table:{body:[["".concat(t("invoices.number"),":"),n],["".concat(t("invoices.date"),":"),Object(fa.default)(new Date(r),"dd.MM.yyyy")]].concat(Object(Ia.a)(a!==va("receipt")?[["".concat(t("invoices.deadline"),":"),Object(fa.default)(new Date(c),"dd.MM.yyyy")],["".concat(t("invoices.paymentType"),":"),i[o]]]:[]))}}]},Ta=function(e,t,a){var n={hLineWidth:function(e){return 1===e?1:0},vLineWidth:function(){return 0}};return{columns:[{layout:n,margin:[0,0,20,0],table:{headerRows:1,widths:["*"],body:[[{text:a("invoices.seller"),fontSize:14}],[{text:t.companyName,margin:[0,5,0,0]}],[t.address],["".concat(t.postalCode," ").concat(t.city)],["".concat(a("counterparties.nip"),": ").concat(t.nip)]]}},e&&{layout:n,margin:[20,0,0,0],table:{headerRows:1,widths:["*"],body:[[{text:a("invoices.buyer"),fontSize:14}],[{text:e.name,margin:[0,5,0,0]}],[e.address],["".concat(e.postalCode," ").concat(e.city)],["".concat(a("counterparties.nip"),": ").concat(e.nip)]]}}]}},Ra=function(e,t){return e.map((function(e,a){var n=e.name,r=e.unit,c=e.count,o=e.netPrice,i=e.grossPrice,u=e.vatRate,l=o*c,s=i*c,d=s-l;return[a+1,n,r,c,o.toFixed(2),t[u],l.toFixed(2),d.toFixed(2),s.toFixed(2)]}))},Aa=function(e,t,a){var n=["23%","8%","5%","0%",a("products.vatExempt"),a("products.vatNotApplicable")],r=Ra(e,n);return{layout:{fillColor:function(e){return 0===e?"#EEEEEE":null}},margin:[0,40,0,0],table:{headerRows:1,widths:["auto","*","auto","auto","auto","auto","auto","auto","auto"],body:[[a("products.ordinal"),a("products.name"),a("products.unit"),a("products.count"),a("products.netPrice"),"VAT",a("invoices.netValue"),a("invoices.vatValue"),a("invoices.grossValue")]].concat(Object(Ia.a)(r))}}},Fa=function(e,t){var a=e.reduce((function(e,t){var a=t.vatRate;return e.includes(a)?e:[].concat(Object(Ia.a)(e),[a])}),[]);return a.sort((function(e,t){return e-t})),a.map((function(a){var n=Ba("netPrice",a,e),r=Ba("grossPrice",a,e),c=r-n;return[t[a],n.toFixed(2),c.toFixed(2),r.toFixed(2)]}))},Ba=function(e,t,a){return a.reduce((function(a,n){return n.vatRate===t?a+Number(n[e])*Number(n.count):a}),0)},Ma=function(e,t){var a=["23%","8%","5%","0%",t("products.vatExempt"),t("products.vatNotApplicable")],n=e.netTotal.toFixed(2),r=e.grossTotal.toFixed(2),c=(e.grossTotal-e.netTotal).toFixed(2),o=Fa(e.items,a);return[{columns:[{width:"*",text:""},{width:"auto",layout:{fillColor:function(e){return 0===e||3===e?"#EEEEEE":null}},margin:[0,40,0,0],table:{headerRows:1,widths:["auto","auto","auto","auto"],body:[["VAT",t("invoices.netValue"),t("invoices.vatValue"),t("invoices.grossValue")]].concat(Object(Ia.a)(o),[[{text:t("invoices.total"),bold:!0},{text:n,bold:!0},{text:c,bold:!0},{text:r,bold:!0}]])}}]},{style:"summary",layout:"noBorders",margin:[0,40,0,0],table:{headerRows:1,keepWithHeaderRows:!0,body:[[t("invoices.total"),"".concat(e.grossTotal.toFixed(2)," z\u0142")],[{text:t("invoices.amountDue"),bold:!0},{text:"".concat(e.grossTotal.toFixed(2)," z\u0142"),bold:!0}]]}}]},La=function(e,t){return function(a,n){return a===n&&[{margin:[80,40],columns:[{margin:[0,0,20,0],table:{widths:["*"],body:[[{text:e,alignment:"center",border:[!1,!1,!1,!1]}],[{text:t("invoices.issuerSignature"),alignment:"center",border:[!1,!0,!1,!1]}]]}},{margin:[20,0,0,0],table:{widths:["*"],body:[[{text:" ",alignment:"center",border:[!1,!1,!1,!1]}],[{text:t("invoices.recipientSignature"),alignment:"center",border:[!1,!0,!1,!1]}]]}}]}]}},za=function(e,t,a){var n=e.employee,r=e.counterparty,c=e.items,o=e.type;return{content:[].concat(Object(Ia.a)(Sa(e,a)),[Ta(r,t,a),Aa(c,o,a)],Object(Ia.a)(Ma(e,a))),footer:La(n.fullName,a),pageMargins:[40,40,40,100],defaultStyle:{fontSize:10},styles:{header:{alignment:"left",fontSize:18,bold:!0},counterpartiesHeader:{fontSize:14},summary:{fontSize:12}}}},Va=function(e,t){var a=Object.keys(t).filter((function(a){return t[a]!==e[a]}));if(0!==a.length)return a.reduce((function(e,a){return Object(C.a)(Object(C.a)({},e),{},Object(ke.a)({},a,t[a]))}),{})},qa=function(){var e=function(){var e=Object(Ie.a)(Ne.a.mark((function e(){var t,a,n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({method:function(){return Re().get("Employees")},errorData:"employees"});case 2:return t=e.sent,e.next=5,c({method:function(){return Re().get("Counterparties")},errorData:"counterparties"});case 5:return a=e.sent,e.next=8,c({method:function(){return Re().get("Invoices")},errorData:"invoices"});case 8:return n=(n=e.sent).map((function(e){var n=e.employeeId,r=e.counterpartyId,c=Object(ve.a)(e,["employeeId","counterpartyId"]);return Object(C.a)(Object(C.a)({},c),{},{employee:t.find((function(e){return e.id===n})),counterparty:a.find((function(e){return e.id===r}))})})),e.abrupt("return",{invoices:n,employees:t,counterparties:a});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(Ie.a)(Ne.a.mark((function e(t){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id){e.next=6;break}return e.next=3,c({method:function(){return Re().post("Employees",t)},errorData:"employee"});case 3:return e.abrupt("return",e.sent.id);case 6:return e.abrupt("return",t.id);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a=function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===t||void 0===t?void 0:t.id)||a===va("receipt")){e.next=6;break}return e.next=3,c({method:function(){return Re().post("Counterparties",t)},errorData:"counterparty"});case 3:return e.abrupt("return",e.sent.id);case 6:return e.abrupt("return",null===t||void 0===t?void 0:t.id);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n=function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n,r;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ne.a.mark((function e(n){var r,o,i,u,l;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a[n],o=r.count,i=r.unit,r.editorId,u=Object(ve.a)(r,["count","unit","editorId"]),l=a[n].id){e.next=6;break}return e.next=5,c({method:function(){return Re().post("Products",u)},errorData:"product"});case 5:l=e.sent.id;case 6:return e.next=8,c({method:function(){return Re().post("InvoiceItems",{invoiceId:t,productId:l,index:n,count:o,unit:i})},errorData:"item"});case 8:case"end":return e.stop()}}),e)})),r=0;case 2:if(!(r<a.length)){e.next=7;break}return e.delegateYield(n(r),"t0",4);case 4:r++,e.next=2;break;case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),r=function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a,r){var o,u,l;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t,r.filter((function(e){return void 0===e.itemId})));case 2:o=Object(Ea.a)(a),e.prev=3,l=Ne.a.mark((function e(){var t,a,n,o;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.value,-1===(a=r.findIndex((function(e){return e.itemId===t.itemId})))){e.next=11;break}if(n=Object(C.a)(Object(C.a)({},i(r[a])),{},{index:a}),o=Va(i(t),n),e.t0=o,!e.t0){e.next=9;break}return e.next=9,c({method:function(){return Re().put("InvoiceItems",Object(C.a)(Object(C.a)({},o),{},{itemId:t.itemId}))},errorData:"item"});case 9:e.next=13;break;case 11:return e.next=13,c({method:function(){return Re().delete("InvoiceItems/".concat(t.itemId))},errorData:"item"});case 13:case"end":return e.stop()}}),e)})),o.s();case 6:if((u=o.n()).done){e.next=10;break}return e.delegateYield(l(),"t0",8);case 8:e.next=6;break;case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(3),o.e(e.t1);case 15:return e.prev=15,o.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,12,15,18]])})));return function(t,a,n){return e.apply(this,arguments)}}(),c=function(){var e=Object(Ie.a)(Ne.a.mark((function e(t){var a,n,r;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.method,n=t.errorData,e.next=3,Ae(a(),n);case 3:if("ERROR"!==(r=e.sent).type){e.next=6;break}throw new Error(r.data);case 6:return e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(e){var t=e.employee,a=e.counterparty,n=(e.items,Object(ve.a)(e,["employee","counterparty","items"]));return Object(C.a)(Object(C.a)({},n),{},{employeeId:t.id,counterpartyId:null===a||void 0===a?void 0:a.id})},i=function(e){return{id:e.id,index:e.index,count:e.count,unit:e.unit}};return{createPayload:function(e){return Object(Ie.a)(Ne.a.mark((function r(){var o,i,u,l,s,d,p;return Ne.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.employee,i=e.counterparty,u=e.items,l=Object(ve.a)(e,["employee","counterparty","items"]),r.next=3,t(o);case 3:return s=r.sent,r.next=6,a(i,l.type);case 6:return d=r.sent,r.next=9,c({method:function(){return Re().post("Invoices",Object(C.a)(Object(C.a)({},l),{},{employeeId:s,counterpartyId:d}))},errorData:"invoice"});case 9:return p=r.sent.id,r.next=12,n(p,u);case 12:case"end":return r.stop()}}),r)})))},getPayload:e,updatePayload:function(e,n){return Object(Ie.a)(Ne.a.mark((function i(){var u,l,s,d,p,m,f,b,v,g;return Ne.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return u=n.id,l=n.type,s=n.employee,d=n.counterparty,p=n.items,m=Object(ve.a)(n,["id","type","employee","counterparty","items"]),f=o(e),i.next=4,t(s);case 4:return b=i.sent,i.next=7,a(d,l);case 7:if(v=i.sent,g=Va(f,Object(C.a)(Object(C.a)({},m),{},{employeeId:b,counterpartyId:v})),i.t0=g,!i.t0){i.next=13;break}return i.next=13,c({method:function(){return Re().put("Invoices",Object(C.a)({id:u,type:l},g))},errorData:"invoice"});case 13:return i.next=15,r(n.id,e.items,p);case 15:case"end":return i.stop()}}),i)})))},exportPayload:function(e,t){return Object(Ie.a)(Ne.a.mark((function a(){var n,r,o,i,u;return Ne.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c({method:function(){return Re().get("InvoiceItems/".concat(e.id))},errorData:"export"});case 2:n=a.sent,r=[],o=Object(Ea.a)(n),a.prev=5,u=Ne.a.mark((function e(){var t,a;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.value,e.next=3,c({method:function(){return Re().get("Products/".concat(t.id))},errorData:"export"});case 3:a=e.sent,r.push(Object(C.a)(Object(C.a)({},t),a));case 5:case"end":return e.stop()}}),e)})),o.s();case 8:if((i=o.n()).done){a.next=12;break}return a.delegateYield(u(),"t0",10);case 10:a.next=8;break;case 12:a.next=17;break;case 14:a.prev=14,a.t1=a.catch(5),o.e(a.t1);case 17:return a.prev=17,o.f(),a.finish(17);case 20:Na.createPdf(za(Object(C.a)(Object(C.a)({},e),{},{items:r}),t,m.t.bind(m))).download("".concat(e.number,".pdf"));case 21:case"end":return a.stop()}}),a,null,[[5,14,17,20]])})))}}},Wa={actionPending:!1,error:null,invoiceData:[],employeeData:[],counterpartyData:[],productData:[],editorData:ba,oldEditorData:null},Ua=Object(_.b)("invoice/create",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,$a(Xa(t),n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Ha=Object(_.b)("invoice/get",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,$a(en,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Ja=Object(_.b)("invoice/update",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n,r,c;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.oldInvoice,r=t.invoice,c=a.dispatch,e.next=4,$a(tn(n,r),c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),_a=Object(_.b)("invoice/delete",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Za({method:function(){return Re().delete("Invoices/".concat(t))},errorData:"delete"},n);case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Ga=Object(_.b)("invoice/export",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n,r;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,r=a.getState,e.next=3,$a(an(t,r().user.userData),n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Ya=Object(_.b)("invoice/getProducts",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Za({method:function(){return Re().get("Products")},errorData:"getProducts"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Ka=Object(_.b)("invoice/getItems",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n,r,c;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,r=a.getState,e.next=3,Za({method:function(){return Re().get("InvoiceItems/".concat(t))},errorData:"getInvoiceItems"},n);case 3:return c=e.sent,e.abrupt("return",c.map((function(e){var t=r().invoice.productData.find((function(t){return t.id===e.id}));return Object(C.a)(Object(C.a)({editorId:Object(_.d)()},e),t)})));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),$a=function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(cn(!0)),e.next=4,t();case 4:return n=e.sent,a(cn(!1)),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),a(on(e.t0.message)),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Za=function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n,r,c;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.method,r=t.errorData,a(cn(!0)),e.next=4,Ae(n(),r);case 4:if(c=e.sent,a(cn(!1)),"ERROR"!==c.type){e.next=9;break}throw a(on(c.data)),new Error(c.data);case 9:return e.abrupt("return",c.data);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Qa=qa(),Xa=Qa.createPayload,en=Qa.getPayload,tn=Qa.updatePayload,an=Qa.exportPayload,nn=Object(_.c)({name:"invoice",initialState:Wa,reducers:{setActionPending:function(e,t){e.actionPending=t.payload},setError:function(e,t){e.actionPending=!1,e.error=t.payload},setEditorData:function(e,t){e.editorData=t.payload},setOldEditorData:function(e,t){e.oldEditorData=t.payload},addItem:function(e,t){e.editorData.items.push(t.payload)},updateItem:function(e,t){var a=e.editorData.items.findIndex((function(e){return e.editorId===t.payload.editorId}));e.editorData.items[a]=t.payload},deleteItem:function(e,t){var a=e.editorData.items.findIndex((function(e){return e.editorId===t.payload}));e.editorData.items.splice(a,1)}},extraReducers:(Da={},Object(ke.a)(Da,Ha.fulfilled,(function(e,t){var a=t.payload,n=a.invoices,r=a.employees,c=a.counterparties;e.invoiceData=n,e.employeeData=r,e.counterpartyData=c})),Object(ke.a)(Da,_a.fulfilled,(function(e,t){e.invoiceData=e.invoiceData.filter((function(e){return e.id!==t.payload}))})),Object(ke.a)(Da,Ya.fulfilled,(function(e,t){e.productData=t.payload})),Object(ke.a)(Da,Ka.fulfilled,(function(e,t){e.editorData.items=t.payload,e.oldEditorData=Object(C.a)({},e.editorData)})),Da)}),rn=nn.actions,cn=rn.setActionPending,on=rn.setError,un=rn.setEditorData,ln=(rn.setOldEditorData,rn.addItem),sn=rn.updateItem,dn=rn.deleteItem,pn=nn.reducer,mn=function(e){var t=Object(u.c)(),a=Object(u.d)((function(e){return e.invoice.editorData})),r=Object(u.d)((function(e){return e.invoice.invoiceData}));Object(n.useEffect)((function(){a.id||c()}),[]),pt((function(){o()}),[a.date]);var c=function(){var n=e===va("receipt")?null:0;t(un(Object(C.a)(Object(C.a)({},a),{},{type:e,paymentType:n},i())))},o=function(){t(un(Object(C.a)(Object(C.a)({},a),i())))},i=function(){return{number:function(e,t,a){var n=1,r=new Date(t);a.forEach((function(t){return Oa(e,r.getMonth(),t)&&n++}));var c=ha[e].symbol,o=(""+n).padStart(4,"0"),i=Object(fa.default)(r,"MM"),u=Object(fa.default)(r,"yyyy");return"".concat(c," ").concat(o,"/").concat(i,"/").concat(u)}(e,a.date,r),paymentDeadline:e!==va("receipt")?Object(ma.a)(new Date(a.date),{days:7}).toISOString():null}};return{update:function(e,n){return function(r){var c=r.target?r.target.value:r;t(un(n?Object(C.a)(Object(C.a)({},a),{},{employee:Object(C.a)(Object(C.a)({},a.employee),{},Object(ke.a)({},e,c))}):Object(C.a)(Object(C.a)({},a),{},Object(ke.a)({},e,c))))}},select:function(e){t(un(Object(C.a)(Object(C.a)({},a),{},{employee:e})))},editorData:a}},fn=function(e){var t=e.type,a=Object(O.a)().t,n=pa(mn(t));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement(y.a,{variant:"h6"},a("invoices.editor.details")),n.Clear),r.a.createElement(Pt.a,{mt:2},r.a.createElement(Nt.a,{container:!0,spacing:2},r.a.createElement(Nt.a,{xs:12,sm:6,item:!0},n.Number),r.a.createElement(Nt.a,{xs:12,sm:6,item:!0},n.Date),r.a.createElement(Nt.a,{xs:6,item:!0},n.FullName),r.a.createElement(Nt.a,{xs:6,item:!0},n.PhoneNumber))))},bn=function(e){var t=e.label,a=Object(ve.a)(e,["label"]);return r.a.createElement(pe.a,Object.assign({variant:"outlined",color:"primary",size:"large"},a),t)},vn=function(e,t){return On(e*En(t))},gn=function(e,t){return On(e/En(t))},hn=function(e,t){return t.reduce((function(t,a){return t+Number(a[e])*Number(a.count)}),0)||0},On=function(e){return isNaN(e)?void 0:Number(Math.round(e+"e2")+"e-2")},En=function(e){switch(e){case 0:return 1.23;case 1:return 1.08;case 2:return 1.05;default:return 1}},jn=Object(k.a)((function(e){return{bottomContainer:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"flex-start"},addButton:{marginRight:e.spacing(2),marginBottom:e.spacing(2)},summaryContainer:{padding:e.spacing(3),textAlign:"end"}}})),yn=function(){var e=Object(O.a)().t,t=Object(u.d)((function(e){return e.invoice.editorData.items})),a=hn("netPrice",t),n=hn("grossPrice",t),c=jn();return r.a.createElement(Yt.a,{variant:"outlined",className:c.summaryContainer},r.a.createElement(y.a,{variant:"body1"},e("invoices.editor.netTotal",{sum:a.toFixed(2)})),r.a.createElement(y.a,{variant:"body1"},e("invoices.editor.vatTotal",{sum:(n-a).toFixed(2)})),r.a.createElement(y.a,{variant:"body1",color:"primary"},e("invoices.editor.grossTotal",{sum:n.toFixed(2)})))},xn=function(){var e=Object(u.c)();return function(){var t=Object(Ie.a)(Ne.a.mark((function t(a){var n,r,c,o;return Ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.action,r=a.onSuccess,c=a.rejectOnError,o=void 0!==c&&c,t.next=3,e(n).then(_.e).then((function(e){return r&&r(e)})).catch((function(e){if(o)throw new Error}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},wn=function(){var e=Object(u.c)(),t=xn(),a=Object(u.d)((function(e){return e.invoice.editorData})),r=a.items;Object(n.useEffect)((function(){t({action:Ya(),onSuccess:function(){return a.id&&e(Ka(a.id))}})}),[]),Object(n.useEffect)((function(){0===r.length&&c()}),[r]);var c=function(){e(ln({editorId:Object(_.d)(),name:"",description:"",count:"",unit:"",netPrice:"",grossPrice:"",vatRate:0}))};return{add:c,update:function(t,a){return function(n){var r="count"===a?n.target.valueAsNumber:n.target.value;e(sn(Object(C.a)(Object(C.a)({},t),{},Object(ke.a)({},a,r))))}},remove:function(t){return function(){e(dn(t))}},select:function(t,a){e(sn(Object(C.a)(Object(C.a)({},t),a)))}}},Dn=a(250),Cn=function(e){var t=e.children,a=Object(ve.a)(e,["children"]);return r.a.createElement(Dn.a,Object.assign({select:!0,variant:"outlined",fullWidth:!0},a),t)},kn=function(e){var t=Object(O.a)().t,a=["23%","8%","5%","0%",t("products.vatExempt"),t("products.vatNotApplicable")];return r.a.createElement(Cn,e,a.map((function(e,t){return r.a.createElement(z.a,{key:t,value:t},e)})))},Pn=function(e){var t=e.update,a=e.select,n=e.remove,c=Object(O.a)().t,o=Object(u.d)((function(e){return e.invoice.productData})),i=function(e,t){return function(n){var r,c=n.target.valueAsNumber,o="netPrice"===e?vn(c,t.vatRate):gn(c,t.vatRate),i="netPrice"===e?"grossPrice":"netPrice";a(t,(r={},Object(ke.a)(r,e,c),Object(ke.a)(r,i,o),r))}},l=function(e){return function(t){var n=t.target.value;a(e,{vatRate:n,grossPrice:vn(e.netPrice,n)})}};return function(e){return{Name:r.a.createElement(aa,{disabled:Boolean(e.id),options:o,getOptionLabel:function(e){return e.name},onChange:function(t,n,r){return"select-option"===r&&a(e,n)},inputValue:e.name,renderOption:function(e){var t=e.name,a=e.netPrice;return r.a.createElement(y.a,{variant:"body1"},"".concat(t," (").concat(a.toFixed(2)," z\u0142)"))},textProps:{label:c("products.name"),validators:["required"],onChange:t(e,"name"),value:e.name}}),Description:r.a.createElement(ta,{disabled:Boolean(e.id),label:c("products.description"),onChange:t(e,"description"),value:e.description}),Count:r.a.createElement(ta,{label:c("products.count"),validators:["required","positiveInt"],type:"number",onChange:t(e,"count"),value:e.count||""}),Unit:r.a.createElement(ta,{label:c("products.unit"),validators:["required"],onChange:t(e,"unit"),value:e.unit}),NetPrice:r.a.createElement(ta,{disabled:Boolean(e.id),label:c("products.netPrice"),validators:["currency"],type:"number",onChange:i("netPrice",e),value:e.netPrice||""}),GrossPrice:r.a.createElement(ta,{disabled:Boolean(e.id),label:c("products.grossPrice"),validators:["currency"],type:"number",onChange:i("grossPrice",e),value:e.grossPrice||""}),VatRate:r.a.createElement(kn,{disabled:Boolean(e.id),label:c("products.vatRate"),onChange:l(e),value:e.vatRate}),Delete:r.a.createElement(Pt.a,{mt:.5,ml:1,mr:-2},r.a.createElement(j.a,{onClick:n(e.editorId)},r.a.createElement(sa.a,{color:"primary"})))}}},Nn=function(){var e=wn(),t=Pn(e);return{actions:e,itemRows:Object(u.d)((function(e){return e.invoice.editorData.items})).map((function(e){return{editorId:e.editorId,fields:t(e)}}))}},In=function(){var e=Object(O.a)().t,t=Nn(),a=t.actions,n=t.itemRows,c=jn();return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"h6"},e("invoices.editor.products")),r.a.createElement(Pt.a,{mt:2,mb:4},n.map((function(e){var t=e.editorId,a=e.fields;return r.a.createElement("div",{key:t},r.a.createElement(Nt.a,{container:!0,spacing:2},r.a.createElement(Nt.a,{item:!0,xs:12,xl:5},r.a.createElement(Nt.a,{container:!0,spacing:2},r.a.createElement(Nt.a,{item:!0,xs:12,sm:6,xl:6},a.Name),r.a.createElement(Nt.a,{item:!0,xs:12,sm:6,xl:6},a.Description))),r.a.createElement(Nt.a,{item:!0,xs:12,xl:7},r.a.createElement(Nt.a,{container:!0,spacing:2},r.a.createElement(Nt.a,{item:!0,xs:6,md:2,xl:2},a.Count),r.a.createElement(Nt.a,{item:!0,xs:6,md:2,xl:2},a.Unit),r.a.createElement(Nt.a,{item:!0,xs:6,md:3,xl:3},a.NetPrice),r.a.createElement(Nt.a,{item:!0,xs:6,md:3,xl:3},a.GrossPrice),r.a.createElement(Nt.a,{item:!0,xs:6,md:2,xl:2,className:"d-flex"},a.VatRate,a.Delete)))),r.a.createElement(Pt.a,{my:3},r.a.createElement(S.a,null)))})),r.a.createElement("div",{className:c.bottomContainer},r.a.createElement(bn,{label:e("table.add"),onClick:a.add,className:c.addButton}),r.a.createElement(yn,null))))},Sn=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pt.a,{mb:4},r.a.createElement(Nt.a,{container:!0},r.a.createElement(Nt.a,{item:!0,xs:12,lg:5},r.a.createElement(fn,{type:va("receipt")})))),r.a.createElement(In,null))},Tn=function(){var e=Object(u.c)(),t=Object(u.d)((function(e){return e.invoice.editorData})),a=t.counterparty;return{update:function(n){return function(r){e(un(Object(C.a)(Object(C.a)({},t),{},{counterparty:Object(C.a)(Object(C.a)({},a),{},Object(ke.a)({},n,r.target.value))})))}},select:function(a){e(un(Object(C.a)(Object(C.a)({},t),{},{counterparty:a})))},counterparty:a}},Rn=function(e){var t=e.update,a=e.select,n=e.counterparty,c=Object(O.a)().t,o=Object(u.d)((function(e){return e.invoice.counterpartyData})),i=function(e,c){return r.a.createElement(aa,{disabled:Boolean(null===n||void 0===n?void 0:n.id),options:o,getOptionLabel:function(t){return t[e]},onChange:function(e,t,n){return"select-option"===n&&a(t)},inputValue:(null===n||void 0===n?void 0:n[e])||"",textProps:{label:c,validators:["nip"===e?"validNip":"required"],onChange:t(e),value:null===n||void 0===n?void 0:n[e]}})};return{Name:i("name",c("counterparties.name")),Nip:i("nip",c("counterparties.nip")),Address:r.a.createElement(ta,{disabled:Boolean(null===n||void 0===n?void 0:n.id),label:c("counterparties.address"),validators:["required"],onChange:t("address"),value:(null===n||void 0===n?void 0:n.address)||""}),PostalCode:r.a.createElement(ta,{disabled:Boolean(null===n||void 0===n?void 0:n.id),label:c("counterparties.postalCode"),validators:["postalCode"],onChange:t("postalCode"),value:(null===n||void 0===n?void 0:n.postalCode)||""}),City:r.a.createElement(ta,{disabled:Boolean(null===n||void 0===n?void 0:n.id),label:c("counterparties.city"),validators:["required"],onChange:t("city"),value:(null===n||void 0===n?void 0:n.city)||""}),Clear:r.a.createElement(da,{onClick:function(){return a(null)}})}},An=function(){var e=Object(O.a)().t,t=Rn(Tn());return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement(y.a,{variant:"h6"},e("invoices.editor.counterparty")),t.Clear),r.a.createElement(Pt.a,{mt:2,mb:4},r.a.createElement(Nt.a,{container:!0,spacing:2},r.a.createElement(Nt.a,{item:!0,xs:12,sm:8},t.Name),r.a.createElement(Nt.a,{item:!0,xs:12,sm:4},t.Nip),r.a.createElement(Nt.a,{item:!0,xs:12,sm:5},t.Address),r.a.createElement(Nt.a,{item:!0,xs:6,sm:3},t.PostalCode),r.a.createElement(Nt.a,{item:!0,xs:6,sm:4},t.City))))},Fn=function(){var e=Object(u.c)(),t=Object(u.d)((function(e){return e.invoice.editorData}));return{update:function(a){return function(n){var r=n.target?n.target.value:n;e(un(Object(C.a)(Object(C.a)({},t),{},Object(ke.a)({},a,r))))}},editorData:t}},Bn=function(){var e=Object(O.a)().t,t=e("invoices.paymentTypes",{returnObjects:!0}),a=Fn(),n=a.update,c=a.editorData;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"h6"},e("invoices.editor.payment")),r.a.createElement(Pt.a,{mt:2,mb:4},r.a.createElement(Nt.a,{container:!0,spacing:2},r.a.createElement(Nt.a,{item:!0,xs:12,sm:6,lg:3,xl:2},r.a.createElement(Cn,{label:e("invoices.paymentType"),onChange:n("paymentType"),value:c.paymentType||0},t.map((function(e,t){return r.a.createElement(z.a,{key:t,value:t},e)})))),r.a.createElement(Nt.a,{item:!0,xs:12,sm:6,lg:3,xl:2},r.a.createElement(la,{minDate:Boolean(c.id)&&new Date(c.date),label:e("invoices.deadline"),onChange:n("paymentDeadline"),value:new Date(c.paymentDeadline)})))))},Mn=function(e){var t=e.type;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Nt.a,{container:!0,spacing:4},r.a.createElement(Nt.a,{item:!0,xs:12,lg:5},r.a.createElement(fn,{type:t})),r.a.createElement(Nt.a,{item:!0,xs:12,lg:7},r.a.createElement(An,null))),r.a.createElement(In,null),r.a.createElement(Bn,null))},Ln=Object(k.a)((function(e){return{contentContainer:{margin:e.spacing(3,0)}}})),zn=function(){var e=Ln(),t=function(e){return function(t){return r.a.createElement(Mn,Object.assign({},t,{type:va(e)}))}};return r.a.createElement("div",{className:e.contentContainer},r.a.createElement(ae.b,{exact:!0,path:"/invoices/vat",render:t("vat")}),r.a.createElement(ae.b,{exact:!0,path:"/invoices/proforma",render:t("proforma")}),r.a.createElement(ae.b,{exact:!0,path:"/invoices/receipt",component:Sn}))},Vn=Object(k.a)((function(e){return{backdrop:Object(ke.a)({zIndex:e.zIndex.drawer+1},e.breakpoints.up("lg"),{paddingLeft:252}),editorContainer:{margin:e.spacing(3,0),padding:e.spacing(3)},footerDivider:{margin:e.spacing(0,-3)},footerContainer:{marginTop:e.spacing(3),width:"100%",display:"flex",justifyContent:"flex-end"}}})),qn=function(){var e=Object(O.a)().t,t=Vn();return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{className:t.footerDivider}),r.a.createElement("div",{className:t.footerContainer},r.a.createElement(Pt.a,{mr:1},r.a.createElement(ct,{text:e("save")})),r.a.createElement(pe.a,{component:i.b,to:"/invoices",variant:"outlined",color:"primary",size:"large"},e("cancel"))))},Wn=function(){var e=Object(u.c)(),t=Object(ae.g)(),a=xn(),r=Object(u.d)((function(e){return e.invoice.editorData})),c=Object(u.d)((function(e){return e.invoice.oldEditorData})),o=Object(u.d)((function(e){return e.invoice.actionPending})),i=Object(u.d)((function(e){return e.invoice.error}));Object(n.useEffect)((function(){return function(){return e(un(ba))}}),[]);return{onSubmit:function(e){e.preventDefault();var n=Object(C.a)(Object(C.a)({},r),{},{netTotal:hn("netPrice",r.items),grossTotal:hn("grossPrice",r.items)}),o=r.id?Ja({oldInvoice:c,invoice:n}):Ua(n);a({action:o,onSuccess:function(){return t.replace("/invoices")}})},actionPending:o,error:i,onErrorDialogClose:function(){e(on(null)),!r.id||"getProducts"!==i&&"getInvoiceItems"!==i||t.replace("/invoices")}}},Un=function(){var e=Wn(),t=e.onSubmit,a=e.actionPending,n=e.error,c=e.onErrorDialogClose,o=Vn();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Zt,{actionPending:a,className:o.backdrop}),r.a.createElement($t,{error:n,onClose:c}),r.a.createElement(Yt.a,{className:o.editorContainer},r.a.createElement(at,{onSubmit:t,noValidate:!0},r.a.createElement(Qt,null),r.a.createElement(zn,null),r.a.createElement(qn,null))))},Hn=a(125),Jn=a.n(Hn),_n=a(796),Gn=a(797),Yn=a(798),Kn=a(799),$n=function(e){var t=Object(O.a)().t,a=xn(),c=function(e,t){return Object(n.forwardRef)((function(a,n){return r.a.createElement(e,Object.assign({},a,{ref:n,color:"primary"},t))}))},o={Add:c(_n.a,{fontSize:"large"}),Check:c(Gn.a),Clear:c(Yn.a),Delete:c(sa.a),Edit:c(Kn.a),ResetSearch:c(Yn.a,{style:{marginRight:-16},color:"inherit"})},i={body:{emptyDataSourceMessage:t("table.empty"),addTooltip:t("table.add"),deleteTooltip:t("table.delete"),editTooltip:t("table.edit"),filterRow:{filterTooltip:t("table.filter")},editRow:{deleteText:t("table.deleteText"),cancelTooltip:t("table.cancel"),saveTooltip:t("table.save")}},header:{actions:t("table.actions")},pagination:{labelDisplayedRows:t("table.rows"),labelRowsSelect:t("table.rowsSelect"),labelRowsPerPage:t("table.rowsPerPage"),firstAriaLabel:t("table.first"),firstTooltip:t("table.first"),previousAriaLabel:t("table.previous"),previousTooltip:t("table.previous"),nextAriaLabel:t("table.next"),nextTooltip:t("table.next"),lastAriaLabel:t("table.last"),lastTooltip:t("table.last")},toolbar:{nRowsSelected:t("table.rowsSelected"),searchTooltip:t("table.search"),searchPlaceholder:t("table.search")}},u=null;if(e){var l=e.createAction,s=e.updateAction,d=e.deleteAction;u={onRowAdd:function(e){return a({action:l(e),rejectOnError:!0})},onRowUpdate:function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,n){var r;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=Va(n,t))){e.next=4;break}return e.next=4,a({action:s(Object(C.a)({id:t.id},r)),rejectOnError:!0});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),onRowDelete:function(e){return a({action:d(e.id),rejectOnError:!0})}}}return{options:{searchFieldVariant:"outlined",addRowPosition:"first",tableLayout:"fixed",draggable:!1},icons:o,localization:i,editable:u}},Zn=Object(k.a)((function(e){return{tableContainer:{margin:e.spacing(3,0),width:"100%"}}})),Qn=function(e){var t=e.data,a=e.editableConfig,n=void 0===a?null:a,c=Object(ve.a)(e,["data","editableConfig"]),o=$n(n),i=o.options,u=o.icons,l=o.localization,s=o.editable,d=Zn();return r.a.createElement("div",{className:d.tableContainer},r.a.createElement(Jn.a,Object.assign({data:t,options:i,icons:u,localization:l,editable:s},c)))},Xn=function(e){var t=e.anchor,a=e.menuData,n=e.closeMenu,c=e.openDeleteDialog,o=Object(O.a)().t,l=Object(u.c)(),s=Object(u.d)((function(e){return e.invoice.editorData})),d=a||{},p=d.id,m=d.type,f=void 0!==m&&"/invoices/".concat(ga(m));return r.a.createElement(L.a,{anchorEl:t,open:Boolean(t),onClose:n},r.a.createElement(z.a,{component:i.b,to:f,onClick:function(){a.tableData;var e=Object(ve.a)(a,["tableData"]);l(un(Object(C.a)(Object(C.a)({},s),e)))}},o("table.edit")),r.a.createElement(z.a,{onClick:function(){n(),c(p)}},o("table.delete")),r.a.createElement(z.a,{onClick:function(){n(),l(Ga(a))}},o("table.export")))},er=function(e){var t=e.anchor,a=e.closeMenu,n=Object(O.a)().t,c=Object(u.c)(),o=Object(ae.g)(),i=n("invoices.options",{returnObjects:!0}),l=Object(u.d)((function(e){return e.user.userData}));return r.a.createElement(L.a,{anchorEl:t,open:Boolean(t),onClose:a},i.map((function(e,t){return r.a.createElement(z.a,{key:t,onClick:(n=e.id,function(){if(null===l.nip)return a(),void c(on("createInvoice"));o.replace("/invoices/".concat(n))})},e.label);var n})))},tr=function(e){var t=e.open,a=e.onClose,n=e.id,c=Object(O.a)().t,o=Object(u.c)();return r.a.createElement(we,{open:t,onClose:a,title:c("table.delete"),content:r.a.createElement(Kt.a,null,c("table.deleteText")),actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(pe.a,{onClick:function(){o(_a(n)),a()},color:"primary"},c("table.delete")),r.a.createElement(pe.a,{onClick:a,color:"primary"},c("table.cancel")))})},ar=a(800),nr=function(){var e=Object(O.a)().t,t=ht(),a=W(),c=W(),o={type:"currency",align:"left",currencySetting:{locale:"pl",currencyCode:"PLN"}},i=function(e,t){return Object(n.forwardRef)((function(a,n){return r.a.createElement(e,Object.assign({},a,{ref:n,color:"primary"},t))}))};return{columns:[{title:e("invoices.date"),field:"date",type:"date",width:190},{title:e("invoices.number"),field:"number",width:190},{title:e("invoices.counterparty"),field:"counterparty.name",width:190},Object(C.a)(Object(C.a)({title:e("invoices.netTotal"),field:"netTotal"},o),{},{width:190}),Object(C.a)(Object(C.a)({title:e("invoices.grossTotal"),field:"grossTotal"},o),{},{width:190}),{title:e("invoices.issuer"),field:"employee.fullName",width:190}],actions:[{icon:i(_n.a,{fontSize:"large"}),tooltip:e("table.add"),isFreeAction:!0,onClick:a.openMenu},{icon:i(ar.a),tooltip:e("table.more"),onClick:function(e,t){return c.openMenu(e,t)}}],dialog:t,createMenu:a,actionMenu:c}},rr=function(){var e=Object(O.a)().t,t=Object(u.c)(),a=Object(u.d)((function(e){return e.invoice.invoiceData})),c=Object(u.d)((function(e){return e.invoice.actionPending})),o=Object(u.d)((function(e){return e.invoice.error})),i=nr(),l=i.columns,s=i.actions,d=i.dialog,p=i.createMenu,m=i.actionMenu;return Object(n.useEffect)((function(){t(Ha())}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement($t,{error:o,clearAction:on}),r.a.createElement(er,{anchor:p.anchor,closeMenu:p.closeMenu}),r.a.createElement(Xn,{anchor:m.anchor,menuData:m.menuData,closeMenu:m.closeMenu,openDeleteDialog:d.openDialog}),r.a.createElement(tr,{open:d.isDialogOpen,onClose:d.closeDialog,id:d.dialogData}),r.a.createElement(Qn,{title:e("invoices.title"),isLoading:c,data:a,columns:l,actions:s}))},cr=function(){var e=Object(O.a)().t,t=Object(u.d)((function(e){return e.user.isLoggedIn}));return r.a.createElement(Pt.a,{mt:3,className:"text-center"},r.a.createElement(y.a,{variant:"h1",color:"primary"},"404"),r.a.createElement(y.a,{variant:"h2"},e("notFound.header")),r.a.createElement(Pt.a,{my:2},r.a.createElement(y.a,{variant:"h6",color:"textSecondary"},e("notFound.description"))),r.a.createElement(pe.a,{component:i.b,to:t?"/invoices":"/",variant:"contained",color:"primary"},e("notFound.button")))},or=function(){return r.a.createElement(ae.d,null,r.a.createElement(ae.b,{exact:!0,path:"/invoices",component:rr}),r.a.createElement(ae.b,{exact:!0,path:["/invoices/vat","/invoices/proforma","/invoices/receipt"],component:Un}),r.a.createElement(ae.b,{component:cr}))},ir=Object(_.b)("product/create",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,dr({method:function(){return Re().post("Products",t)},errorData:"create"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),ur=Object(_.b)("product/get",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,dr({method:function(){return Re().get("Products")},errorData:"get"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),lr=Object(_.b)("product/update",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,dr({method:function(){return Re().put("Products",t)},errorData:"update"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),sr=Object(_.b)("product/delete",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,dr({method:function(){return Re().delete("Products/".concat(t))},errorData:"delete"},n);case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),dr=function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n,r,c;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.method,r=t.errorData,a(fr(!0)),e.next=4,Ae(n(),r);case 4:if(c=e.sent,a(fr(!1)),"ERROR"!==c.type){e.next=9;break}throw a(br(c.data)),new Error(c.data);case 9:return e.abrupt("return",c.data);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),pr=Object(_.c)({name:"product",initialState:{actionPending:!1,error:null,productData:[]},reducers:{setActionPending:function(e,t){e.actionPending=t.payload},setError:function(e,t){e.error=t.payload}},extraReducers:(Ca={},Object(ke.a)(Ca,ir.fulfilled,(function(e,t){e.productData.push(t.payload)})),Object(ke.a)(Ca,ur.fulfilled,(function(e,t){e.productData=t.payload})),Object(ke.a)(Ca,lr.fulfilled,(function(e,t){var a=e.productData.findIndex((function(e){return e.id===t.payload.id}));e.productData[a]=t.payload})),Object(ke.a)(Ca,sr.fulfilled,(function(e,t){e.productData=e.productData.filter((function(e){return e.id!==t.payload}))})),Ca)}),mr=pr.actions,fr=mr.setActionPending,br=mr.setError,vr=pr.reducer,gr=function(){var e=Object(O.a)().t,t=tt(),a=t.required,n=t.validate,c=function(e){return{type:"currency",align:"left",currencySetting:{locale:"pl",currencyCode:"PLN"},editComponent:o(e)}},o=function(e){return function(t){return r.a.createElement(Hn.MTableEditField,Object.assign({},t,{onChange:i(e,t)}))}},i=function(e,t){var a=t.rowData,n=t.onRowDataChange;return function(t){var r,c="netPrice"===e?vn(t,a.vatRate):gn(t,a.vatRate),o="netPrice"===e?"grossPrice":"netPrice";n(Object(C.a)(Object(C.a)({},a),{},(r={},Object(ke.a)(r,e,t),Object(ke.a)(r,o,c),r)))}},u=function(e){var t=e.rowData,a=e.onRowDataChange;return function(e){var n=Number(e);a(Object(C.a)(Object(C.a)({},t),{},{vatRate:n,grossPrice:vn(t.netPrice,n)}))}};return{columns:[{title:e("products.name"),field:"name",width:190,validate:function(e){return a(e.name)}},{title:e("products.description"),field:"description",width:165},Object(C.a)(Object(C.a)({title:e("products.netPrice"),field:"netPrice",width:190},c("netPrice")),{},{validate:function(e){return n("currency",e.netPrice,!0)}}),Object(C.a)(Object(C.a)({title:e("products.grossPrice"),field:"grossPrice",width:190},c("grossPrice")),{},{validate:function(e){return n("currency",e.grossPrice,!0)}}),{title:e("products.vatRate"),field:"vatRate",width:190,initialEditValue:0,editComponent:function(e){return r.a.createElement(Hn.MTableEditField,Object.assign({},e,{onChange:u(e)}))},lookup:{0:"23%",1:"8%",2:"5%",3:"0%",4:e("products.vatExempt"),5:e("products.vatNotApplicable")}}],editableConfig:{createAction:ir,updateAction:lr,deleteAction:sr}}},hr=function(){var e=Object(O.a)().t,t=Object(u.c)(),a=Object(u.d)((function(e){return e.product.productData})),c=Object(u.d)((function(e){return e.product.actionPending})),o=Object(u.d)((function(e){return e.product.error})),i=gr(),l=i.columns,s=i.editableConfig;return Object(n.useEffect)((function(){t(ur())}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement($t,{error:o,clearAction:br}),r.a.createElement(Qn,{title:e("products.title"),isLoading:c,data:a,columns:l,editableConfig:s}))},Or=Object(_.b)("counterparty/create",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,wr({method:function(){return Re().post("Counterparties",t)},errorData:"create"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Er=Object(_.b)("counterparty/getDetails",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,wr({method:function(){return Re().get("Counterparties/details/".concat(t))},errorData:"details"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),jr=Object(_.b)("counterparty/get",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,wr({method:function(){return Re().get("Counterparties")},errorData:"get"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),yr=Object(_.b)("counterparty/update",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,wr({method:function(){return Re().put("Counterparties",t)},errorData:"update"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),xr=Object(_.b)("counterparty/delete",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,wr({method:function(){return Re().delete("Counterparties/".concat(t))},errorData:"delete"},n);case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),wr=function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n,r,c;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.method,r=t.errorData,a(kr(!0)),e.next=4,Ae(n(),r);case 4:if(c=e.sent,a(kr(!1)),"ERROR"!==c.type){e.next=9;break}throw a(Pr(c.data)),new Error(c.data);case 9:return e.abrupt("return",c.data);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Dr=Object(_.c)({name:"counterparty",initialState:{actionPending:!1,error:null,counterpartyData:[]},reducers:{setActionPending:function(e,t){e.actionPending=t.payload},setError:function(e,t){e.error=t.payload}},extraReducers:(ka={},Object(ke.a)(ka,Or.fulfilled,(function(e,t){e.counterpartyData.push(t.payload)})),Object(ke.a)(ka,jr.fulfilled,(function(e,t){e.counterpartyData=t.payload})),Object(ke.a)(ka,yr.fulfilled,(function(e,t){var a=e.counterpartyData.findIndex((function(e){return e.id===t.payload.id}));e.counterpartyData[a]=t.payload})),Object(ke.a)(ka,xr.fulfilled,(function(e,t){e.counterpartyData=e.counterpartyData.filter((function(e){return e.id!==t.payload}))})),ka)}),Cr=Dr.actions,kr=Cr.setActionPending,Pr=Cr.setError,Nr=Dr.reducer,Ir=a(801),Sr=Object(k.a)((function(e){return{nipEditContainer:{width:"100%",display:"inline-flex",alignItems:"center"},nipEditButton:{marginLeft:e.spacing(1)}}})),Tr=function(){var e=Object(O.a)().t,t=tt(),a=t.required,n=t.validate,c=xn(),o=Sr(),i=function(e){var t=e.rowData,a=e.onRowDataChange,n=e.value;return function(){c({action:Er(n),onSuccess:function(e){var r=e.street,c=e.propertyNumber,o=e.apartmentNumber,i=Object(ve.a)(e,["street","propertyNumber","apartmentNumber"]);a(Object(C.a)(Object(C.a)({},t),{},{address:"".concat(r," ").concat(c).concat(o&&"/".concat(o)),nip:n},i))}})}};return{columns:[{title:e("counterparties.name"),field:"name",width:190,validate:function(e){return a(e.name)}},{title:e("counterparties.nip"),field:"nip",width:190,validate:function(e){return n("validNip",e.nip,!0)},editComponent:function(e){return r.a.createElement("div",{className:o.nipEditContainer},r.a.createElement(Hn.MTableEditField,e),r.a.createElement(j.a,{onClick:i(e),color:"primary",disabled:Boolean(e.error),className:o.nipEditButton},r.a.createElement(Ir.a,null)))}},{title:e("counterparties.address"),field:"address",width:190,validate:function(e){return a(e.address)}},{title:e("counterparties.postalCode"),field:"postalCode",width:190,validate:function(e){return n("postalCode",e.postalCode,!0)}},{title:e("counterparties.city"),field:"city",width:190,validate:function(e){return a(e.city)}},{title:e("counterparties.phoneNumber"),field:"phoneNumber",width:190,validate:function(e){return n("phoneNumber",e.phoneNumber,!1)}}],editableConfig:{createAction:Or,updateAction:yr,deleteAction:xr}}},Rr=function(){var e=Object(O.a)().t,t=Object(u.c)(),a=Object(u.d)((function(e){return e.counterparty.counterpartyData})),c=Object(u.d)((function(e){return e.counterparty.actionPending})),o=Object(u.d)((function(e){return e.counterparty.error})),i=Tr(),l=i.columns,s=i.editableConfig;return Object(n.useEffect)((function(){t(jr())}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement($t,{error:o,clearAction:Pr}),r.a.createElement(Qn,{title:e("counterparties.title"),isLoading:c,data:a,columns:l,editableConfig:s}))},Ar=Object(_.b)("employee/create",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Lr({method:function(){return Re().post("Employees",t)},errorData:"create"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Fr=Object(_.b)("employee/get",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Lr({method:function(){return Re().get("Employees")},errorData:"get"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Br=Object(_.b)("employee/update",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Lr({method:function(){return Re().put("Employees",t)},errorData:"update"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Mr=Object(_.b)("employee/delete",function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Lr({method:function(){return Re().delete("Employees/".concat(t))},errorData:"delete"},n);case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Lr=function(){var e=Object(Ie.a)(Ne.a.mark((function e(t,a){var n,r,c;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.method,r=t.errorData,a(qr(!0)),e.next=4,Ae(n(),r);case 4:if(c=e.sent,a(qr(!1)),"ERROR"!==c.type){e.next=9;break}throw a(Wr(c.data)),new Error(c.data);case 9:return e.abrupt("return",c.data);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),zr=Object(_.c)({name:"employee",initialState:{actionPending:!1,error:null,employeeData:[]},reducers:{setActionPending:function(e,t){e.actionPending=t.payload},setError:function(e,t){e.error=t.payload}},extraReducers:(Pa={},Object(ke.a)(Pa,Ar.fulfilled,(function(e,t){e.employeeData.push(t.payload)})),Object(ke.a)(Pa,Fr.fulfilled,(function(e,t){e.employeeData=t.payload})),Object(ke.a)(Pa,Br.fulfilled,(function(e,t){var a=e.employeeData.findIndex((function(e){return e.id===t.payload.id}));e.employeeData[a]=t.payload})),Object(ke.a)(Pa,Mr.fulfilled,(function(e,t){e.employeeData=e.employeeData.filter((function(e){return e.id!==t.payload}))})),Pa)}),Vr=zr.actions,qr=Vr.setActionPending,Wr=Vr.setError,Ur=zr.reducer,Hr=function(){var e=Object(O.a)().t,t=tt(),a=t.required,n=t.validate;return{columns:[{title:e("employees.fullName"),field:"fullName",width:190,validate:function(e){return a(e.fullName)}},{title:e("employees.phoneNumber"),field:"phoneNumber",width:190,validate:function(e){return n("phoneNumber",e.phoneNumber,!0)}},{title:e("employees.dateAdded"),field:"dateAdded",width:190,type:"datetime",editable:"never"}],editableConfig:{createAction:Ar,updateAction:Br,deleteAction:Mr}}},Jr=function(){var e=Object(O.a)().t,t=Object(u.c)(),a=Object(u.d)((function(e){return e.employee.employeeData})),c=Object(u.d)((function(e){return e.employee.actionPending})),o=Object(u.d)((function(e){return e.employee.error})),i=Hr(),l=i.columns,s=i.editableConfig;return Object(n.useEffect)((function(){t(Fr())}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement($t,{error:o,clearAction:Wr}),r.a.createElement(Qn,{title:e("employees.title"),isLoading:c,data:a,columns:l,editableConfig:s}))},_r=function(){return r.a.createElement("div",null)},Gr=function(){return r.a.createElement(ae.d,null,r.a.createElement(ae.b,{exact:!0,path:["/","/login","/register","/resetPassword","/changePassword","/confirmEmail"],component:Gt}),r.a.createElement(kt,{path:"/invoices",component:or}),r.a.createElement(kt,{exact:!0,path:"/products",component:hr}),r.a.createElement(kt,{exact:!0,path:"/counterparties",component:Rr}),r.a.createElement(kt,{exact:!0,path:"/employees",component:Jr}),r.a.createElement(kt,{exact:!0,path:"/dataVisualization",component:_r}),r.a.createElement(ae.b,{component:cr}))},Yr=a(470),Kr=a(471),$r=function(){var e=Object(u.d)((function(e){return e.user.isLoggedIn})),t=Object(u.d)((function(e){return e.app.theme})),a=Object(f.a)("light"===t?Yr:Kr);return r.a.createElement(b.a,{theme:a},r.a.createElement(v.a,null),r.a.createElement(n.Suspense,{fallback:r.a.createElement(Ct,null)},r.a.createElement(wt,null),r.a.createElement(g.a,e&&{className:"logged-in-container"},r.a.createElement(h.a,null),r.a.createElement(Gr,null))))},Zr=a(63),Qr=Object(Zr.c)({app:X,user:Ke,invoice:pn,counterparty:Nr,employee:Ur,product:vr}),Xr=Object(_.a)({reducer:function(e,t){return"user/logout"===t.type&&(e=void 0),Qr(e,t)}});a(742);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,null,r.a.createElement(u.a,{store:Xr},r.a.createElement($r,null)))),document.getElementById("root"))}},[[484,1,2]]]);
//# sourceMappingURL=main.6d01baba.chunk.js.map