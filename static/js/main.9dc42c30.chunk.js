(this["webpackJsonpweb-invoicer-frontend"]=this["webpackJsonpweb-invoicer-frontend"]||[]).push([[0],{439:function(e){e.exports=JSON.parse('{"palette":{"type":"light","background":{"paper":"rgba(245, 245, 245, 1)","default":"rgba(255, 255, 255, 1)"},"primary":{"light":"rgba(99, 164, 255, 1)","main":"rgba(25, 118, 210, 1)","dark":"rgba(0, 75, 160, 1)","contrastText":"rgba(255, 255, 255, 1)"},"secondary":{"light":"rgba(255, 84, 122, 1)","main":"rgba(220, 0, 78, 1)","dark":"rgba(163, 0, 39, 1)","contrastText":"rgba(255, 255, 255, 1)"},"error":{"light":"rgba(99, 164, 255, 1)","main":"rgba(25, 118, 210, 1)","dark":"rgba(0, 75, 160, 1)","contrastText":"rgba(255, 255, 255, 1)"},"warning":{"light":"#ffb74d","main":"#ff9800","dark":"#f57c00","contrastText":"rgba(0, 0, 0, 0.87)"},"info":{"light":"#64b5f6","main":"#2196f3","dark":"#1976d2","contrastText":"#fff"},"success":{"light":"#81c784","main":"#4caf50","dark":"#388e3c","contrastText":"rgba(0, 0, 0, 0.87)"},"text":{"primary":"rgba(0, 0, 0, 0.87)","secondary":"rgba(0, 0, 0, 0.54)","disabled":"rgba(0, 0, 0, 0.38)","hint":"rgba(0, 0, 0, 0.38)"}}}')},440:function(e){e.exports=JSON.parse('{"palette":{"type":"dark","primary":{"light":"rgba(195, 253, 255, 1)","main":"rgba(144, 202, 249, 1)","dark":"rgba(93, 153, 198, 1)","contrastText":"rgba(0, 0, 0, 0.87)"},"secondary":{"light":"rgba(255, 193, 227, 1)","main":"rgba(244, 143, 177, 1)","dark":"rgba(191, 95, 130, 1)","contrastText":"rgba(0, 0, 0, 0.87)"},"error":{"light":"rgba(195, 253, 255, 1)","main":"rgba(144, 202, 249, 1)","dark":"rgba(93, 153, 198, 1)","contrastText":"rgba(0, 0, 0, 0.87)"},"warning":{"light":"#ffb74d","main":"#ff9800","dark":"#f57c00","contrastText":"rgba(0, 0, 0, 0.87)"},"info":{"light":"#64b5f6","main":"#2196f3","dark":"#1976d2","contrastText":"#fff"},"success":{"light":"#81c784","main":"#4caf50","dark":"#388e3c","contrastText":"rgba(0, 0, 0, 0.87)"},"text":{"primary":"#fff","secondary":"rgba(255, 255, 255, 0.7)","disabled":"rgba(255, 255, 255, 0.5)","hint":"rgba(255, 255, 255, 0.5)","icon":"rgba(255, 255, 255, 0.5)"}}}')},451:function(e,t,a){e.exports=a(711)},710:function(e,t,a){},711:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),i=a(13),u=a(295),l=a(181),s=a(432),d=a(434);u.a.use(s.a).use(d.a).use(l.e).init({fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},backend:{loadPath:"/web-invoicer-frontend/locales/{{lng}}/{{ns}}.json"}});u.a;var p,m,f,b=a(49),g=a(133),h=a(744),v=a(749),E=a(748),O=a(357),j=a(768),y=a(740),w=a(283),x=a(88),D=a(741),k=a(742),C=a(80),P=a(36),N=a(356),S=Object(N.a)((function(e){return{drawer:{width:250},drawerPaper:{width:250},drawerHeader:Object(P.a)({width:250,padding:e.spacing(0,1),display:"flex",alignItems:"center",justifyContent:"flex-end"},e.mixins.toolbar),drawerHighlight:{background:e.palette.primary.main,"&:hover":{background:e.palette.primary.main}},drawerHighlightText:{color:e.palette.getContrastText(e.palette.primary.main)}}})),T=S,R=function(e){var t=e.children,a=T();return r.a.createElement(C.a,{variant:"permanent",anchor:"left",className:a.drawer,classes:{paper:a.drawerPaper}},r.a.createElement(O.a,null),t)},A=a(734),I=a(733),L=function(e){var t=e.open,a=e.onClose,n=e.children,c=T();return r.a.createElement(C.a,{anchor:"left",open:t,onClose:a},r.a.createElement("div",{className:c.drawerHeader},r.a.createElement(w.a,{onClick:a},r.a.createElement(I.a,null))),r.a.createElement(A.a,null),n)},F=a(718),B=a(715),M=a(735),z=a(360),q=a(213),U=a(361),V=a(736),W=a(46),H=function(){var e=Object(n.useState)(null),t=Object(W.a)(e,2),a=t[0],r=t[1];return{anchor:a,openMenu:function(e){return r(e.currentTarget)},closeMenu:function(){return r(null)}}},J=function(){var e=Object(j.a)(),t=e.t,a=e.i18n,n=t("languages",{returnObjects:!0}),c=H(),o=c.anchor,i=c.openMenu,u=c.closeMenu,l=function(e){return function(){n[e].code!==a.language&&a.changeLanguage(n[e].code),u()}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{button:!0,onClick:i},r.a.createElement(M.a,null,r.a.createElement(V.a,null)),r.a.createElement(z.a,{primary:t("drawer.language")})),r.a.createElement(q.a,{anchorEl:o,open:Boolean(o),onClose:u},n.map((function(e,t){return r.a.createElement(U.a,{key:t,selected:a.language.startsWith(e.code),onClick:l(t)},e.label)}))))},_=a(737),K=a(738),$=a(20),G={theme:localStorage.getItem("theme")||"dark",isDialogOpen:!1,isDrawerOpen:!1},Z=Object($.c)({name:"app",initialState:G,reducers:{setTheme:function(e,t){e.theme=t.payload},setDialogOpen:function(e,t){e.isDialogOpen=t.payload},setDrawerOpen:function(e,t){e.isDrawerOpen=t.payload}}}),Q=Z.actions,X=Q.setTheme,Y=Q.setDialogOpen,ee=Q.setDrawerOpen,te=Z.reducer,ae=function(){var e=Object(j.a)().t,t=Object(i.c)(),a=Object(i.d)((function(e){return e.app.theme}));return r.a.createElement(B.a,{button:!0,onClick:function(){var e="light"===a?"dark":"light";localStorage.setItem("theme",e),t(X(e))}},r.a.createElement(M.a,null,"dark"===a?r.a.createElement(_.a,null):r.a.createElement(K.a,null)),r.a.createElement(z.a,{primary:e("drawer.theme")}))},ne=a(427),re=a(40),ce=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){return e.app.isDialogOpen})),a=Object(re.g)();return{openDialogForType:function(t){a.replace("/".concat(t)),e(Y(!0))},openDialog:function(){return e(Y(!0))},closeDialog:function(){return e(Y(!1))},onExited:function(){return a.replace("/")},isDialogOpen:t}},oe=function(){var e=Object(j.a)().t,t=ce().openDialogForType,a=T();return r.a.createElement(ne.a,{smUp:!0},r.a.createElement(A.a,null),r.a.createElement(F.a,null,r.a.createElement(B.a,{button:!0,onClick:function(){return t("login")}},r.a.createElement(z.a,{primary:e("signIn")})),r.a.createElement(B.a,{button:!0,onClick:function(){return t("register")},className:a.drawerHighlight},r.a.createElement(z.a,{primary:e("signUp"),className:a.drawerHighlightText}))))},ie=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,null,r.a.createElement(J,null),r.a.createElement(ae,null)),r.a.createElement(oe,null))},ue=a(362),le=function(e){var t=e.closeDrawer,a=e.isDrawerPermanent,n=Object(j.a)().t,c=Object(re.h)(),o=n("drawer.user",{returnObjects:!0}),i=function(){return!a&&t()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,null,o.map((function(e,t){return r.a.createElement(B.a,{button:!0,key:t,component:b.b,to:e.pathname,replace:c.pathname===e.pathname,selected:c.pathname===e.pathname,onClick:i},r.a.createElement(M.a,null,r.a.createElement(ue.a,null,e.icon)),r.a.createElement(z.a,{primary:e.text}))}))),r.a.createElement(A.a,null),r.a.createElement(F.a,null,r.a.createElement(J,null),r.a.createElement(ae,null)))},se=a(719),de=a(21),pe=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){return e.app.isDrawerOpen})),a=Object(i.d)((function(e){return e.user.isLoggedIn})),n=Object(se.a)(Object(de.a)().breakpoints.up("lg"));return{openDrawer:function(){return e(ee(!0))},closeDrawer:function(){return e(ee(!1))},isDrawerOpen:t,isDrawerPermanent:a&&n}},me=function(e){var t=e.isLoggedIn,a=pe(),n=a.closeDrawer,c=a.isDrawerOpen,o=a.isDrawerPermanent,i=o?R:L,u=t?le:ie;return r.a.createElement(i,{open:c,onClose:n},r.a.createElement(u,{closeDrawer:n,isDrawerPermanent:o}))},fe=a(363),be=Object(N.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1},appBarSpacer:{marginRight:e.spacing(1)},appBarLogo:{marginRight:4},appBarTitle:{userSelect:"none",flexGrow:1}}})),ge=be,he=function(){var e=Object(j.a)().t,t=ce().openDialogForType,a=ge();return r.a.createElement(ne.a,{xsDown:!0},r.a.createElement(fe.a,{color:"inherit",onClick:function(){return t("login")},className:a.appBarSpacer},e("signIn")),r.a.createElement(fe.a,{variant:"outlined",color:"inherit",onClick:function(){return t("register")}},e("signUp")))},ve=a(739),Ee=a(25),Oe=a(14),je=a.n(Oe),ye=a(22),we=a(435),xe=a.n(we),De=function(){return xe.a.create({baseURL:"https://api.webinvoicer.c1rcle.me",timeout:1e4,headers:localStorage.getItem("token")?{Authorization:"Bearer "+localStorage.getItem("token")}:{}})},ke=function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n,r;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n=null;case 9:return r=n&&n.status>=200&&n.status<300,e.abrupt("return",r?n:{type:"ERROR",data:a});case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),Ce=Object($.b)("user/login",function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n,r;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Ae({endpoint:"users/authenticate",payload:t,errorData:"login"},n);case 3:return r=e.sent,n(ee(!1)),localStorage.setItem("token",r.token),localStorage.setItem("userData",JSON.stringify(r.userData)),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Pe=Object($.b)("user/refreshToken",function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n,r;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Ae({endpoint:"users/refreshToken",errorData:"refreshToken"},n);case 3:return r=e.sent,localStorage.setItem("token",r),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Ne=Object($.b)("user/register",function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Ae({endpoint:"users/register",payload:t,errorData:"register"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Se=Object($.b)("user/confirmEmail",function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Ae({endpoint:"users/confirm",payload:t,errorData:"confirmEmail"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Te=Object($.b)("user/resetPassword",function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Ae({endpoint:"users/resetPassword",payload:{email:t},errorData:"resetPassword"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Re=Object($.b)("user/changeResetPassword",function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Ae({endpoint:"users/changeResetPassword",payload:t,errorData:"changePassword"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Ae=(Object($.b)("user/changePassword",function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Ae({endpoint:"users/changePassword",payload:t,errorData:"changePassword"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n,r,c,o;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.endpoint,r=t.payload,c=t.errorData,a(Fe(!0)),e.next=4,ke(De().post(n,r),c);case 4:if(o=e.sent,a(Fe(!1)),"ERROR"!==o.type){e.next=9;break}throw a(Be(o.data)),new Error(o.data);case 9:return e.abrupt("return",o.data);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Ie=Object($.c)({name:"user",initialState:{actionPending:!1,error:null,userData:null,isLoggedIn:!1},reducers:{setActionPending:function(e,t){e.actionPending=t.payload},setError:function(e,t){e.error=t.payload},setUserData:function(e,t){e.userData=t.payload,e.isLoggedIn=!0},logout:function(e){e.userData=null,e.isLoggedIn=!1}},extraReducers:Object(Ee.a)({},Ce.fulfilled,(function(e,t){e.userData=t.payload.userData,e.isLoggedIn=!0}))}),Le=Ie.actions,Fe=Le.setActionPending,Be=Le.setError,Me=Le.setUserData,ze=Le.logout,qe=Ie.reducer,Ue=function(){var e=Object(i.c)();return function(){localStorage.removeItem("token"),localStorage.removeItem("userData"),e(ze())}},Ve=a(223),We=function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])},He=function(){var e=Object(i.c)(),t=Object(Ve.a)(localStorage.getItem("token")).exp,a=function(){return 1e3*t-(new Date).getTime()-3e4},n=a();We((function(){e(Pe()),n=a()}),n)},Je=function(){var e=Object(j.a)().t,t=H(),a=t.anchor,n=t.openMenu,c=t.closeMenu,o=Ue();return He(),r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{edge:"end",color:"primary",onClick:n},r.a.createElement(ve.a,{fontSize:"large"})),r.a.createElement(q.a,{anchorEl:a,open:Boolean(a),onClose:c},r.a.createElement(U.a,{component:b.b,to:"account",onClick:c},e("accountSettings")),r.a.createElement(U.a,{onClick:o},e("signOut"))))},_e=function(){var e=Object(i.c)(),t=Ue(),a=Object(i.d)((function(e){return e.user.isLoggedIn}));Object(n.useEffect)((function(){if(!a&&localStorage.getItem("token")){var n=Object(Ve.a)(localStorage.getItem("token")),r=JSON.parse(localStorage.getItem("userData"));!n||!r||n.exp<(new Date).getTime()/1e3?t():e(Me(r))}}),[])},Ke=function(){var e=Object(j.a)().t,t=Object(i.d)((function(e){return e.user.isLoggedIn})),a=pe(),n=a.openDrawer,c=a.isDrawerPermanent,o=ge();return _e(),r.a.createElement(r.a.Fragment,null,r.a.createElement(me,{isLoggedIn:t}),r.a.createElement(y.a,{position:"fixed",color:"inherit",className:o.appBar},r.a.createElement(O.a,null,!c&&r.a.createElement(w.a,{edge:"start",color:"inherit",onClick:n,className:o.appBarSpacer},r.a.createElement(D.a,null)),r.a.createElement(k.a,{fontSize:"large",className:o.appBarLogo,color:"primary"}),r.a.createElement(x.a,{variant:"h6",className:o.appBarTitle},e("title")),t?r.a.createElement(Je,null):r.a.createElement(he,null))))},$e=a(442),Ge=a(372),Ze=function(){return r.a.createElement($e.a,{open:!0},r.a.createElement(Ge.a,null))},Qe=function(e){var t=Object(i.d)((function(e){return e.user.isLoggedIn}));return r.a.createElement(r.a.Fragment,null,t||r.a.createElement(re.a,{to:"/"}),r.a.createElement(re.b,e))},Xe=a(260),Ye=a(755),et=a(746),tt=a(747),at=(0,a(18).makeStyles)((function(e){return{heroContainer:Object(Ee.a)({width:"fit-content",padding:e.spacing(2),margin:e.spacing(2,0),marginLeft:"auto",marginRight:"auto",display:"flex"},e.breakpoints.only("xs"),{flexDirection:"column"}),heroItem:Object(Ee.a)({marginTop:"auto",marginBottom:"auto"},e.breakpoints.only("xs"),{textAlign:"center"}),heroIcon:Object(Ee.a)({fontSize:"6rem",marginRight:e.spacing(2)},e.breakpoints.only("xs"),{marginRight:0}),featureCard:{height:"100%"},featureIcon:{fontSize:"5rem"}}})),nt=function(){var e=(0,Object(j.a)().t)("home.features",{returnObjects:!0}),t=at();return r.a.createElement(Ye.a,{container:!0,justify:"center",spacing:3},e.map((function(e,a){return r.a.createElement(Ye.a,{key:a,item:!0,xs:12,sm:6},r.a.createElement(et.a,{className:t.featureCard},r.a.createElement(tt.a,null,r.a.createElement("div",{className:"text-center"},r.a.createElement(ue.a,{className:t.featureIcon,color:"primary"},e.icon)),r.a.createElement(x.a,{gutterBottom:!0,variant:"h5",className:"text-center"},e.header),r.a.createElement(x.a,{variant:"body1",color:"textSecondary",className:"text-center"},e.description))))})))},rt=function(){var e=Object(j.a)().t,t=ce().openDialogForType;return r.a.createElement(Xe.a,{mb:4,className:"text-center"},r.a.createElement(x.a,{variant:"h5"},e("home.footer")),r.a.createElement(Xe.a,{mt:2},r.a.createElement(fe.a,{variant:"outlined",color:"inherit",size:"large",onClick:function(){return t("register")}},e("signUp"))))},ct=function(){var e=Object(j.a)().t,t=at();return r.a.createElement("div",{className:t.heroContainer},r.a.createElement("div",{className:t.heroItem},r.a.createElement(k.a,{className:t.heroIcon,color:"primary"})),r.a.createElement("div",{className:t.heroItem},r.a.createElement(x.a,{variant:"h4",gutterBottom:!0},e("home.hero.title")),r.a.createElement(x.a,{variant:"h6",color:"textSecondary"},e("home.hero.description"))))},ot=a(112),it=a(750),ut=a(752),lt=a(751),st=a(754),dt=a(759),pt=Object(N.a)((function(e){return{dialogTitle:function(t){var a=t.centered;return{margin:0,padding:a?e.spacing(2,8,0):e.spacing(2,8,2,3),textAlign:a?"center":"initial"}},dialogCloseButton:{position:"absolute",top:e.spacing(1),right:e.spacing(1),color:e.palette.text.secondary}}})),mt=function(e){var t=e.title,a=e.onClose,n=e.centered,c=e.closeButton,o=pt({centered:n});return r.a.createElement(st.a,{disableTypography:!0,className:o.dialogTitle},r.a.createElement(x.a,{variant:"h6"},t),c&&r.a.createElement(w.a,{className:o.dialogCloseButton,onClick:a},r.a.createElement(dt.a,null)))},ft=function(e){var t=e.open,a=e.onClose,n=e.title,c=e.centeredTitle,o=void 0!==c&&c,i=e.closeButton,u=void 0!==i&&i,l=e.content,s=e.actions,d=e.children,p=Object(ot.a)(e,["open","onClose","title","centeredTitle","closeButton","content","actions","children"]);return r.a.createElement(it.a,Object.assign({open:t,onClose:a},p),r.a.createElement(mt,{title:n,onClose:a,centered:o,closeButton:u}),l&&r.a.createElement(ut.a,null,l),s&&r.a.createElement(lt.a,null,s),d)},bt=a(745),gt=a(766),ht=(0,a(18).makeStyles)((function(e){return{dialogAlert:{margin:e.spacing(3,3,0)},dialogActions:{padding:e.spacing(2,3),justifyContent:"center"}}})),vt=function(e){var t=e.locationKey,a=Object(n.useState)(""),c=Object(W.a)(a,2),o=c[0],u=c[1],l=Object(j.a)().t,s=Object(i.c)(),d=Object(i.d)((function(e){return e.user.error})),p=ht();return Object(n.useEffect)((function(){d&&(d!==t?s(Be(null)):(u(d),setTimeout((function(){s(Be(null))}),5e3)))}),[d,s,t]),Object(n.useEffect)((function(){return function(){return s(Be(null))}}),[]),r.a.createElement(bt.a,{in:Boolean(d)},r.a.createElement(gt.a,{variant:"outlined",severity:"error",className:p.dialogAlert},o&&l("home.dialog.error.".concat(o))))},Et=a(756),Ot=a(228),jt=Object(N.a)((function(e){return{wrapper:{position:"relative"},progress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},successAlert:{margin:e.spacing(3,3,0)}}})),yt=function(e){var t=e.text,a=Object(i.d)((function(e){return e.user.actionPending})),n=jt();return r.a.createElement("div",{className:n.wrapper},r.a.createElement(fe.a,{variant:"contained",color:"primary",size:"large",type:"submit",disabled:a},t),a&&r.a.createElement(Ge.a,{size:24,className:n.progress}))},wt=function(e){var t=e.onSubmit,a=e.children,n=e.submitText,c=ht();return r.a.createElement(Ot.ValidatorForm,{onSubmit:t,noValidate:!0},r.a.createElement(ut.a,null,a),r.a.createElement(lt.a,{className:c.dialogActions},r.a.createElement(yt,{text:n})))},xt=function(e){return r.a.createElement(Ot.TextValidator,Object.assign({margin:"normal",variant:"outlined",fullWidth:!0},e))},Dt=function(e){var t=Object(j.a)().t;return r.a.createElement(xt,Object.assign({label:t("home.dialog.email"),type:"email",validators:["required","isEmail"],errorMessages:[t("home.dialog.validation.required"),t("home.dialog.validation.email")]},e))},kt=function(e){var t=e.passwordChange,a=Object(ot.a)(e,["passwordChange"]),n=Object(j.a)().t;return r.a.createElement(xt,Object.assign({label:n("home.dialog.".concat(t?"newPassword":"password")),type:"password",validators:["required","matchRegexp:^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[#$^+=!*()@%&]).{6,}$"],errorMessages:[n("home.dialog.validation.required"),n("home.dialog.validation.password")]},a))},Ct=(0,a(18).makeStyles)((function(e){return{dialogText:{display:"block",marginTop:e.spacing(3),textAlign:"center"},dialogConfirmContainer:{display:"flex",justifyContent:"center",alignItems:"center",margin:e.spacing(3,0)},dialogProgress:{marginRight:e.spacing(2)}}})),Pt=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(W.a)(e,2),a=t[0],c=t[1],o=Object(j.a)().t,u=Object(i.c)(),l=Object(i.d)((function(e){return e.user.isLoggedIn})),s=Ct(),d=function(e){return function(t){var a=t.target;c((function(t){return Object(P.a)(Object(P.a)({},t),{},Object(Ee.a)({},e,a.value))}))}};return r.a.createElement(r.a.Fragment,null,l&&r.a.createElement(re.a,{to:"invoices"}),r.a.createElement(wt,{onSubmit:function(e){e.preventDefault(),u(Ce(a))},submitText:o("signIn")},r.a.createElement(Dt,{autoFocus:!0,onChange:d("email"),value:a.email}),r.a.createElement(kt,{onChange:d("password"),value:a.password}),r.a.createElement(Et.a,{component:b.b,to:"resetPassword",variant:"body2",color:"primary",className:s.dialogText},o("home.dialog.forgotPassword"))))},Nt=function(e){var t=e.success,a=e.text,n=jt();return r.a.createElement(bt.a,{in:t},r.a.createElement(gt.a,{variant:"outlined",severity:"success",className:n.successAlert},a))},St=function(e){var t=Object(n.useState)(!1),a=Object(W.a)(t,2),r=a[0],c=a[1],o=Object(i.c)();return{success:r,performAction:function(t,a,n){c(!1),o(e(t)).then($.d).then((function(){c(!0),a&&a()})).catch((function(e){return n&&n(e)}))}}},Tt=function(){var e=Object(n.useState)({fullName:"",email:"",password:""}),t=Object(W.a)(e,2),a=t[0],c=t[1],o=St(Ne),i=o.success,u=o.performAction,l=Object(j.a)().t,s=Ct(),d=function(e){return function(t){var a=t.target;c((function(t){return Object(P.a)(Object(P.a)({},t),{},Object(Ee.a)({},e,a.value))}))}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Nt,{success:i,text:l("home.dialog.success.register")}),r.a.createElement(wt,{onSubmit:function(e){e.preventDefault(),u(a,(function(){return c({fullName:"",email:"",password:""})}))},submitText:l("signUp")},r.a.createElement(xt,{autoFocus:!0,label:l("home.dialog.name"),type:"text",value:a.fullName,validators:["required"],errorMessages:[l("home.dialog.validation.required")],onChange:d("fullName")}),r.a.createElement(Dt,{onChange:d("email"),value:a.email}),r.a.createElement(kt,{onChange:d("password"),value:a.password}),r.a.createElement(x.a,{variant:"body2",color:"textSecondary",className:s.dialogText},l("home.dialog.terms"))))},Rt=function(){var e=Object(n.useState)(""),t=Object(W.a)(e,2),a=t[0],c=t[1],o=St(Te),i=o.success,u=o.performAction,l=Object(j.a)().t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Nt,{success:i,text:l("home.dialog.success.resetPassword")}),r.a.createElement(wt,{onSubmit:function(e){e.preventDefault(),u(a,(function(){return c("")}))},submitText:l("reset")},r.a.createElement(Dt,{autoFocus:!0,onChange:function(e){var t=e.target;c(t.value)},value:a})))},At=function(){var e=Object(n.useState)(""),t=Object(W.a)(e,2),a=t[0],c=t[1],o=St(Re),i=o.success,u=o.performAction,l=Object(j.a)().t,s=new URLSearchParams(Object(re.h)().search),d=s.get("email"),p=s.get("token");return r.a.createElement(r.a.Fragment,null,r.a.createElement(Nt,{success:i,text:l("home.dialog.success.resetPassword")}),r.a.createElement(wt,{onSubmit:function(e){e.preventDefault(),u({email:d,resetToken:p,newPassword:a},(function(){return c("")}))},submitText:l("changePassword")},r.a.createElement(kt,{autoFocus:!0,passwordChange:!0,onChange:function(e){var t=e.target;c(t.value)},value:a})))},It=function(){var e=St(Se),t=e.success,a=e.performAction,c=Object(j.a)().t,o=Object(i.d)((function(e){return e.user.actionPending})),u=new URLSearchParams(Object(re.h)().search),l=u.get("email"),s=u.get("token"),d=Ct();return Object(n.useEffect)((function(){a({email:l,token:s})}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Nt,{success:t,text:c("home.dialog.success.confirmEmail")}),r.a.createElement(ut.a,null,r.a.createElement("div",{className:d.dialogConfirmContainer},o?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge.a,{className:d.dialogProgress}),r.a.createElement(x.a,null,c("home.dialog.pleaseWait"))):r.a.createElement(x.a,null,c("home.dialog.closeWindow")))))},Lt=function(){var e=Object(j.a)().t,t=ce(),a=t.isDialogOpen,n=t.closeDialog,c=t.onExited,o=Object(re.h)().pathname.substring(1);return r.a.createElement(ft,{centeredTitle:!0,closeButton:!0,title:o?e("home.dialog.".concat(o)):"",open:a,onClose:n,onExited:c,maxWidth:"xs",fullWidth:!0},r.a.createElement(vt,{locationKey:o}),r.a.createElement(re.b,{exact:!0,path:"/login",component:Pt}),r.a.createElement(re.b,{exact:!0,path:"/register",component:Tt}),r.a.createElement(re.b,{exact:!0,path:"/resetPassword",component:Rt}),r.a.createElement(re.b,{exact:!0,path:"/changePassword",component:At}),r.a.createElement(re.b,{exact:!0,path:"/confirmEmail",component:It}))},Ft=function(){var e=Object(re.h)(),t=ce(),a=t.isDialogOpen,c=t.openDialog,o=t.closeDialog,u=Object(i.d)((function(e){return e.user.isLoggedIn}));return Object(n.useEffect)((function(){"/"!==e.pathname&&!a&&c(),"/"===e.pathname&&a&&o()}),[e]),r.a.createElement(r.a.Fragment,null,u&&r.a.createElement(re.a,{to:"invoices"}),r.a.createElement(Lt,null),r.a.createElement(ct,null),r.a.createElement(nt,null),r.a.createElement(Xe.a,{my:5},r.a.createElement(A.a,{variant:"fullWidth"})),r.a.createElement(rt,null))},Bt=a(111),Mt=a.n(Bt),zt=a(760),qt=a(761),Ut=a(762),Vt=a(763),Wt=a(764),Ht=function(){var e=Object(i.c)();return function(){var t=Object(ye.a)(je.a.mark((function t(a){var n,r,c,o;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.action,r=a.onSuccess,c=a.rejectOnError,o=void 0!==c&&c,t.next=3,e(n).then($.d).then((function(e){return r&&r(e)})).catch((function(e){if(o)throw new Error}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Jt=function(e,t){var a=Object.keys(t).filter((function(a){return t[a]!==e[a]}));if(0!==a.length)return a.reduce((function(e,a){return Object(P.a)(Object(P.a)({},e),{},Object(Ee.a)({},a,t[a]))}),{})},_t=function(e){var t=Object(j.a)().t,a=Ht(),c=function(e,t){return Object(n.forwardRef)((function(a,n){return r.a.createElement(e,Object.assign({},a,{ref:n,color:"primary"},t))}))},o={Add:c(zt.a,{fontSize:"large"}),Check:c(qt.a),Clear:c(Ut.a),Delete:c(Vt.a),Edit:c(Wt.a),ResetSearch:c(Ut.a,{style:{marginRight:-16},color:"inherit"})},i={body:{emptyDataSourceMessage:t("table.empty"),addTooltip:t("table.add"),deleteTooltip:t("table.delete"),editTooltip:t("table.edit"),filterRow:{filterTooltip:t("table.filter")},editRow:{deleteText:t("table.deleteText"),cancelTooltip:t("table.cancel"),saveTooltip:t("table.save")}},header:{actions:t("table.actions")},pagination:{labelDisplayedRows:t("table.rows"),labelRowsSelect:t("table.rowsSelect"),labelRowsPerPage:t("table.rowsPerPage"),firstAriaLabel:t("table.first"),firstTooltip:t("table.first"),previousAriaLabel:t("table.previous"),previousTooltip:t("table.previous"),nextAriaLabel:t("table.next"),nextTooltip:t("table.next"),lastAriaLabel:t("table.last"),lastTooltip:t("table.last")},toolbar:{nRowsSelected:t("table.rowsSelected"),searchTooltip:t("table.search"),searchPlaceholder:t("table.search")}},u=null;if(e){var l=e.createAction,s=e.updateAction,d=e.deleteAction;u={onRowAdd:function(e){return a({action:l(e),rejectOnError:!0})},onRowUpdate:function(){var e=Object(ye.a)(je.a.mark((function e(t,n){var r;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=Jt(n,t))){e.next=4;break}return e.next=4,a({action:s(Object(P.a)({id:t.id},r)),rejectOnError:!0});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),onRowDelete:function(e){return a({action:d(e.id),rejectOnError:!0})}}}return{options:{searchFieldVariant:"outlined",addRowPosition:"first",tableLayout:"fixed",draggable:!1},icons:o,localization:i,editable:u}},Kt=Object(N.a)((function(e){return{tableContainer:{margin:e.spacing(3,0),width:"100%"}}})),$t=function(e){var t=e.data,a=e.editableConfig,n=void 0===a?null:a,c=Object(ot.a)(e,["data","editableConfig"]),o=_t(n),i=o.options,u=o.icons,l=o.localization,s=o.editable,d=Kt();return r.a.createElement("div",{className:d.tableContainer},r.a.createElement(Mt.a,Object.assign({data:t,options:i,icons:u,localization:l,editable:s},c)))},Gt=function(e){var t=e.anchor,a=e.closeMenu,n=(0,Object(j.a)().t)("invoices.options",{returnObjects:!0});return r.a.createElement(q.a,{anchorEl:t,open:Boolean(t),onClose:a},n.map((function(e,t){return r.a.createElement(U.a,{key:t,onClick:function(){a()}},e.label)})))},Zt=a(753),Qt=function(e){var t=e.open,a=e.onClose,n=Object(j.a)().t;return r.a.createElement(ft,{open:t,onClose:a,title:n("table.delete"),content:r.a.createElement(Zt.a,null,n("table.deleteText")),actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,{onClick:function(){},color:"primary"},n("table.delete")),r.a.createElement(fe.a,{onClick:a,color:"primary"},n("table.cancel")))})},Xt=function(){var e=Object(n.useState)(!1),t=Object(W.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),o=Object(W.a)(c,2),i=o[0],u=o[1];return{isDialogOpen:a,dialogData:i,openDialog:function(e){r(!0),e&&u(e)},closeDialog:function(){return r(!1)}}},Yt=function(){var e=Object(j.a)().t,t=Object(re.g)(),a=Xt(),c=H(),o=function(e,t){return Object(n.forwardRef)((function(a,n){return r.a.createElement(e,Object.assign({},a,{ref:n,color:"primary"},t))}))};return{columns:[{title:e("invoices.date"),field:"date",width:190},{title:e("invoices.number"),field:"number",width:190},{title:e("invoices.counterparty"),field:"counterparty",width:190},{title:e("invoices.netPrice"),field:"netPrice",width:190},{title:e("invoices.grossPrice"),field:"grossPrice",width:190},{title:e("invoices.issuer"),field:"issuer",width:190}],actions:[{icon:o(zt.a,{fontSize:"large"}),tooltip:e("table.add"),isFreeAction:!0,onClick:c.openMenu},{icon:o(Wt.a),tooltip:e("table.edit"),onClick:function(e,a){return t.replace("/invoices/".concat(a.number))}},{icon:o(Vt.a),tooltip:e("table.delete"),onClick:function(e,t){return a.openDialog(t.id)}}],dialog:a,menu:c}},ea=function(){var e=Object(j.a)().t,t=Object(i.d)((function(e){return e.invoice.invoiceData})),a=Object(i.d)((function(e){return e.invoice.actionPending})),n=Yt(),c=n.columns,o=n.actions,u=n.dialog,l=n.menu;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Gt,{anchor:l.anchor,closeMenu:l.closeMenu}),r.a.createElement(Qt,{open:u.isDialogOpen,onClose:u.closeDialog,data:u.dialogData}),r.a.createElement($t,{title:e("invoices.title"),isLoading:a,data:t,columns:c,actions:o}))},ta=function(e){var t=e.error,a=e.clearAction,c=Object(n.useState)(""),o=Object(W.a)(c,2),u=o[0],l=o[1],s=Object(j.a)().t,d=Object(i.c)(),p=function(){d(a(null))};return Object(n.useEffect)((function(){t&&l(t)}),[t]),r.a.createElement(ft,{open:Boolean(t),onClose:p,title:u?s("tableError.".concat(u)):"",content:r.a.createElement(Zt.a,null,s("tableError.text.".concat("details"===u?"details":"serverDown"))),actions:r.a.createElement(fe.a,{onClick:p,color:"primary"},s("cancel"))})},aa=Object($.b)("product/create",function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,oa({method:function(){return De().post("Products",t)},errorData:"create"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),na=Object($.b)("product/get",function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,oa({method:function(){return De().get("Products")},errorData:"get"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),ra=Object($.b)("product/update",function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,oa({method:function(){return De().put("Products",t)},errorData:"update"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),ca=Object($.b)("product/delete",function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,oa({method:function(){return De().delete("Products/".concat(t))},errorData:"delete"},n);case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),oa=function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n,r,c;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.method,r=t.errorData,a(la(!0)),e.next=4,ke(n(),r);case 4:if(c=e.sent,a(la(!1)),"ERROR"!==c.type){e.next=9;break}throw a(sa(c.data)),new Error(c.data);case 9:return e.abrupt("return",c.data);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ia=Object($.c)({name:"product",initialState:{actionPending:!1,error:null,productData:[]},reducers:{setActionPending:function(e,t){e.actionPending=t.payload},setError:function(e,t){e.error=t.payload}},extraReducers:(p={},Object(Ee.a)(p,aa.fulfilled,(function(e,t){e.productData.push(t.payload)})),Object(Ee.a)(p,na.fulfilled,(function(e,t){e.productData=t.payload})),Object(Ee.a)(p,ra.fulfilled,(function(e,t){var a=e.productData.findIndex((function(e){return e.id===t.payload.id}));e.productData[a]=t.payload})),Object(Ee.a)(p,ca.fulfilled,(function(e,t){e.productData=e.productData.filter((function(e){return e.id!==t.payload}))})),p)}),ua=ia.actions,la=ua.setActionPending,sa=ua.setError,da=ia.reducer,pa=a(145),ma=a.n(pa),fa=function(){var e=Object(j.a)().t;return{required:function(t){var a=t+"";return!(!t||ma.a.isEmpty(a,{ignore_whitespace:!0}))||e("validation.required")},validate:function(t,a,n){var r=a+"";if(!n&&(!a||0===r.length))return!0;return!!function(){switch(t){case"validNip":return function(e){var t=[6,5,7,2,3,4,5,6,7,0];if(10!==e.length||!ma.a.isNumeric(e))return!1;var a=0;return Array.from(e).forEach((function(e,n){return a+=Number(e)*t[n]})),a%11===Number(e[9])}(r);case"currency":return function(e){return Number(e)>0&&ma.a.isCurrency(e,{allow_negatives:!1,digits_after_decimal:[1,2],symbol:""})}(r);case"phoneNumber":return function(e){return ma.a.isMobilePhone(e,["pl-PL"])}(r);case"postalCode":return function(e){return ma.a.isPostalCode(e,["PL"])}(r);default:throw new Error("Validation type not supported!")}}()||e("validation.".concat(t))}}},ba=function(e,t){return ga(e*ha(t))},ga=function(e){return isNaN(e)?void 0:Number(Math.round(e+"e2")+"e-2")},ha=function(e){switch(e){case 0:return 1.23;case 1:return 1.08;case 2:return 1.05;default:return 1}},va=function(){var e=Object(j.a)().t,t=fa(),a=t.required,n=t.validate,c=function(e){return{align:"left",currencySetting:{locale:"pl",currencyCode:"PLN"},editComponent:o(e)}},o=function(e){return function(t){return r.a.createElement(Bt.MTableEditField,Object.assign({},t,{onChange:i(e,t)}))}},i=function(e,t){var a=t.rowData,n=t.onRowDataChange;return function(t){var r,c,o,i="netPrice"===e?ba(t,a.vatRate):(c=t,o=a.vatRate,ga(c/ha(o))),u="netPrice"===e?"grossPrice":"netPrice";n(Object(P.a)(Object(P.a)({},a),{},(r={},Object(Ee.a)(r,e,t),Object(Ee.a)(r,u,i),r)))}},u=function(e){var t=e.rowData,a=e.onRowDataChange;return function(e){var n=Number(e);a(Object(P.a)(Object(P.a)({},t),{},{vatRate:n,grossPrice:ba(t.netPrice,n)}))}};return{columns:[{title:e("products.name"),field:"name",width:190,validate:function(e){return a(e.name)}},{title:e("products.description"),field:"description",width:165},Object(P.a)(Object(P.a)({title:e("products.netPrice"),field:"netPrice",width:190,type:"currency"},c("netPrice")),{},{validate:function(e){return n("currency",e.netPrice,!0)}}),Object(P.a)(Object(P.a)({title:e("products.grossPrice"),field:"grossPrice",width:190,type:"currency"},c("grossPrice")),{},{validate:function(e){return n("currency",e.grossPrice,!0)}}),{title:e("products.vatRate"),field:"vatRate",width:190,initialEditValue:0,editComponent:function(e){return r.a.createElement(Bt.MTableEditField,Object.assign({},e,{onChange:u(e)}))},lookup:{0:"23%",1:"8%",2:"5%",3:"0%",4:e("products.vatExempt"),5:e("products.vatNotApplicable")}}],editableConfig:{createAction:aa,updateAction:ra,deleteAction:ca}}},Ea=function(){var e=Object(j.a)().t,t=Object(i.c)(),a=Object(i.d)((function(e){return e.product.productData})),c=Object(i.d)((function(e){return e.product.actionPending})),o=Object(i.d)((function(e){return e.product.error})),u=va(),l=u.columns,s=u.editableConfig;return Object(n.useEffect)((function(){t(na())}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ta,{error:o,clearAction:sa}),r.a.createElement($t,{title:e("products.title"),isLoading:c,data:a,columns:l,editableConfig:s}))},Oa=Object($.b)("counterparty/create",function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Da({method:function(){return De().post("Counterparties",t)},errorData:"create"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),ja=Object($.b)("counterparty/getDetails",function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Da({method:function(){return De().get("Counterparties/details/".concat(t))},errorData:"details"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),ya=Object($.b)("counterparty/get",function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Da({method:function(){return De().get("Counterparties")},errorData:"get"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),wa=Object($.b)("counterparty/update",function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Da({method:function(){return De().put("Counterparties",t)},errorData:"update"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),xa=Object($.b)("counterparty/delete",function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,Da({method:function(){return De().delete("Counterparties/".concat(t))},errorData:"delete"},n);case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Da=function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n,r,c;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.method,r=t.errorData,a(Pa(!0)),e.next=4,ke(n(),r);case 4:if(c=e.sent,a(Pa(!1)),"ERROR"!==c.type){e.next=9;break}throw a(Na(c.data)),new Error(c.data);case 9:return e.abrupt("return",c.data);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ka=Object($.c)({name:"counterparty",initialState:{actionPending:!1,error:null,counterpartyData:[]},reducers:{setActionPending:function(e,t){e.actionPending=t.payload},setError:function(e,t){e.error=t.payload}},extraReducers:(m={},Object(Ee.a)(m,Oa.fulfilled,(function(e,t){e.counterpartyData.push(t.payload)})),Object(Ee.a)(m,ya.fulfilled,(function(e,t){e.counterpartyData=t.payload})),Object(Ee.a)(m,wa.fulfilled,(function(e,t){var a=e.counterpartyData.findIndex((function(e){return e.id===t.payload.id}));e.counterpartyData[a]=t.payload})),Object(Ee.a)(m,xa.fulfilled,(function(e,t){e.counterpartyData=e.counterpartyData.filter((function(e){return e.id!==t.payload}))})),m)}),Ca=ka.actions,Pa=Ca.setActionPending,Na=Ca.setError,Sa=ka.reducer,Ta=a(765),Ra=Object(N.a)((function(e){return{nipEditContainer:{width:"100%",display:"inline-flex",alignItems:"center"},nipEditButton:{marginLeft:e.spacing(1)}}})),Aa=function(){var e=Object(j.a)().t,t=fa(),a=t.required,n=t.validate,c=Ht(),o=Ra(),i=function(e){var t=e.rowData,a=e.onRowDataChange,n=e.value;return function(){c({action:ja(n),onSuccess:function(e){var r=e.street,c=e.propertyNumber,o=e.apartmentNumber,i=Object(ot.a)(e,["street","propertyNumber","apartmentNumber"]);a(Object(P.a)(Object(P.a)({},t),{},{address:"".concat(r," ").concat(c).concat(o&&"/".concat(o)),nip:n},i))}})}};return{columns:[{title:e("counterparties.name"),field:"name",width:190,validate:function(e){return a(e.name)}},{title:e("counterparties.nip"),field:"nip",width:190,validate:function(e){return n("validNip",e.nip,!0)},editComponent:function(e){return r.a.createElement("div",{className:o.nipEditContainer},r.a.createElement(Bt.MTableEditField,e),r.a.createElement(w.a,{onClick:i(e),color:"primary",disabled:Boolean(e.error),className:o.nipEditButton},r.a.createElement(Ta.a,null)))}},{title:e("counterparties.address"),field:"address",width:190,validate:function(e){return a(e.address)}},{title:e("counterparties.postalCode"),field:"postalCode",width:190,validate:function(e){return n("postalCode",e.postalCode,!0)}},{title:e("counterparties.city"),field:"city",width:190,validate:function(e){return a(e.city)}},{title:e("counterparties.phoneNumber"),field:"phoneNumber",width:190,validate:function(e){return n("phoneNumber",e.phoneNumber,!1)}}],editableConfig:{createAction:Oa,updateAction:wa,deleteAction:xa}}},Ia=function(){var e=Object(j.a)().t,t=Object(i.c)(),a=Object(i.d)((function(e){return e.counterparty.counterpartyData})),c=Object(i.d)((function(e){return e.counterparty.actionPending})),o=Object(i.d)((function(e){return e.counterparty.error})),u=Aa(),l=u.columns,s=u.editableConfig;return Object(n.useEffect)((function(){t(ya())}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ta,{error:o,clearAction:Na}),r.a.createElement($t,{title:e("counterparties.title"),isLoading:c,data:a,columns:l,editableConfig:s}))},La=Object($.b)("employee/create",function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,za({method:function(){return De().post("Employees",t)},errorData:"create"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Fa=Object($.b)("employee/get",function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,za({method:function(){return De().get("Employees")},errorData:"get"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Ba=Object($.b)("employee/update",function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,za({method:function(){return De().put("Employees",t)},errorData:"update"},n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Ma=Object($.b)("employee/delete",function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,za({method:function(){return De().delete("Employees/".concat(t))},errorData:"delete"},n);case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),za=function(){var e=Object(ye.a)(je.a.mark((function e(t,a){var n,r,c;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.method,r=t.errorData,a(Va(!0)),e.next=4,ke(n(),r);case 4:if(c=e.sent,a(Va(!1)),"ERROR"!==c.type){e.next=9;break}throw a(Wa(c.data)),new Error(c.data);case 9:return e.abrupt("return",c.data);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),qa=Object($.c)({name:"employee",initialState:{actionPending:!1,error:null,employeeData:[]},reducers:{setActionPending:function(e,t){e.actionPending=t.payload},setError:function(e,t){e.error=t.payload}},extraReducers:(f={},Object(Ee.a)(f,La.fulfilled,(function(e,t){e.employeeData.push(t.payload)})),Object(Ee.a)(f,Fa.fulfilled,(function(e,t){e.employeeData=t.payload})),Object(Ee.a)(f,Ba.fulfilled,(function(e,t){var a=e.employeeData.findIndex((function(e){return e.id===t.payload.id}));e.employeeData[a]=t.payload})),Object(Ee.a)(f,Ma.fulfilled,(function(e,t){e.employeeData=e.employeeData.filter((function(e){return e.id!==t.payload}))})),f)}),Ua=qa.actions,Va=Ua.setActionPending,Wa=Ua.setError,Ha=qa.reducer,Ja=function(){var e=Object(j.a)().t,t=fa(),a=t.required,n=t.validate;return{columns:[{title:e("employees.fullName"),field:"fullName",width:190,validate:function(e){return a(e.fullName)}},{title:e("employees.phoneNumber"),field:"phoneNumber",width:190,validate:function(e){return n("phoneNumber",e.phoneNumber,!0)}},{title:e("employees.dateAdded"),field:"dateAdded",width:190,type:"datetime",editable:"never"}],editableConfig:{createAction:La,updateAction:Ba,deleteAction:Ma}}},_a=function(){var e=Object(j.a)().t,t=Object(i.c)(),a=Object(i.d)((function(e){return e.employee.employeeData})),c=Object(i.d)((function(e){return e.employee.actionPending})),o=Object(i.d)((function(e){return e.employee.error})),u=Ja(),l=u.columns,s=u.editableConfig;return Object(n.useEffect)((function(){t(Fa())}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ta,{error:o,clearAction:Wa}),r.a.createElement($t,{title:e("employees.title"),isLoading:c,data:a,columns:l,editableConfig:s}))},Ka=function(){return r.a.createElement("div",null)},$a=function(){var e=Object(j.a)().t,t=Object(i.d)((function(e){return e.user.isLoggedIn}));return r.a.createElement(Xe.a,{mt:3,className:"text-center"},r.a.createElement(x.a,{variant:"h1",color:"primary"},"404"),r.a.createElement(x.a,{variant:"h2"},e("notFound.header")),r.a.createElement(Xe.a,{my:2},r.a.createElement(x.a,{variant:"h6",color:"textSecondary"},e("notFound.description"))),r.a.createElement(fe.a,{component:b.b,to:t?"/invoices":"/",variant:"contained",color:"primary"},e("notFound.button")))},Ga=function(){return r.a.createElement(re.d,null,r.a.createElement(re.b,{exact:!0,path:["/","/login","/register","/resetPassword","/changePassword","/confirmEmail"],component:Ft}),r.a.createElement(Qe,{exact:!0,path:"/invoices",component:ea}),r.a.createElement(Qe,{exact:!0,path:"/products",component:Ea}),r.a.createElement(Qe,{exact:!0,path:"/counterparties",component:Ia}),r.a.createElement(Qe,{exact:!0,path:"/employees",component:_a}),r.a.createElement(Qe,{exact:!0,path:"/dataVisualization",component:Ka}),r.a.createElement(re.b,{component:$a}))},Za=a(439),Qa=a(440),Xa=function(){var e=Object(i.d)((function(e){return e.user.isLoggedIn})),t=Object(i.d)((function(e){return e.app.theme})),a=Object(g.a)("light"===t?Za:Qa);return r.a.createElement(b.a,null,r.a.createElement(h.a,{theme:a},r.a.createElement(v.a,null),r.a.createElement(n.Suspense,{fallback:r.a.createElement(Ze,null)},r.a.createElement(Ke,null),r.a.createElement(E.a,e&&{className:"logged-in-container"},r.a.createElement(O.a,null),r.a.createElement(Ga,null)))))},Ya=Object($.b)("invoice/get",function(){var e=Object(ye.a)(je.a.mark((function e(t,a){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),en=Object($.c)({name:"invoice",initialState:{actionPending:!1,error:null,invoiceData:[]},reducers:{setActionPending:function(e,t){e.actionPending=t.payload},setError:function(e,t){e.error=t.payload}},extraReducers:Object(Ee.a)({},Ya.fulfilled,(function(e,t){e.invoiceData=t.payload}))}),tn=en.actions,an=(tn.setActionPending,tn.setError,en.reducer),nn=Object($.a)({reducer:{app:te,user:qe,invoice:an,counterparty:Sa,employee:Ha,product:da}});a(710);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:nn},r.a.createElement(Xa,null))),document.getElementById("root"))}},[[451,1,2]]]);
//# sourceMappingURL=main.9dc42c30.chunk.js.map