{"version":3,"sources":["i18n.js","components/layout/AppDrawer/styles.js","components/layout/AppDrawer/PermanentDrawer.js","components/layout/AppDrawer/TemporaryDrawer.js","hooks/useDropdownMenu.js","components/layout/AppDrawer/common/LanguageSelector.js","slices/appSlice.js","components/layout/AppDrawer/common/ThemeSwitcher.js","hooks/useHomeDialog.js","components/layout/AppDrawer/HomeDrawerContent/Buttons.js","components/layout/AppDrawer/HomeDrawerContent/index.js","components/layout/AppDrawer/UserDrawerContent.js","hooks/useDrawer.js","components/layout/AppDrawer/index.js","components/layout/Navigation/styles.js","components/layout/Navigation/HomeNavigation.js","apis/webInvoicerApi.js","apis/apiHandler.js","slices/userSlice.js","hooks/useLogout.js","hooks/useInterval.js","hooks/useTokenRefresh.js","components/layout/Navigation/UserNavigation.js","hooks/useTokenCheck.js","components/layout/Navigation/index.js","components/SuspenseLoading.js","components/common/PrivateRoute.js","components/pages/Home/styles.js","components/pages/Home/FeatureGrid.js","components/pages/Home/Footer.js","components/pages/Home/Hero.js","components/common/Dialog/styles.js","components/common/Dialog/DialogHeader.js","components/common/Dialog/index.js","components/pages/Home/HomeDialog/styles.js","components/pages/Home/HomeDialog/DialogAlert.js","components/pages/Home/HomeDialog/DialogContent/common/styles.js","components/pages/Home/HomeDialog/DialogContent/common/SubmitButton.js","components/pages/Home/HomeDialog/DialogContent/FormContent.js","components/pages/Home/HomeDialog/DialogContent/common/DialogTextField.js","components/pages/Home/HomeDialog/DialogContent/common/Email.js","components/pages/Home/HomeDialog/DialogContent/common/Password.js","components/pages/Home/HomeDialog/DialogContent/styles.js","components/pages/Home/HomeDialog/DialogContent/Login.js","components/pages/Home/HomeDialog/DialogContent/common/SuccessAlert.js","hooks/useResultSuccess.js","components/pages/Home/HomeDialog/DialogContent/Register.js","components/pages/Home/HomeDialog/DialogContent/ResetPassword.js","components/pages/Home/HomeDialog/DialogContent/ChangePassword.js","components/pages/Home/HomeDialog/DialogContent/ConfirmEmail.js","components/pages/Home/HomeDialog/index.js","components/pages/Home/index.js","hooks/useHandleAction.js","utils/dataUtils.js","components/common/DataTable/config.js","components/common/DataTable/styles.js","components/common/DataTable/index.js","components/pages/Invoices/CreateMenu.js","components/pages/Invoices/DeleteDialog.js","hooks/useDialog.js","components/pages/Invoices/config.js","components/pages/Invoices/index.js","components/common/ErrorDialog.js","slices/productSlice.js","hooks/useValidation.js","utils/priceUtils.js","components/pages/Products/config.js","components/pages/Products/index.js","slices/counterpartySlice.js","components/pages/Counterparties/styles.js","components/pages/Counterparties/config.js","components/pages/Counterparties/index.js","slices/employeeSlice.js","components/pages/Employees/config.js","components/pages/Employees/index.js","components/pages/DataVisualization/index.js","components/pages/NotFound.js","components/Routes.js","App.js","slices/invoiceSlice.js","store.js","index.js"],"names":["i18n","use","Backend","LanguageDetector","initReactI18next","init","fallbackLng","debug","interpolation","escapeValue","backend","loadPath","useStyles","makeStyles","theme","drawer","width","drawerPaper","drawerHeader","padding","spacing","display","alignItems","justifyContent","mixins","toolbar","drawerHighlight","background","palette","primary","main","drawerHighlightText","color","getContrastText","PermanentDrawer","children","classes","variant","anchor","className","paper","Toolbar","TemporaryDrawer","open","onClose","IconButton","onClick","ChevronLeft","Divider","useDropdownMenu","useState","setAnchor","openMenu","event","currentTarget","closeMenu","LanguageSelector","useTranslation","t","languages","returnObjects","handleLanguageChange","index","code","language","changeLanguage","ListItem","button","ListItemIcon","Language","ListItemText","anchorEl","Boolean","map","MenuItem","key","selected","startsWith","label","initialState","localStorage","getItem","isDialogOpen","isDrawerOpen","appSlice","createSlice","name","reducers","setTheme","state","action","payload","setDialogOpen","setDrawerOpen","actions","ThemeSwitcher","dispatch","useDispatch","useSelector","app","newTheme","setItem","Brightness2","Brightness7","useHomeDialog","history","useHistory","openDialogForType","type","replace","openDialog","closeDialog","onExited","Buttons","Hidden","smUp","List","HomeDrawerContent","UserDrawerContent","closeDrawer","isDrawerPermanent","location","useLocation","drawerItems","onItemClick","item","component","Link","to","pathname","Icon","icon","text","useDrawer","isLoggedIn","user","isLgUp","useMediaQuery","useTheme","breakpoints","up","openDrawer","AppDrawer","Drawer","DrawerContent","appBar","zIndex","appBarSpacer","marginRight","appBarLogo","appBarTitle","userSelect","flexGrow","HomeNavigation","xsDown","Button","Axios","create","baseURL","process","timeout","headers","Authorization","restCall","errorPayload","a","response","success","status","data","login","createAsyncThunk","handleAction","endpoint","errorData","token","JSON","stringify","userData","refreshToken","_","register","confirmEmail","confirmationData","resetPassword","email","changeResetPassword","setActionPending","apiHandler","webInvoicerApi","post","setError","Error","userSlice","actionPending","error","setUserData","logout","extraReducers","fulfilled","useLogout","removeItem","useInterval","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","useTokenRefresh","tokenExpiryTime","JwtDecode","exp","calculateExpiryDelay","Date","getTime","expiryDelay","UserNavigation","edge","AccountCircle","fontSize","useTokenCheck","decodedToken","parse","Navigation","AppBar","position","Menu","Typography","SuspenseLoading","Backdrop","CircularProgress","PrivateRoute","props","require","heroContainer","margin","marginLeft","only","flexDirection","heroItem","marginTop","marginBottom","textAlign","heroIcon","featureCard","height","featureIcon","FeatureGrid","features","Grid","container","justify","feature","xs","sm","Card","CardContent","gutterBottom","header","description","Footer","Box","mb","mt","size","Hero","dialogTitle","centered","dialogCloseButton","top","right","secondary","DialogHeader","title","closeButton","disableTypography","Close","Dialog","centeredTitle","content","DialogContent","DialogActions","dialogAlert","dialogActions","DialogAlert","locationKey","displayedError","setDisplayedError","setTimeout","Collapse","in","Alert","severity","wrapper","progress","left","successAlert","SubmitButton","loading","disabled","FormContent","onSubmit","submitText","noValidate","DialogTextField","fullWidth","Email","validators","errorMessages","Password","passwordChange","dialogText","dialogConfirmContainer","dialogProgress","Login","password","formData","setFormData","onTextChanged","target","value","e","preventDefault","autoFocus","onChange","BrowserLink","SuccessAlert","useResultSuccess","setSuccess","performAction","args","successCallback","handleError","then","unwrapResult","catch","Register","fullName","ResetPassword","setEmail","ChangePassword","setPassword","params","URLSearchParams","search","get","resetToken","newPassword","ConfirmEmail","HomeDialog","substring","maxWidth","exact","path","Home","my","useHandleAction","onSuccess","rejectOnError","result","filterProperties","oldData","newData","filteredKeys","Object","keys","filter","length","reduce","prev","useConfig","editableConfig","getIcon","Component","iconProps","forwardRef","ref","icons","Add","AddCircle","Check","Clear","Delete","Edit","ResetSearch","style","localization","body","emptyDataSourceMessage","addTooltip","deleteTooltip","editTooltip","filterRow","filterTooltip","editRow","deleteText","cancelTooltip","saveTooltip","pagination","labelDisplayedRows","labelRowsSelect","labelRowsPerPage","firstAriaLabel","firstTooltip","previousAriaLabel","previousTooltip","nextAriaLabel","nextTooltip","lastAriaLabel","lastTooltip","nRowsSelected","searchTooltip","searchPlaceholder","editable","createAction","updateAction","deleteAction","onRowAdd","newRow","onRowUpdate","oldRow","updateData","onRowDelete","deletedRow","options","searchFieldVariant","addRowPosition","tableLayout","draggable","tableContainer","DataTable","CreateMenu","option","DeleteDialog","DialogContentText","useDialog","setIsDialogOpen","dialogData","setDialogData","dialog","menu","columns","field","tooltip","isFreeAction","rowData","number","Invoices","invoices","invoice","invoiceData","isLoading","ErrorDialog","clearAction","createProduct","product","method","getProducts","updateProduct","put","deleteProduct","delete","productSlice","productData","push","findIndex","x","useValidation","required","coercedValue","validator","isEmpty","ignore_whitespace","validate","validationType","isRequired","weights","isNumeric","sum","Array","from","forEach","char","Number","validNip","isCurrency","allow_negatives","digits_after_decimal","symbol","currency","isMobilePhone","phoneNumber","isPostalCode","postalCode","calculateGrossPrice","netPrice","vatRate","roundValue","getVatRate","isNaN","undefined","Math","round","currencySettings","fieldName","align","currencySetting","locale","currencyCode","editComponent","currencyEditComponent","onPriceChange","onRowDataChange","grossPrice","calculatedValue","calculatedFieldName","onVatRateChange","parsedValue","row","initialEditValue","lookup","0","1","2","3","4","5","Products","products","createCounterparty","counterparty","getCounterpartyDetails","nip","getCounterparties","updateCounterparty","deleteCounterparty","counterpartySlice","counterpartyData","nipEditContainer","nipEditButton","downloadDetails","street","propertyNumber","apartmentNumber","rest","address","CloudDownload","city","Counterparties","counterparties","createEmployee","employee","getEmployees","updateEmployee","deleteEmployee","employeeSlice","employeeData","Employees","employees","DataVisualization","NotFound","Routes","App","muiTheme","createMuiTheme","lightTheme","darkTheme","ThemeProvider","CssBaseline","fallback","Container","getInvoices","invoiceSlice","configureStore","reducer","appReducer","userReducer","invoiceReducer","counterpartyReducer","employeeReducer","productReducer","ReactDOM","render","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.9dc42c30.chunk.js","sourcesContent":["import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport Backend from 'i18next-http-backend';\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\n\r\ni18n\r\n  .use(Backend)\r\n  .use(LanguageDetector)\r\n  .use(initReactI18next)\r\n  .init({\r\n    fallbackLng: 'en',\r\n    debug: true,\r\n    interpolation: {\r\n      escapeValue: false\r\n    },\r\n    backend: {\r\n      loadPath: '/web-invoicer-frontend/locales/{{lng}}/{{ns}}.json'\r\n    }\r\n  });\r\n\r\nexport default i18n;\r\n","import { makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  drawer: {\r\n    width: 250\r\n  },\r\n  drawerPaper: {\r\n    width: 250\r\n  },\r\n  drawerHeader: {\r\n    width: 250,\r\n    padding: theme.spacing(0, 1),\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    ...theme.mixins.toolbar\r\n  },\r\n  drawerHighlight: {\r\n    background: theme.palette.primary.main,\r\n    '&:hover': {\r\n      background: theme.palette.primary.main\r\n    }\r\n  },\r\n  drawerHighlightText: {\r\n    color: theme.palette.getContrastText(theme.palette.primary.main)\r\n  }\r\n}));\r\n\r\nexport default useStyles;\r\n","import React from 'react';\r\nimport { Drawer, Toolbar } from '@material-ui/core';\r\nimport useStyles from './styles';\r\n\r\nconst PermanentDrawer = ({ children }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Drawer\r\n      variant='permanent'\r\n      anchor='left'\r\n      className={classes.drawer}\r\n      classes={{ paper: classes.drawerPaper }}>\r\n      <Toolbar />\r\n      {children}\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nexport default PermanentDrawer;\r\n","import React from 'react';\r\nimport { Divider, Drawer, IconButton } from '@material-ui/core';\r\nimport { ChevronLeft } from '@material-ui/icons';\r\nimport useStyles from './styles';\r\n\r\nconst TemporaryDrawer = ({ open, onClose, children }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Drawer anchor='left' open={open} onClose={onClose}>\r\n      <div className={classes.drawerHeader}>\r\n        <IconButton onClick={onClose}>\r\n          <ChevronLeft />\r\n        </IconButton>\r\n      </div>\r\n      <Divider />\r\n      {children}\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nexport default TemporaryDrawer;\r\n","import { useState } from 'react';\r\n\r\nconst useDropdownMenu = () => {\r\n  const [anchor, setAnchor] = useState(null);\r\n\r\n  const openMenu = event => setAnchor(event.currentTarget);\r\n\r\n  const closeMenu = () => setAnchor(null);\r\n\r\n  return { anchor, openMenu, closeMenu };\r\n};\r\n\r\nexport default useDropdownMenu;\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { ListItem, ListItemIcon, ListItemText, Menu, MenuItem } from '@material-ui/core';\r\nimport { Language } from '@material-ui/icons';\r\nimport useDropdownMenu from '../../../../hooks/useDropdownMenu';\r\n\r\nconst LanguageSelector = () => {\r\n  const { t, i18n } = useTranslation();\r\n\r\n  const languages = t('languages', { returnObjects: true });\r\n\r\n  const { anchor, openMenu, closeMenu } = useDropdownMenu();\r\n\r\n  const handleLanguageChange = index => () => {\r\n    const languageCode = languages[index].code;\r\n    if (languageCode !== i18n.language) i18n.changeLanguage(languages[index].code);\r\n    closeMenu();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ListItem button onClick={openMenu}>\r\n        <ListItemIcon>\r\n          <Language />\r\n        </ListItemIcon>\r\n        <ListItemText primary={t('drawer.language')} />\r\n      </ListItem>\r\n      <Menu anchorEl={anchor} open={Boolean(anchor)} onClose={closeMenu}>\r\n        {languages.map((language, index) => (\r\n          <MenuItem\r\n            key={index}\r\n            selected={i18n.language.startsWith(language.code)}\r\n            onClick={handleLanguageChange(index)}>\r\n            {language.label}\r\n          </MenuItem>\r\n        ))}\r\n      </Menu>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LanguageSelector;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialState = {\r\n  theme: localStorage.getItem('theme') || 'dark',\r\n  isDialogOpen: false,\r\n  isDrawerOpen: false\r\n};\r\n\r\nconst appSlice = createSlice({\r\n  name: 'app',\r\n  initialState,\r\n  reducers: {\r\n    setTheme(state, action) {\r\n      state.theme = action.payload;\r\n    },\r\n    setDialogOpen(state, action) {\r\n      state.isDialogOpen = action.payload;\r\n    },\r\n    setDrawerOpen(state, action) {\r\n      state.isDrawerOpen = action.payload;\r\n    }\r\n  }\r\n});\r\n\r\nexport const { setTheme, setDialogOpen, setDrawerOpen } = appSlice.actions;\r\n\r\nexport default appSlice.reducer;\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { ListItem, ListItemIcon, ListItemText } from '@material-ui/core';\r\nimport { Brightness2, Brightness7 } from '@material-ui/icons';\r\nimport { setTheme } from '../../../../slices/appSlice';\r\n\r\nconst ThemeSwitcher = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const theme = useSelector(state => state.app.theme);\r\n\r\n  const changeTheme = () => {\r\n    const newTheme = theme === 'light' ? 'dark' : 'light';\r\n    localStorage.setItem('theme', newTheme);\r\n    dispatch(setTheme(newTheme));\r\n  };\r\n\r\n  return (\r\n    <ListItem button onClick={changeTheme}>\r\n      <ListItemIcon>{theme === 'dark' ? <Brightness2 /> : <Brightness7 />}</ListItemIcon>\r\n      <ListItemText primary={t('drawer.theme')} />\r\n    </ListItem>\r\n  );\r\n};\r\n\r\nexport default ThemeSwitcher;\r\n","import { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { setDialogOpen } from '../slices/appSlice';\r\n\r\nconst useHomeDialog = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const isDialogOpen = useSelector(state => state.app.isDialogOpen);\r\n\r\n  const history = useHistory();\r\n\r\n  const openDialog = () => dispatch(setDialogOpen(true));\r\n\r\n  const closeDialog = () => dispatch(setDialogOpen(false));\r\n\r\n  const openDialogForType = type => {\r\n    history.replace(`/${type}`);\r\n    dispatch(setDialogOpen(true));\r\n  };\r\n\r\n  const onExited = () => history.replace('/');\r\n\r\n  return { openDialogForType, openDialog, closeDialog, onExited, isDialogOpen };\r\n};\r\n\r\nexport default useHomeDialog;\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Divider, Hidden, List, ListItem, ListItemText } from '@material-ui/core';\r\nimport useHomeDialog from '../../../../hooks/useHomeDialog';\r\nimport useStyles from '../styles';\r\n\r\nconst Buttons = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const { openDialogForType } = useHomeDialog();\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Hidden smUp>\r\n      <Divider />\r\n      <List>\r\n        <ListItem button onClick={() => openDialogForType('login')}>\r\n          <ListItemText primary={t('signIn')} />\r\n        </ListItem>\r\n        <ListItem\r\n          button\r\n          onClick={() => openDialogForType('register')}\r\n          className={classes.drawerHighlight}>\r\n          <ListItemText primary={t('signUp')} className={classes.drawerHighlightText} />\r\n        </ListItem>\r\n      </List>\r\n    </Hidden>\r\n  );\r\n};\r\n\r\nexport default Buttons;\r\n","import React from 'react';\r\nimport { List } from '@material-ui/core';\r\nimport LanguageSelector from '../common/LanguageSelector';\r\nimport ThemeSwitcher from '../common/ThemeSwitcher';\r\nimport Buttons from './Buttons';\r\n\r\nconst HomeDrawerContent = () => {\r\n  return (\r\n    <>\r\n      <List>\r\n        <LanguageSelector />\r\n        <ThemeSwitcher />\r\n      </List>\r\n      <Buttons />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HomeDrawerContent;\r\n","import React from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Divider, Icon, List, ListItem, ListItemIcon, ListItemText } from '@material-ui/core';\r\nimport LanguageSelector from './common/LanguageSelector';\r\nimport ThemeSwitcher from './common/ThemeSwitcher';\r\n\r\nconst UserDrawerContent = ({ closeDrawer, isDrawerPermanent }) => {\r\n  const { t } = useTranslation();\r\n\r\n  const location = useLocation();\r\n\r\n  const drawerItems = t('drawer.user', { returnObjects: true });\r\n\r\n  const onItemClick = () => !isDrawerPermanent && closeDrawer();\r\n\r\n  return (\r\n    <>\r\n      <List>\r\n        {drawerItems.map((item, index) => (\r\n          <ListItem\r\n            button\r\n            key={index}\r\n            component={Link}\r\n            to={item.pathname}\r\n            replace={location.pathname === item.pathname}\r\n            selected={location.pathname === item.pathname}\r\n            onClick={onItemClick}>\r\n            <ListItemIcon>\r\n              <Icon>{item.icon}</Icon>\r\n            </ListItemIcon>\r\n            <ListItemText primary={item.text} />\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n      <Divider />\r\n      <List>\r\n        <LanguageSelector />\r\n        <ThemeSwitcher />\r\n      </List>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserDrawerContent;\r\n","import { useDispatch, useSelector } from 'react-redux';\r\nimport { useMediaQuery, useTheme } from '@material-ui/core';\r\nimport { setDrawerOpen } from '../slices/appSlice';\r\n\r\nconst useDrawer = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const isDrawerOpen = useSelector(state => state.app.isDrawerOpen);\r\n\r\n  const isLoggedIn = useSelector(state => state.user.isLoggedIn);\r\n\r\n  const isLgUp = useMediaQuery(useTheme().breakpoints.up('lg'));\r\n\r\n  const openDrawer = () => dispatch(setDrawerOpen(true));\r\n\r\n  const closeDrawer = () => dispatch(setDrawerOpen(false));\r\n\r\n  const isDrawerPermanent = isLoggedIn && isLgUp;\r\n\r\n  return { openDrawer, closeDrawer, isDrawerOpen, isDrawerPermanent };\r\n};\r\n\r\nexport default useDrawer;\r\n","import React from 'react';\r\nimport PermanentDrawer from './PermanentDrawer';\r\nimport TemporaryDrawer from './TemporaryDrawer';\r\nimport HomeDrawerContent from './HomeDrawerContent';\r\nimport UserDrawerContent from './UserDrawerContent';\r\nimport useDrawer from '../../../hooks/useDrawer';\r\n\r\nconst AppDrawer = ({ isLoggedIn }) => {\r\n  const { closeDrawer, isDrawerOpen, isDrawerPermanent } = useDrawer();\r\n\r\n  const Drawer = isDrawerPermanent ? PermanentDrawer : TemporaryDrawer;\r\n\r\n  const DrawerContent = isLoggedIn ? UserDrawerContent : HomeDrawerContent;\r\n\r\n  return (\r\n    <Drawer open={isDrawerOpen} onClose={closeDrawer}>\r\n      <DrawerContent closeDrawer={closeDrawer} isDrawerPermanent={isDrawerPermanent} />\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nexport default AppDrawer;\r\n","import { makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1\r\n  },\r\n  appBarSpacer: {\r\n    marginRight: theme.spacing(1)\r\n  },\r\n  appBarLogo: {\r\n    marginRight: 4\r\n  },\r\n  appBarTitle: {\r\n    userSelect: 'none',\r\n    flexGrow: 1\r\n  }\r\n}));\r\n\r\nexport default useStyles;\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Button, Hidden } from '@material-ui/core';\r\nimport useHomeDialog from '../../../hooks/useHomeDialog';\r\nimport useStyles from './styles';\r\n\r\nconst HomeNavigation = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const { openDialogForType } = useHomeDialog();\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Hidden xsDown>\r\n      <Button\r\n        color='inherit'\r\n        onClick={() => openDialogForType('login')}\r\n        className={classes.appBarSpacer}>\r\n        {t('signIn')}\r\n      </Button>\r\n      <Button variant='outlined' color='inherit' onClick={() => openDialogForType('register')}>\r\n        {t('signUp')}\r\n      </Button>\r\n    </Hidden>\r\n  );\r\n};\r\n\r\nexport default HomeNavigation;\r\n","import Axios from 'axios';\r\n\r\nexport default () =>\r\n  Axios.create({\r\n    baseURL: process.env.REACT_APP_API_URL,\r\n    timeout: 10000,\r\n    headers: localStorage.getItem('token')\r\n      ? { Authorization: 'Bearer ' + localStorage.getItem('token') }\r\n      : {}\r\n  });\r\n","export default async (restCall, errorPayload) => {\r\n  let response;\r\n  try {\r\n    response = await restCall;\r\n  } catch (e) {\r\n    response = null;\r\n  }\r\n\r\n  const success = response && response.status >= 200 && response.status < 300;\r\n  return success ? response : { type: 'ERROR', data: errorPayload };\r\n};\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport webInvoicerApi from '../apis/webInvoicerApi';\r\nimport apiHandler from '../apis/apiHandler';\r\nimport { setDrawerOpen } from './appSlice';\r\n\r\nconst initialState = {\r\n  actionPending: false,\r\n  error: null,\r\n  userData: null,\r\n  isLoggedIn: false\r\n};\r\n\r\nexport const login = createAsyncThunk('user/login', async (user, { dispatch }) => {\r\n  const response = await handleAction(\r\n    { endpoint: 'users/authenticate', payload: user, errorData: 'login' },\r\n    dispatch\r\n  );\r\n\r\n  dispatch(setDrawerOpen(false));\r\n  localStorage.setItem('token', response.token);\r\n  localStorage.setItem('userData', JSON.stringify(response.userData));\r\n  return response;\r\n});\r\n\r\nexport const refreshToken = createAsyncThunk('user/refreshToken', async (_, { dispatch }) => {\r\n  const response = await handleAction(\r\n    { endpoint: 'users/refreshToken', errorData: 'refreshToken' },\r\n    dispatch\r\n  );\r\n\r\n  localStorage.setItem('token', response);\r\n  return response;\r\n});\r\n\r\nexport const register = createAsyncThunk('user/register', async (user, { dispatch }) => {\r\n  return await handleAction(\r\n    { endpoint: 'users/register', payload: user, errorData: 'register' },\r\n    dispatch\r\n  );\r\n});\r\n\r\nexport const confirmEmail = createAsyncThunk(\r\n  'user/confirmEmail',\r\n  async (confirmationData, { dispatch }) => {\r\n    return await handleAction(\r\n      { endpoint: 'users/confirm', payload: confirmationData, errorData: 'confirmEmail' },\r\n      dispatch\r\n    );\r\n  }\r\n);\r\n\r\nexport const resetPassword = createAsyncThunk('user/resetPassword', async (email, { dispatch }) => {\r\n  return await handleAction(\r\n    { endpoint: 'users/resetPassword', payload: { email: email }, errorData: 'resetPassword' },\r\n    dispatch\r\n  );\r\n});\r\n\r\nexport const changeResetPassword = createAsyncThunk(\r\n  'user/changeResetPassword',\r\n  async (data, { dispatch }) => {\r\n    return await handleAction(\r\n      { endpoint: 'users/changeResetPassword', payload: data, errorData: 'changePassword' },\r\n      dispatch\r\n    );\r\n  }\r\n);\r\n\r\nexport const changePassword = createAsyncThunk(\r\n  'user/changePassword',\r\n  async (data, { dispatch }) => {\r\n    return await handleAction(\r\n      { endpoint: 'users/changePassword', payload: data, errorData: 'changePassword' },\r\n      dispatch\r\n    );\r\n  }\r\n);\r\n\r\nconst handleAction = async ({ endpoint, payload, errorData }, dispatch) => {\r\n  dispatch(setActionPending(true));\r\n  const response = await apiHandler(webInvoicerApi().post(endpoint, payload), errorData);\r\n  dispatch(setActionPending(false));\r\n\r\n  if (response.type === 'ERROR') {\r\n    dispatch(setError(response.data));\r\n    throw new Error(response.data);\r\n  }\r\n  return response.data;\r\n};\r\n\r\nconst userSlice = createSlice({\r\n  name: 'user',\r\n  initialState,\r\n  reducers: {\r\n    setActionPending(state, action) {\r\n      state.actionPending = action.payload;\r\n    },\r\n    setError(state, action) {\r\n      state.error = action.payload;\r\n    },\r\n    setUserData(state, action) {\r\n      state.userData = action.payload;\r\n      state.isLoggedIn = true;\r\n    },\r\n    logout(state) {\r\n      state.userData = null;\r\n      state.isLoggedIn = false;\r\n    }\r\n  },\r\n  extraReducers: {\r\n    [login.fulfilled]: (state, action) => {\r\n      state.userData = action.payload.userData;\r\n      state.isLoggedIn = true;\r\n    }\r\n  }\r\n});\r\n\r\nexport const { setActionPending, setError, setUserData, logout } = userSlice.actions;\r\n\r\nexport default userSlice.reducer;\r\n","import { useDispatch } from 'react-redux';\r\nimport { logout } from '../slices/userSlice';\r\n\r\nconst useLogout = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  return () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('userData');\r\n    dispatch(logout());\r\n  };\r\n};\r\n\r\nexport default useLogout;\r\n","import { useEffect, useRef } from 'react';\r\n\r\nconst useInterval = (callback, delay) => {\r\n  const savedCallback = useRef();\r\n\r\n  useEffect(() => {\r\n    savedCallback.current = callback;\r\n  }, [callback]);\r\n\r\n  useEffect(() => {\r\n    const tick = () => {\r\n      savedCallback.current();\r\n    };\r\n\r\n    if (delay !== null) {\r\n      let id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    }\r\n  }, [delay]);\r\n};\r\nexport default useInterval;\r\n","import JwtDecode from 'jwt-decode';\r\nimport { useDispatch } from 'react-redux';\r\nimport { refreshToken } from '../slices/userSlice';\r\nimport useInterval from './useInterval';\r\n\r\nconst useTokenRefresh = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const tokenExpiryTime = JwtDecode(localStorage.getItem('token')).exp;\r\n\r\n  const calculateExpiryDelay = () => tokenExpiryTime * 1000 - new Date().getTime() - 30000;\r\n\r\n  let expiryDelay = calculateExpiryDelay();\r\n\r\n  useInterval(() => {\r\n    dispatch(refreshToken());\r\n    expiryDelay = calculateExpiryDelay();\r\n  }, expiryDelay);\r\n};\r\n\r\nexport default useTokenRefresh;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { IconButton, Menu, MenuItem } from '@material-ui/core';\r\nimport { AccountCircle } from '@material-ui/icons';\r\nimport useLogout from '../../../hooks/useLogout';\r\nimport useDropdownMenu from '../../../hooks/useDropdownMenu';\r\nimport useTokenRefresh from '../../../hooks/useTokenRefresh';\r\n\r\nconst UserNavigation = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const { anchor, openMenu, closeMenu } = useDropdownMenu();\r\n\r\n  const logout = useLogout();\r\n\r\n  useTokenRefresh();\r\n\r\n  return (\r\n    <>\r\n      <IconButton edge='end' color='primary' onClick={openMenu}>\r\n        <AccountCircle fontSize='large' />\r\n      </IconButton>\r\n      <Menu anchorEl={anchor} open={Boolean(anchor)} onClose={closeMenu}>\r\n        <MenuItem component={Link} to='account' onClick={closeMenu}>\r\n          {t('accountSettings')}\r\n        </MenuItem>\r\n        <MenuItem onClick={logout}>{t('signOut')}</MenuItem>\r\n      </Menu>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserNavigation;\r\n","import { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport JwtDecode from 'jwt-decode';\r\nimport { setUserData } from '../slices/userSlice';\r\nimport useLogout from './useLogout';\r\n\r\nconst useTokenCheck = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const logout = useLogout();\r\n\r\n  const isLoggedIn = useSelector(state => state.user.isLoggedIn);\r\n\r\n  useEffect(() => {\r\n    if (isLoggedIn || !localStorage.getItem('token')) return;\r\n\r\n    const decodedToken = JwtDecode(localStorage.getItem('token'));\r\n    const userData = JSON.parse(localStorage.getItem('userData'));\r\n\r\n    if (!decodedToken || !userData || decodedToken.exp < new Date().getTime() / 1000) {\r\n      logout();\r\n    } else dispatch(setUserData(userData));\r\n    // eslint-disable-next-line\r\n  }, []);\r\n};\r\n\r\nexport default useTokenCheck;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { AppBar, IconButton, Toolbar, Typography } from '@material-ui/core';\r\nimport { Menu as MenuIcon, MonetizationOnTwoTone as AppIcon } from '@material-ui/icons';\r\nimport Drawer from '../AppDrawer';\r\nimport HomeNavigation from './HomeNavigation';\r\nimport UserNavigation from './UserNavigation';\r\nimport useDrawer from '../../../hooks/useDrawer';\r\nimport useTokenCheck from '../../../hooks/useTokenCheck';\r\nimport useStyles from './styles';\r\n\r\nconst Navigation = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const isLoggedIn = useSelector(state => state.user.isLoggedIn);\r\n\r\n  const { openDrawer, isDrawerPermanent } = useDrawer();\r\n\r\n  const classes = useStyles();\r\n\r\n  useTokenCheck();\r\n\r\n  return (\r\n    <>\r\n      <Drawer isLoggedIn={isLoggedIn} />\r\n      <AppBar position='fixed' color='inherit' className={classes.appBar}>\r\n        <Toolbar>\r\n          {!isDrawerPermanent && (\r\n            <IconButton\r\n              edge='start'\r\n              color='inherit'\r\n              onClick={openDrawer}\r\n              className={classes.appBarSpacer}>\r\n              <MenuIcon />\r\n            </IconButton>\r\n          )}\r\n          <AppIcon fontSize='large' className={classes.appBarLogo} color='primary' />\r\n          <Typography variant='h6' className={classes.appBarTitle}>\r\n            {t('title')}\r\n          </Typography>\r\n          {isLoggedIn ? <UserNavigation /> : <HomeNavigation />}\r\n        </Toolbar>\r\n      </AppBar>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import { Backdrop, CircularProgress } from '@material-ui/core';\r\nimport React from 'react';\r\n\r\nconst SuspenseLoading = () => {\r\n  return (\r\n    <Backdrop open={true}>\r\n      <CircularProgress />\r\n    </Backdrop>\r\n  );\r\n};\r\n\r\nexport default SuspenseLoading;\r\n","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst PrivateRoute = props => {\r\n  const isLoggedIn = useSelector(state => state.user.isLoggedIn);\r\n\r\n  return (\r\n    <>\r\n      {isLoggedIn || <Redirect to='/' />}\r\n      <Route {...props} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","const { makeStyles } = require('@material-ui/core');\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  heroContainer: {\r\n    width: 'fit-content',\r\n    padding: theme.spacing(2),\r\n    margin: theme.spacing(2, 0),\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    display: 'flex',\r\n    [theme.breakpoints.only('xs')]: {\r\n      flexDirection: 'column'\r\n    }\r\n  },\r\n  heroItem: {\r\n    marginTop: 'auto',\r\n    marginBottom: 'auto',\r\n    [theme.breakpoints.only('xs')]: {\r\n      textAlign: 'center'\r\n    }\r\n  },\r\n  heroIcon: {\r\n    fontSize: '6rem',\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.only('xs')]: {\r\n      marginRight: 0\r\n    }\r\n  },\r\n  featureCard: {\r\n    height: '100%'\r\n  },\r\n  featureIcon: {\r\n    fontSize: '5rem'\r\n  }\r\n}));\r\n\r\nexport default useStyles;\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Card, CardContent, Grid, Icon, Typography } from '@material-ui/core';\r\nimport useStyles from './styles';\r\n\r\nconst FeatureGrid = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const features = t('home.features', { returnObjects: true });\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid container justify='center' spacing={3}>\r\n      {features.map((feature, index) => (\r\n        <Grid key={index} item xs={12} sm={6}>\r\n          <Card className={classes.featureCard}>\r\n            <CardContent>\r\n              <div className='text-center'>\r\n                <Icon className={classes.featureIcon} color='primary'>\r\n                  {feature.icon}\r\n                </Icon>\r\n              </div>\r\n              <Typography gutterBottom variant='h5' className='text-center'>\r\n                {feature.header}\r\n              </Typography>\r\n              <Typography variant='body1' color='textSecondary' className='text-center'>\r\n                {feature.description}\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      ))}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default FeatureGrid;\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Box, Button, Typography } from '@material-ui/core';\r\nimport useHomeDialog from '../../../hooks/useHomeDialog';\r\n\r\nconst Footer = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const { openDialogForType } = useHomeDialog();\r\n\r\n  return (\r\n    <Box mb={4} className='text-center'>\r\n      <Typography variant='h5'>{t('home.footer')}</Typography>\r\n      <Box mt={2}>\r\n        <Button\r\n          variant='outlined'\r\n          color='inherit'\r\n          size='large'\r\n          onClick={() => openDialogForType('register')}>\r\n          {t('signUp')}\r\n        </Button>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Typography } from '@material-ui/core';\r\nimport { MonetizationOnTwoTone as AppIcon } from '@material-ui/icons';\r\nimport useStyles from './styles';\r\n\r\nconst Hero = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.heroContainer}>\r\n      <div className={classes.heroItem}>\r\n        <AppIcon className={classes.heroIcon} color='primary' />\r\n      </div>\r\n      <div className={classes.heroItem}>\r\n        <Typography variant='h4' gutterBottom>\r\n          {t('home.hero.title')}\r\n        </Typography>\r\n        <Typography variant='h6' color='textSecondary'>\r\n          {t('home.hero.description')}\r\n        </Typography>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Hero;\r\n","import { makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  dialogTitle: ({ centered }) => ({\r\n    margin: 0,\r\n    padding: centered ? theme.spacing(2, 8, 0) : theme.spacing(2, 8, 2, 3),\r\n    textAlign: centered ? 'center' : 'initial'\r\n  }),\r\n  dialogCloseButton: {\r\n    position: 'absolute',\r\n    top: theme.spacing(1),\r\n    right: theme.spacing(1),\r\n    color: theme.palette.text.secondary\r\n  }\r\n}));\r\n\r\nexport default useStyles;\r\n","import React from 'react';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport { IconButton, Typography } from '@material-ui/core';\r\nimport { Close } from '@material-ui/icons';\r\nimport useStyles from './styles';\r\n\r\nconst DialogHeader = ({ title, onClose, centered, closeButton }) => {\r\n  const classes = useStyles({ centered: centered });\r\n\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.dialogTitle}>\r\n      <Typography variant='h6'>{title}</Typography>\r\n      {closeButton && (\r\n        <IconButton className={classes.dialogCloseButton} onClick={onClose}>\r\n          <Close />\r\n        </IconButton>\r\n      )}\r\n    </MuiDialogTitle>\r\n  );\r\n};\r\n\r\nexport default DialogHeader;\r\n","import React from 'react';\r\nimport { Dialog as MaterialDialog, DialogActions, DialogContent } from '@material-ui/core';\r\nimport DialogHeader from './DialogHeader';\r\n\r\nconst Dialog = ({\r\n  open,\r\n  onClose,\r\n  title,\r\n  centeredTitle = false,\r\n  closeButton = false,\r\n  content,\r\n  actions,\r\n  children,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <MaterialDialog open={open} onClose={onClose} {...props}>\r\n      <DialogHeader\r\n        title={title}\r\n        onClose={onClose}\r\n        centered={centeredTitle}\r\n        closeButton={closeButton}\r\n      />\r\n      {content && <DialogContent>{content}</DialogContent>}\r\n      {actions && <DialogActions>{actions}</DialogActions>}\r\n      {children}\r\n    </MaterialDialog>\r\n  );\r\n};\r\n\r\nexport default Dialog;\r\n","const { makeStyles } = require('@material-ui/core');\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  dialogAlert: {\r\n    margin: theme.spacing(3, 3, 0)\r\n  },\r\n  dialogActions: {\r\n    padding: theme.spacing(2, 3),\r\n    justifyContent: 'center'\r\n  }\r\n}));\r\n\r\nexport default useStyles;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Collapse } from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { setError } from '../../../../slices/userSlice';\r\nimport useStyles from './styles';\r\n\r\nconst DialogAlert = ({ locationKey }) => {\r\n  const [displayedError, setDisplayedError] = useState('');\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const error = useSelector(state => state.user.error);\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      if (error !== locationKey) dispatch(setError(null));\r\n      else {\r\n        setDisplayedError(error);\r\n        setTimeout(() => {\r\n          dispatch(setError(null));\r\n        }, 5000);\r\n      }\r\n    }\r\n  }, [error, dispatch, locationKey]);\r\n\r\n  useEffect(() => {\r\n    return () => dispatch(setError(null));\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <Collapse in={Boolean(error)}>\r\n      <Alert variant='outlined' severity='error' className={classes.dialogAlert}>\r\n        {displayedError && t(`home.dialog.error.${displayedError}`)}\r\n      </Alert>\r\n    </Collapse>\r\n  );\r\n};\r\n\r\nexport default DialogAlert;\r\n","import { makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  wrapper: {\r\n    position: 'relative'\r\n  },\r\n  progress: {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  },\r\n  successAlert: {\r\n    margin: theme.spacing(3, 3, 0)\r\n  }\r\n}));\r\n\r\nexport default useStyles;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Button, CircularProgress } from '@material-ui/core';\r\nimport useStyles from './styles';\r\n\r\nconst SubmitButton = ({ text }) => {\r\n  const loading = useSelector(state => state.user.actionPending);\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.wrapper}>\r\n      <Button variant='contained' color='primary' size='large' type='submit' disabled={loading}>\r\n        {text}\r\n      </Button>\r\n      {loading && <CircularProgress size={24} className={classes.progress} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubmitButton;\r\n","import React from 'react';\r\nimport { DialogActions, DialogContent } from '@material-ui/core';\r\nimport { ValidatorForm } from 'react-material-ui-form-validator';\r\nimport SubmitButton from './common/SubmitButton';\r\nimport useStyles from '../styles';\r\n\r\nconst FormContent = ({ onSubmit, children, submitText }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <ValidatorForm onSubmit={onSubmit} noValidate>\r\n      <DialogContent>{children}</DialogContent>\r\n      <DialogActions className={classes.dialogActions}>\r\n        <SubmitButton text={submitText} />\r\n      </DialogActions>\r\n    </ValidatorForm>\r\n  );\r\n};\r\n\r\nexport default FormContent;\r\n","import React from 'react';\r\nimport { TextValidator } from 'react-material-ui-form-validator';\r\n\r\nconst DialogTextField = props => {\r\n  return <TextValidator margin='normal' variant='outlined' fullWidth {...props} />;\r\n};\r\n\r\nexport default DialogTextField;\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport DialogTextField from './DialogTextField';\r\n\r\nconst Email = props => {\r\n  const { t } = useTranslation();\r\n\r\n  return (\r\n    <DialogTextField\r\n      label={t('home.dialog.email')}\r\n      type='email'\r\n      validators={['required', 'isEmail']}\r\n      errorMessages={[t('home.dialog.validation.required'), t('home.dialog.validation.email')]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Email;\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport DialogTextField from './DialogTextField';\r\n\r\nconst Password = ({ passwordChange, ...props }) => {\r\n  const { t } = useTranslation();\r\n\r\n  return (\r\n    <DialogTextField\r\n      label={t(`home.dialog.${passwordChange ? 'newPassword' : 'password'}`)}\r\n      type='password'\r\n      validators={[\r\n        'required',\r\n        'matchRegexp:^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[#$^+=!*()@%&]).{6,}$'\r\n      ]}\r\n      errorMessages={[t('home.dialog.validation.required'), t('home.dialog.validation.password')]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Password;\r\n","const { makeStyles } = require('@material-ui/core');\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  dialogText: {\r\n    display: 'block',\r\n    marginTop: theme.spacing(3),\r\n    textAlign: 'center'\r\n  },\r\n  dialogConfirmContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    margin: theme.spacing(3, 0)\r\n  },\r\n  dialogProgress: {\r\n    marginRight: theme.spacing(2)\r\n  }\r\n}));\r\n\r\nexport default useStyles;\r\n","import React, { useState } from 'react';\r\nimport { Link as BrowserLink, Redirect } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Link } from '@material-ui/core';\r\nimport FormContent from './FormContent';\r\nimport Email from './common/Email';\r\nimport Password from './common/Password';\r\nimport { login } from '../../../../../slices/userSlice';\r\nimport useStyles from './styles';\r\n\r\nconst Login = () => {\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: ''\r\n  });\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const isLoggedIn = useSelector(state => state.user.isLoggedIn);\r\n\r\n  const classes = useStyles();\r\n\r\n  const onTextChanged = name => ({ target }) => {\r\n    setFormData(formData => ({ ...formData, [name]: target.value }));\r\n  };\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    dispatch(login(formData));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isLoggedIn && <Redirect to='invoices' />}\r\n      <FormContent onSubmit={onSubmit} submitText={t('signIn')}>\r\n        <Email autoFocus onChange={onTextChanged('email')} value={formData.email} />\r\n        <Password onChange={onTextChanged('password')} value={formData.password} />\r\n        <Link\r\n          component={BrowserLink}\r\n          to='resetPassword'\r\n          variant='body2'\r\n          color='primary'\r\n          className={classes.dialogText}>\r\n          {t('home.dialog.forgotPassword')}\r\n        </Link>\r\n      </FormContent>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { Collapse } from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport useStyles from './styles';\r\n\r\nconst SuccessAlert = ({ success, text }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Collapse in={success}>\r\n      <Alert variant='outlined' severity='success' className={classes.successAlert}>\r\n        {text}\r\n      </Alert>\r\n    </Collapse>\r\n  );\r\n};\r\n\r\nexport default SuccessAlert;\r\n","import { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { unwrapResult } from '@reduxjs/toolkit';\r\n\r\nconst useResultSuccess = action => {\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const performAction = (args, successCallback, handleError) => {\r\n    setSuccess(false);\r\n    dispatch(action(args))\r\n      .then(unwrapResult)\r\n      .then(() => {\r\n        setSuccess(true);\r\n        successCallback && successCallback();\r\n      })\r\n      .catch(e => handleError && handleError(e));\r\n  };\r\n\r\n  return { success, performAction };\r\n};\r\n\r\nexport default useResultSuccess;\r\n","import React, { useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Typography } from '@material-ui/core';\r\nimport SuccessAlert from './common/SuccessAlert';\r\nimport FormContent from './FormContent';\r\nimport DialogTextField from './common/DialogTextField';\r\nimport Email from './common/Email';\r\nimport Password from './common/Password';\r\nimport { register } from '../../../../../slices/userSlice';\r\nimport useResultSuccess from '../../../../../hooks/useResultSuccess';\r\nimport useStyles from './styles';\r\n\r\nconst Register = () => {\r\n  const [formData, setFormData] = useState({\r\n    fullName: '',\r\n    email: '',\r\n    password: ''\r\n  });\r\n\r\n  const { success, performAction } = useResultSuccess(register);\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const classes = useStyles();\r\n\r\n  const onTextChanged = name => ({ target }) => {\r\n    setFormData(formData => ({ ...formData, [name]: target.value }));\r\n  };\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    performAction(formData, () => setFormData({ fullName: '', email: '', password: '' }));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <SuccessAlert success={success} text={t('home.dialog.success.register')} />\r\n      <FormContent onSubmit={onSubmit} submitText={t('signUp')}>\r\n        <DialogTextField\r\n          autoFocus\r\n          label={t('home.dialog.name')}\r\n          type='text'\r\n          value={formData.fullName}\r\n          validators={['required']}\r\n          errorMessages={[t('home.dialog.validation.required')]}\r\n          onChange={onTextChanged('fullName')}\r\n        />\r\n        <Email onChange={onTextChanged('email')} value={formData.email} />\r\n        <Password onChange={onTextChanged('password')} value={formData.password} />\r\n        <Typography variant='body2' color='textSecondary' className={classes.dialogText}>\r\n          {t('home.dialog.terms')}\r\n        </Typography>\r\n      </FormContent>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React, { useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport SuccessAlert from './common/SuccessAlert';\r\nimport FormContent from './FormContent';\r\nimport Email from './common/Email';\r\nimport { resetPassword } from '../../../../../slices/userSlice';\r\nimport useResultSuccess from '../../../../../hooks/useResultSuccess';\r\n\r\nconst ResetPassword = () => {\r\n  const [email, setEmail] = useState('');\r\n\r\n  const { success, performAction } = useResultSuccess(resetPassword);\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const onTextChanged = ({ target }) => {\r\n    setEmail(target.value);\r\n  };\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    performAction(email, () => setEmail(''));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <SuccessAlert success={success} text={t('home.dialog.success.resetPassword')} />\r\n      <FormContent onSubmit={onSubmit} submitText={t('reset')}>\r\n        <Email autoFocus onChange={onTextChanged} value={email} />\r\n      </FormContent>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ResetPassword;\r\n","import React, { useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport SuccessAlert from './common/SuccessAlert';\r\nimport FormContent from './FormContent';\r\nimport Password from './common/Password';\r\nimport { changeResetPassword } from '../../../../../slices/userSlice';\r\nimport useResultSuccess from '../../../../../hooks/useResultSuccess';\r\n\r\nconst ChangePassword = () => {\r\n  const [password, setPassword] = useState('');\r\n\r\n  const { success, performAction } = useResultSuccess(changeResetPassword);\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const params = new URLSearchParams(useLocation().search);\r\n  const email = params.get('email');\r\n  const token = params.get('token');\r\n\r\n  const onTextChanged = ({ target }) => {\r\n    setPassword(target.value);\r\n  };\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    performAction({ email: email, resetToken: token, newPassword: password }, () =>\r\n      setPassword('')\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <SuccessAlert success={success} text={t('home.dialog.success.resetPassword')} />\r\n      <FormContent onSubmit={onSubmit} submitText={t('changePassword')}>\r\n        <Password autoFocus passwordChange onChange={onTextChanged} value={password} />\r\n      </FormContent>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChangePassword;\r\n","import React, { useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { CircularProgress, DialogContent, Typography } from '@material-ui/core';\r\nimport SuccessAlert from './common/SuccessAlert';\r\nimport { confirmEmail } from '../../../../../slices/userSlice';\r\nimport useResultSuccess from '../../../../../hooks/useResultSuccess';\r\nimport useStyles from './styles';\r\n\r\nconst ConfirmEmail = () => {\r\n  const { success, performAction } = useResultSuccess(confirmEmail);\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const actionPending = useSelector(state => state.user.actionPending);\r\n\r\n  const params = new URLSearchParams(useLocation().search);\r\n  const email = params.get('email');\r\n  const token = params.get('token');\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    performAction({ email: email, token: token });\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <SuccessAlert success={success} text={t('home.dialog.success.confirmEmail')} />\r\n      <DialogContent>\r\n        <div className={classes.dialogConfirmContainer}>\r\n          {actionPending ? (\r\n            <>\r\n              <CircularProgress className={classes.dialogProgress} />\r\n              <Typography>{t('home.dialog.pleaseWait')}</Typography>\r\n            </>\r\n          ) : (\r\n            <Typography>{t('home.dialog.closeWindow')}</Typography>\r\n          )}\r\n        </div>\r\n      </DialogContent>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ConfirmEmail;\r\n","import React from 'react';\r\nimport { Route, useLocation } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport Dialog from '../../../common/Dialog';\r\nimport DialogAlert from './DialogAlert';\r\nimport Login from './DialogContent/Login';\r\nimport Register from './DialogContent/Register';\r\nimport ResetPassword from './DialogContent/ResetPassword';\r\nimport ChangePassword from './DialogContent/ChangePassword';\r\nimport ConfirmEmail from './DialogContent/ConfirmEmail';\r\nimport useHomeDialog from '../../../../hooks/useHomeDialog';\r\n\r\nconst HomeDialog = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const { isDialogOpen, closeDialog, onExited } = useHomeDialog();\r\n\r\n  const locationKey = useLocation().pathname.substring(1);\r\n\r\n  const dialogTitle = () => {\r\n    //Required to make sure i18n doesn't log missing key errors.\r\n    return locationKey ? t(`home.dialog.${locationKey}`) : '';\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      centeredTitle\r\n      closeButton\r\n      title={dialogTitle()}\r\n      open={isDialogOpen}\r\n      onClose={closeDialog}\r\n      onExited={onExited}\r\n      maxWidth='xs'\r\n      fullWidth>\r\n      <DialogAlert locationKey={locationKey} />\r\n      <Route exact path='/login' component={Login} />\r\n      <Route exact path='/register' component={Register} />\r\n      <Route exact path='/resetPassword' component={ResetPassword} />\r\n      <Route exact path='/changePassword' component={ChangePassword} />\r\n      <Route exact path='/confirmEmail' component={ConfirmEmail} />\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default HomeDialog;\r\n","import React, { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\nimport { Box, Divider } from '@material-ui/core';\r\nimport FeatureGrid from './FeatureGrid';\r\nimport Footer from './Footer';\r\nimport Hero from './Hero';\r\nimport HomeDialog from './HomeDialog';\r\nimport useHomeDialog from '../../../hooks/useHomeDialog';\r\n\r\nconst Home = () => {\r\n  const location = useLocation();\r\n\r\n  const { isDialogOpen, openDialog, closeDialog } = useHomeDialog();\r\n\r\n  const isLoggedIn = useSelector(state => state.user.isLoggedIn);\r\n\r\n  const checkLocation = () => {\r\n    location.pathname !== '/' && !isDialogOpen && openDialog();\r\n    location.pathname === '/' && isDialogOpen && closeDialog();\r\n  };\r\n  useEffect(checkLocation, [location]);\r\n\r\n  return (\r\n    <>\r\n      {isLoggedIn && <Redirect to='invoices' />}\r\n      <HomeDialog />\r\n      <Hero />\r\n      <FeatureGrid />\r\n      <Box my={5}>\r\n        <Divider variant='fullWidth' />\r\n      </Box>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { useDispatch } from 'react-redux';\r\nimport { unwrapResult } from '@reduxjs/toolkit';\r\n\r\nconst useHandleAction = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const handleAction = async ({ action, onSuccess, rejectOnError = false }) => {\r\n    await dispatch(action)\r\n      .then(unwrapResult)\r\n      .then(result => onSuccess && onSuccess(result))\r\n      .catch(_ => {\r\n        if (rejectOnError) throw new Error();\r\n      });\r\n  };\r\n\r\n  return handleAction;\r\n};\r\n\r\nexport default useHandleAction;\r\n","export const filterProperties = (oldData, newData) => {\r\n  const filteredKeys = Object.keys(newData).filter(key => newData[key] !== oldData[key]);\r\n\r\n  if (filteredKeys.length === 0) return;\r\n\r\n  return filteredKeys.reduce((prev, key) => ({ ...prev, [key]: newData[key] }), {});\r\n};\r\n\r\nexport const getColumnCellStyle = width => {\r\n  return {\r\n    cellStyle: {\r\n      minWidth: width,\r\n      maxWidth: width\r\n    },\r\n    headerStyle: {\r\n      minWidth: width,\r\n      maxWidth: width\r\n    }\r\n  };\r\n};\r\n","import React, { forwardRef } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { AddCircle, Check, Clear, Delete, Edit } from '@material-ui/icons';\r\nimport useHandleAction from '../../../hooks/useHandleAction';\r\nimport { filterProperties } from '../../../utils/dataUtils';\r\n\r\nconst useConfig = editableConfig => {\r\n  const { t } = useTranslation();\r\n\r\n  const handleAction = useHandleAction();\r\n\r\n  const options = {\r\n    searchFieldVariant: 'outlined',\r\n    addRowPosition: 'first',\r\n    tableLayout: 'fixed',\r\n    draggable: false\r\n  };\r\n\r\n  const getIcon = (Component, iconProps) =>\r\n    forwardRef((props, ref) => <Component {...props} ref={ref} color='primary' {...iconProps} />);\r\n\r\n  const icons = {\r\n    Add: getIcon(AddCircle, { fontSize: 'large' }),\r\n    Check: getIcon(Check),\r\n    Clear: getIcon(Clear),\r\n    Delete: getIcon(Delete),\r\n    Edit: getIcon(Edit),\r\n    ResetSearch: getIcon(Clear, { style: { marginRight: -16 }, color: 'inherit' })\r\n  };\r\n\r\n  const localization = {\r\n    body: {\r\n      emptyDataSourceMessage: t('table.empty'),\r\n      addTooltip: t('table.add'),\r\n      deleteTooltip: t('table.delete'),\r\n      editTooltip: t('table.edit'),\r\n      filterRow: {\r\n        filterTooltip: t('table.filter')\r\n      },\r\n      editRow: {\r\n        deleteText: t('table.deleteText'),\r\n        cancelTooltip: t('table.cancel'),\r\n        saveTooltip: t('table.save')\r\n      }\r\n    },\r\n    header: {\r\n      actions: t('table.actions')\r\n    },\r\n    pagination: {\r\n      labelDisplayedRows: t('table.rows'),\r\n      labelRowsSelect: t('table.rowsSelect'),\r\n      labelRowsPerPage: t('table.rowsPerPage'),\r\n      firstAriaLabel: t('table.first'),\r\n      firstTooltip: t('table.first'),\r\n      previousAriaLabel: t('table.previous'),\r\n      previousTooltip: t('table.previous'),\r\n      nextAriaLabel: t('table.next'),\r\n      nextTooltip: t('table.next'),\r\n      lastAriaLabel: t('table.last'),\r\n      lastTooltip: t('table.last')\r\n    },\r\n    toolbar: {\r\n      nRowsSelected: t('table.rowsSelected'),\r\n      searchTooltip: t('table.search'),\r\n      searchPlaceholder: t('table.search')\r\n    }\r\n  };\r\n\r\n  let editable = null;\r\n\r\n  if (editableConfig) {\r\n    const { createAction, updateAction, deleteAction } = editableConfig;\r\n\r\n    editable = {\r\n      onRowAdd: newRow => handleAction({ action: createAction(newRow), rejectOnError: true }),\r\n      onRowUpdate: async (newRow, oldRow) => {\r\n        const updateData = filterProperties(oldRow, newRow);\r\n\r\n        if (updateData) {\r\n          await handleAction({\r\n            action: updateAction({ id: newRow.id, ...updateData }),\r\n            rejectOnError: true\r\n          });\r\n        }\r\n      },\r\n      onRowDelete: deletedRow =>\r\n        handleAction({ action: deleteAction(deletedRow.id), rejectOnError: true })\r\n    };\r\n  }\r\n\r\n  return { options, icons, localization, editable };\r\n};\r\n\r\nexport default useConfig;\r\n","import { makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  tableContainer: {\r\n    margin: theme.spacing(3, 0),\r\n    width: '100%'\r\n  }\r\n}));\r\n\r\nexport default useStyles;\r\n","import React from 'react';\r\nimport MaterialTable from 'material-table';\r\nimport useConfig from './config';\r\nimport useStyles from './styles';\r\n\r\nconst DataTable = ({ data, editableConfig = null, ...props }) => {\r\n  const { options, icons, localization, editable } = useConfig(editableConfig);\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.tableContainer}>\r\n      <MaterialTable\r\n        data={data}\r\n        options={options}\r\n        icons={icons}\r\n        localization={localization}\r\n        editable={editable}\r\n        {...props}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable;\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Menu, MenuItem } from '@material-ui/core';\r\n\r\nconst CreateMenu = ({ anchor, closeMenu }) => {\r\n  const { t } = useTranslation();\r\n\r\n  const options = t('invoices.options', { returnObjects: true });\r\n\r\n  const onOptionSelected = index => () => {\r\n    //TODO switch to create component.\r\n    closeMenu();\r\n  };\r\n\r\n  return (\r\n    <Menu anchorEl={anchor} open={Boolean(anchor)} onClose={closeMenu}>\r\n      {options.map((option, index) => (\r\n        <MenuItem key={index} onClick={onOptionSelected(index)}>\r\n          {option.label}\r\n        </MenuItem>\r\n      ))}\r\n    </Menu>\r\n  );\r\n};\r\n\r\nexport default CreateMenu;\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Button, DialogContentText } from '@material-ui/core';\r\nimport Dialog from '../../common/Dialog';\r\n\r\nconst DeleteDialog = ({ open, onClose }) => {\r\n  const { t } = useTranslation();\r\n\r\n  const deleteRecord = () => {\r\n\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={onClose}\r\n      title={t('table.delete')}\r\n      content={<DialogContentText>{t('table.deleteText')}</DialogContentText>}\r\n      actions={\r\n        <>\r\n          <Button onClick={deleteRecord} color='primary'>\r\n            {t('table.delete')}\r\n          </Button>\r\n          <Button onClick={onClose} color='primary'>\r\n            {t('table.cancel')}\r\n          </Button>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default DeleteDialog;\r\n","import { useState } from 'react';\r\n\r\nconst useDialog = () => {\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\r\n\r\n  const [dialogData, setDialogData] = useState(null);\r\n\r\n  const openDialog = data => {\r\n    setIsDialogOpen(true);\r\n    data && setDialogData(data);\r\n  };\r\n\r\n  const closeDialog = () => setIsDialogOpen(false);\r\n\r\n  return { isDialogOpen, dialogData, openDialog, closeDialog };\r\n};\r\n\r\nexport default useDialog;\r\n","import React, { forwardRef } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { AddCircle, Delete, Edit } from '@material-ui/icons';\r\nimport useDropdownMenu from '../../../hooks/useDropdownMenu';\r\nimport useDialog from '../../../hooks/useDialog';\r\n\r\nconst useConfig = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const history = useHistory();\r\n\r\n  const dialog = useDialog();\r\n\r\n  const menu = useDropdownMenu();\r\n\r\n  const columns = [\r\n    {\r\n      title: t('invoices.date'),\r\n      field: 'date',\r\n      width: 190\r\n    },\r\n    {\r\n      title: t('invoices.number'),\r\n      field: 'number',\r\n      width: 190\r\n    },\r\n    {\r\n      title: t('invoices.counterparty'),\r\n      field: 'counterparty',\r\n      width: 190\r\n    },\r\n    {\r\n      title: t('invoices.netPrice'),\r\n      field: 'netPrice',\r\n      width: 190\r\n    },\r\n    {\r\n      title: t('invoices.grossPrice'),\r\n      field: 'grossPrice',\r\n      width: 190\r\n    },\r\n    {\r\n      title: t('invoices.issuer'),\r\n      field: 'issuer',\r\n      width: 190\r\n    }\r\n  ];\r\n\r\n  const getIcon = (Component, iconProps) =>\r\n    forwardRef((props, ref) => <Component {...props} ref={ref} color='primary' {...iconProps} />);\r\n\r\n  const actions = [\r\n    {\r\n      icon: getIcon(AddCircle, { fontSize: 'large' }),\r\n      tooltip: t('table.add'),\r\n      isFreeAction: true,\r\n      onClick: menu.openMenu\r\n    },\r\n    {\r\n      icon: getIcon(Edit),\r\n      tooltip: t('table.edit'),\r\n      onClick: (_, rowData) => history.replace(`/invoices/${rowData.number}`)\r\n    },\r\n    {\r\n      icon: getIcon(Delete),\r\n      tooltip: t('table.delete'),\r\n      onClick: (_, rowData) => dialog.openDialog(rowData.id)\r\n    }\r\n  ];\r\n\r\n  return { columns, actions, dialog, menu };\r\n};\r\n\r\nexport default useConfig;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport DataTable from '../../common/DataTable';\r\nimport CreateMenu from './CreateMenu';\r\nimport DeleteDialog from './DeleteDialog';\r\nimport useConfig from './config';\r\n\r\nconst Invoices = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const invoices = useSelector(state => state.invoice.invoiceData);\r\n\r\n  const actionPending = useSelector(state => state.invoice.actionPending);\r\n\r\n  const { columns, actions, dialog, menu } = useConfig();\r\n\r\n  return (\r\n    <>\r\n      <CreateMenu anchor={menu.anchor} closeMenu={menu.closeMenu} />\r\n      <DeleteDialog\r\n        open={dialog.isDialogOpen}\r\n        onClose={dialog.closeDialog}\r\n        data={dialog.dialogData}\r\n      />\r\n      <DataTable\r\n        title={t('invoices.title')}\r\n        isLoading={actionPending}\r\n        data={invoices}\r\n        columns={columns}\r\n        actions={actions}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Invoices;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Button, DialogContentText } from '@material-ui/core';\r\nimport Dialog from '../common/Dialog';\r\n\r\nconst ErrorDialog = ({ error, clearAction }) => {\r\n  const [displayedError, setDisplayedError] = useState('');\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const closeDialog = () => {\r\n    dispatch(clearAction(null));\r\n  };\r\n\r\n  const getTitle = () => (displayedError ? t(`tableError.${displayedError}`) : '');\r\n\r\n  const getText = () =>\r\n    t(`tableError.text.${displayedError === 'details' ? 'details' : 'serverDown'}`);\r\n\r\n  useEffect(() => {\r\n    error && setDisplayedError(error);\r\n  }, [error]);\r\n\r\n  return (\r\n    <Dialog\r\n      open={Boolean(error)}\r\n      onClose={closeDialog}\r\n      title={getTitle()}\r\n      content={<DialogContentText>{getText()}</DialogContentText>}\r\n      actions={\r\n        <Button onClick={closeDialog} color='primary'>\r\n          {t('cancel')}\r\n        </Button>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default ErrorDialog;\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport webInvoicerApi from '../apis/webInvoicerApi';\r\nimport apiHandler from '../apis/apiHandler';\r\n\r\nconst initialState = {\r\n  actionPending: false,\r\n  error: null,\r\n  productData: []\r\n};\r\n\r\nexport const createProduct = createAsyncThunk('product/create', async (product, { dispatch }) => {\r\n  return await handleAction(\r\n    {\r\n      method: () => webInvoicerApi().post('Products', product),\r\n      errorData: 'create'\r\n    },\r\n    dispatch\r\n  );\r\n});\r\n\r\nexport const getProducts = createAsyncThunk('product/get', async (_, { dispatch }) => {\r\n  return await handleAction(\r\n    {\r\n      method: () => webInvoicerApi().get('Products'),\r\n      errorData: 'get'\r\n    },\r\n    dispatch\r\n  );\r\n});\r\n\r\nexport const updateProduct = createAsyncThunk('product/update', async (product, { dispatch }) => {\r\n  return await handleAction(\r\n    {\r\n      method: () => webInvoicerApi().put('Products', product),\r\n      errorData: 'update'\r\n    },\r\n    dispatch\r\n  );\r\n});\r\n\r\nexport const deleteProduct = createAsyncThunk('product/delete', async (id, { dispatch }) => {\r\n  await handleAction(\r\n    {\r\n      method: () => webInvoicerApi().delete(`Products/${id}`),\r\n      errorData: 'delete'\r\n    },\r\n    dispatch\r\n  );\r\n\r\n  return id;\r\n});\r\n\r\nconst handleAction = async ({ method, errorData }, dispatch) => {\r\n  dispatch(setActionPending(true));\r\n  const response = await apiHandler(method(), errorData);\r\n  dispatch(setActionPending(false));\r\n\r\n  if (response.type === 'ERROR') {\r\n    dispatch(setError(response.data));\r\n    throw new Error(response.data);\r\n  }\r\n  return response.data;\r\n};\r\n\r\nconst productSlice = createSlice({\r\n  name: 'product',\r\n  initialState,\r\n  reducers: {\r\n    setActionPending(state, action) {\r\n      state.actionPending = action.payload;\r\n    },\r\n    setError(state, action) {\r\n      state.error = action.payload;\r\n    }\r\n  },\r\n  extraReducers: {\r\n    [createProduct.fulfilled]: (state, action) => {\r\n      state.productData.push(action.payload);\r\n    },\r\n    [getProducts.fulfilled]: (state, action) => {\r\n      state.productData = action.payload;\r\n    },\r\n    [updateProduct.fulfilled]: (state, action) => {\r\n      const index = state.productData.findIndex(x => x.id === action.payload.id);\r\n      state.productData[index] = action.payload;\r\n    },\r\n    [deleteProduct.fulfilled]: (state, action) => {\r\n      state.productData = state.productData.filter(x => x.id !== action.payload);\r\n    }\r\n  }\r\n});\r\n\r\nexport const { setActionPending, setError } = productSlice.actions;\r\n\r\nexport default productSlice.reducer;\r\n","import { useTranslation } from 'react-i18next';\r\nimport validator from 'validator';\r\n\r\nconst useValidation = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const validNip = value => {\r\n    const weights = [6, 5, 7, 2, 3, 4, 5, 6, 7, 0];\r\n\r\n    if (value.length !== 10 || !validator.isNumeric(value)) return false;\r\n\r\n    let sum = 0;\r\n    Array.from(value).forEach((char, index) => (sum += Number(char) * weights[index]));\r\n    return sum % 11 === Number(value[9]);\r\n  };\r\n\r\n  const currency = value => {\r\n    return (\r\n      Number(value) > 0 &&\r\n      validator.isCurrency(value, {\r\n        allow_negatives: false,\r\n        digits_after_decimal: [1, 2],\r\n        symbol: ''\r\n      })\r\n    );\r\n  };\r\n\r\n  const phoneNumber = value => {\r\n    return validator.isMobilePhone(value, ['pl-PL']);\r\n  };\r\n\r\n  const postalCode = value => {\r\n    return validator.isPostalCode(value, ['PL']);\r\n  };\r\n\r\n  const required = value => {\r\n    const coercedValue = value + '';\r\n    const isInvalid = !value || validator.isEmpty(coercedValue, { ignore_whitespace: true });\r\n\r\n    return isInvalid ? t('validation.required') : true;\r\n  };\r\n\r\n  const validate = (validationType, value, isRequired) => {\r\n    const coercedValue = value + '';\r\n    if (!isRequired && (!value || coercedValue.length === 0)) return true;\r\n\r\n    const result = () => {\r\n      switch (validationType) {\r\n        case 'validNip':\r\n          return validNip(coercedValue);\r\n        case 'currency':\r\n          return currency(coercedValue);\r\n        case 'phoneNumber':\r\n          return phoneNumber(coercedValue);\r\n        case 'postalCode':\r\n          return postalCode(coercedValue);\r\n        default:\r\n          throw new Error('Validation type not supported!');\r\n      }\r\n    };\r\n\r\n    return result() ? true : t(`validation.${validationType}`);\r\n  };\r\n\r\n  return { required, validate };\r\n};\r\n\r\nexport default useValidation;\r\n","export const calculateGrossPrice = (netPrice, vatRate) => {\r\n  return roundValue(netPrice * getVatRate(vatRate));\r\n};\r\n\r\nexport const calculateNetPrice = (grossPrice, vatRate) => {\r\n  return roundValue(grossPrice / getVatRate(vatRate));\r\n};\r\n\r\nconst roundValue = value => (isNaN(value) ? undefined : Number(Math.round(value + 'e2') + 'e-2'));\r\n\r\nconst getVatRate = vatRate => {\r\n  switch (vatRate) {\r\n    case 0:\r\n      return 1.23;\r\n    case 1:\r\n      return 1.08;\r\n    case 2:\r\n      return 1.05;\r\n    default:\r\n      return 1.0;\r\n  }\r\n};\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { MTableEditField } from 'material-table';\r\nimport { createProduct, deleteProduct, updateProduct } from '../../../slices/productSlice';\r\nimport useValidation from '../../../hooks/useValidation';\r\nimport { calculateGrossPrice, calculateNetPrice } from '../../../utils/priceUtils';\r\n\r\nconst useConfig = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const { required, validate } = useValidation();\r\n\r\n  const currencySettings = fieldName => {\r\n    return {\r\n      align: 'left',\r\n      currencySetting: {\r\n        locale: 'pl',\r\n        currencyCode: 'PLN'\r\n      },\r\n      editComponent: currencyEditComponent(fieldName)\r\n    };\r\n  };\r\n\r\n  const currencyEditComponent = fieldName => props => (\r\n    <MTableEditField {...props} onChange={onPriceChange(fieldName, props)} />\r\n  );\r\n\r\n  const vatRateEditComponent = props => (\r\n    <MTableEditField {...props} onChange={onVatRateChange(props)} />\r\n  );\r\n\r\n  const onPriceChange = (fieldName, { rowData, onRowDataChange }) => value => {\r\n    const calculatedValue =\r\n      fieldName === 'netPrice'\r\n        ? calculateGrossPrice(value, rowData.vatRate)\r\n        : calculateNetPrice(value, rowData.vatRate);\r\n\r\n    const calculatedFieldName = fieldName === 'netPrice' ? 'grossPrice' : 'netPrice';\r\n    onRowDataChange({\r\n      ...rowData,\r\n      [fieldName]: value,\r\n      [calculatedFieldName]: calculatedValue\r\n    });\r\n  };\r\n\r\n  const onVatRateChange = ({ rowData, onRowDataChange }) => value => {\r\n    const parsedValue = Number(value);\r\n\r\n    onRowDataChange({\r\n      ...rowData,\r\n      vatRate: parsedValue,\r\n      grossPrice: calculateGrossPrice(rowData.netPrice, parsedValue)\r\n    });\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: t('products.name'),\r\n      field: 'name',\r\n      width: 190,\r\n      validate: row => required(row.name)\r\n    },\r\n    { title: t('products.description'), field: 'description', width: 165 },\r\n    {\r\n      title: t('products.netPrice'),\r\n      field: 'netPrice',\r\n      width: 190,\r\n      type: 'currency',\r\n      ...currencySettings('netPrice'),\r\n      validate: row => validate('currency', row.netPrice, true)\r\n    },\r\n    {\r\n      title: t('products.grossPrice'),\r\n      field: 'grossPrice',\r\n      width: 190,\r\n      type: 'currency',\r\n      ...currencySettings('grossPrice'),\r\n      validate: row => validate('currency', row.grossPrice, true)\r\n    },\r\n    {\r\n      title: t('products.vatRate'),\r\n      field: 'vatRate',\r\n      width: 190,\r\n      initialEditValue: 0,\r\n      editComponent: vatRateEditComponent,\r\n      lookup: {\r\n        0: '23%',\r\n        1: '8%',\r\n        2: '5%',\r\n        3: '0%',\r\n        4: t('products.vatExempt'),\r\n        5: t('products.vatNotApplicable')\r\n      }\r\n    }\r\n  ];\r\n\r\n  const editableConfig = {\r\n    createAction: createProduct,\r\n    updateAction: updateProduct,\r\n    deleteAction: deleteProduct\r\n  };\r\n\r\n  return { columns, editableConfig };\r\n};\r\n\r\nexport default useConfig;\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport DataTable from '../../common/DataTable';\r\nimport ErrorDialog from '../../common/ErrorDialog';\r\nimport { getProducts, setError } from '../../../slices/productSlice';\r\nimport useConfig from './config';\r\n\r\nconst Products = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const products = useSelector(state => state.product.productData);\r\n\r\n  const actionPending = useSelector(state => state.product.actionPending);\r\n\r\n  const error = useSelector(state => state.product.error);\r\n\r\n  const { columns, editableConfig } = useConfig();\r\n\r\n  useEffect(() => {\r\n    dispatch(getProducts());\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <ErrorDialog error={error} clearAction={setError} />\r\n      <DataTable\r\n        title={t('products.title')}\r\n        isLoading={actionPending}\r\n        data={products}\r\n        columns={columns}\r\n        editableConfig={editableConfig}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport webInvoicerApi from '../apis/webInvoicerApi';\r\nimport apiHandler from '../apis/apiHandler';\r\n\r\nconst initialState = {\r\n  actionPending: false,\r\n  error: null,\r\n  counterpartyData: []\r\n};\r\n\r\nexport const createCounterparty = createAsyncThunk(\r\n  'counterparty/create',\r\n  async (counterparty, { dispatch }) => {\r\n    return await handleAction(\r\n      {\r\n        method: () => webInvoicerApi().post('Counterparties', counterparty),\r\n        errorData: 'create'\r\n      },\r\n      dispatch\r\n    );\r\n  }\r\n);\r\n\r\nexport const getCounterpartyDetails = createAsyncThunk(\r\n  'counterparty/getDetails',\r\n  async (nip, { dispatch }) => {\r\n    return await handleAction(\r\n      {\r\n        method: () => webInvoicerApi().get(`Counterparties/details/${nip}`),\r\n        errorData: 'details'\r\n      },\r\n      dispatch\r\n    );\r\n  }\r\n);\r\n\r\nexport const getCounterparties = createAsyncThunk('counterparty/get', async (_, { dispatch }) => {\r\n  return await handleAction(\r\n    {\r\n      method: () => webInvoicerApi().get('Counterparties'),\r\n      errorData: 'get'\r\n    },\r\n    dispatch\r\n  );\r\n});\r\n\r\nexport const updateCounterparty = createAsyncThunk(\r\n  'counterparty/update',\r\n  async (counterparty, { dispatch }) => {\r\n    return await handleAction(\r\n      {\r\n        method: () => webInvoicerApi().put('Counterparties', counterparty),\r\n        errorData: 'update'\r\n      },\r\n      dispatch\r\n    );\r\n  }\r\n);\r\n\r\nexport const deleteCounterparty = createAsyncThunk(\r\n  'counterparty/delete',\r\n  async (id, { dispatch }) => {\r\n    await handleAction(\r\n      {\r\n        method: () => webInvoicerApi().delete(`Counterparties/${id}`),\r\n        errorData: 'delete'\r\n      },\r\n      dispatch\r\n    );\r\n\r\n    return id;\r\n  }\r\n);\r\n\r\nconst handleAction = async ({ method, errorData }, dispatch) => {\r\n  dispatch(setActionPending(true));\r\n  const response = await apiHandler(method(), errorData);\r\n  dispatch(setActionPending(false));\r\n\r\n  if (response.type === 'ERROR') {\r\n    dispatch(setError(response.data));\r\n    throw new Error(response.data);\r\n  }\r\n  return response.data;\r\n};\r\n\r\nconst counterpartySlice = createSlice({\r\n  name: 'counterparty',\r\n  initialState,\r\n  reducers: {\r\n    setActionPending(state, action) {\r\n      state.actionPending = action.payload;\r\n    },\r\n    setError(state, action) {\r\n      state.error = action.payload;\r\n    }\r\n  },\r\n  extraReducers: {\r\n    [createCounterparty.fulfilled]: (state, action) => {\r\n      state.counterpartyData.push(action.payload);\r\n    },\r\n    [getCounterparties.fulfilled]: (state, action) => {\r\n      state.counterpartyData = action.payload;\r\n    },\r\n    [updateCounterparty.fulfilled]: (state, action) => {\r\n      const index = state.counterpartyData.findIndex(x => x.id === action.payload.id);\r\n      state.counterpartyData[index] = action.payload;\r\n    },\r\n    [deleteCounterparty.fulfilled]: (state, action) => {\r\n      state.counterpartyData = state.counterpartyData.filter(x => x.id !== action.payload);\r\n    }\r\n  }\r\n});\r\n\r\nexport const { setActionPending, setError } = counterpartySlice.actions;\r\n\r\nexport default counterpartySlice.reducer;\r\n","import { makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  nipEditContainer: {\r\n    width: '100%',\r\n    display: 'inline-flex',\r\n    alignItems: 'center'\r\n  },\r\n  nipEditButton: {\r\n    marginLeft: theme.spacing(1)\r\n  }\r\n}));\r\n\r\nexport default useStyles;\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { MTableEditField } from 'material-table';\r\nimport { IconButton } from '@material-ui/core';\r\nimport { CloudDownload } from '@material-ui/icons';\r\nimport {\r\n  createCounterparty,\r\n  deleteCounterparty,\r\n  getCounterpartyDetails,\r\n  updateCounterparty\r\n} from '../../../slices/counterpartySlice';\r\nimport useValidation from '../../../hooks/useValidation';\r\nimport useHandleAction from '../../../hooks/useHandleAction';\r\nimport useStyles from './styles';\r\n\r\nconst useConfig = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const { required, validate } = useValidation();\r\n\r\n  const handleAction = useHandleAction();\r\n\r\n  const classes = useStyles();\r\n\r\n  const downloadDetails = ({ rowData, onRowDataChange, value }) => () => {\r\n    handleAction({\r\n      action: getCounterpartyDetails(value),\r\n      onSuccess: result => {\r\n        const { street, propertyNumber, apartmentNumber, ...rest } = result;\r\n        onRowDataChange({\r\n          ...rowData,\r\n          address: `${street} ${propertyNumber}${apartmentNumber && `/${apartmentNumber}`}`,\r\n          nip: value,\r\n          ...rest\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: t('counterparties.name'),\r\n      field: 'name',\r\n      width: 190,\r\n      validate: row => required(row.name)\r\n    },\r\n    {\r\n      title: t('counterparties.nip'),\r\n      field: 'nip',\r\n      width: 190,\r\n      validate: row => validate('validNip', row.nip, true),\r\n      editComponent: props => (\r\n        <div className={classes.nipEditContainer}>\r\n          <MTableEditField {...props} />\r\n          <IconButton\r\n            onClick={downloadDetails(props)}\r\n            color='primary'\r\n            disabled={Boolean(props.error)}\r\n            className={classes.nipEditButton}>\r\n            <CloudDownload />\r\n          </IconButton>\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      title: t('counterparties.address'),\r\n      field: 'address',\r\n      width: 190,\r\n      validate: row => required(row.address)\r\n    },\r\n    {\r\n      title: t('counterparties.postalCode'),\r\n      field: 'postalCode',\r\n      width: 190,\r\n      validate: row => validate('postalCode', row.postalCode, true)\r\n    },\r\n    {\r\n      title: t('counterparties.city'),\r\n      field: 'city',\r\n      width: 190,\r\n      validate: row => required(row.city)\r\n    },\r\n    {\r\n      title: t('counterparties.phoneNumber'),\r\n      field: 'phoneNumber',\r\n      width: 190,\r\n      validate: row => validate('phoneNumber', row.phoneNumber, false)\r\n    }\r\n  ];\r\n\r\n  const editableConfig = {\r\n    createAction: createCounterparty,\r\n    updateAction: updateCounterparty,\r\n    deleteAction: deleteCounterparty\r\n  };\r\n\r\n  return { columns, editableConfig };\r\n};\r\n\r\nexport default useConfig;\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport DataTable from '../../common/DataTable';\r\nimport ErrorDialog from '../../common/ErrorDialog';\r\nimport { getCounterparties, setError } from '../../../slices/counterpartySlice';\r\nimport useConfig from './config';\r\n\r\nconst Counterparties = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const counterparties = useSelector(state => state.counterparty.counterpartyData);\r\n\r\n  const actionPending = useSelector(state => state.counterparty.actionPending);\r\n\r\n  const error = useSelector(state => state.counterparty.error);\r\n\r\n  const { columns, editableConfig } = useConfig();\r\n\r\n  useEffect(() => {\r\n    dispatch(getCounterparties());\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <ErrorDialog error={error} clearAction={setError} />\r\n      <DataTable\r\n        title={t('counterparties.title')}\r\n        isLoading={actionPending}\r\n        data={counterparties}\r\n        columns={columns}\r\n        editableConfig={editableConfig}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Counterparties;\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport webInvoicerApi from '../apis/webInvoicerApi';\r\nimport apiHandler from '../apis/apiHandler';\r\n\r\nconst initialState = {\r\n  actionPending: false,\r\n  error: null,\r\n  employeeData: []\r\n};\r\n\r\nexport const createEmployee = createAsyncThunk(\r\n  'employee/create',\r\n  async (employee, { dispatch }) => {\r\n    return await handleAction(\r\n      {\r\n        method: () => webInvoicerApi().post('Employees', employee),\r\n        errorData: 'create'\r\n      },\r\n      dispatch\r\n    );\r\n  }\r\n);\r\n\r\nexport const getEmployees = createAsyncThunk('employee/get', async (_, { dispatch }) => {\r\n  return await handleAction(\r\n    {\r\n      method: () => webInvoicerApi().get('Employees'),\r\n      errorData: 'get'\r\n    },\r\n    dispatch\r\n  );\r\n});\r\n\r\nexport const updateEmployee = createAsyncThunk(\r\n  'employee/update',\r\n  async (employee, { dispatch }) => {\r\n    return await handleAction(\r\n      {\r\n        method: () => webInvoicerApi().put('Employees', employee),\r\n        errorData: 'update'\r\n      },\r\n      dispatch\r\n    );\r\n  }\r\n);\r\n\r\nexport const deleteEmployee = createAsyncThunk('employee/delete', async (id, { dispatch }) => {\r\n  await handleAction(\r\n    {\r\n      method: () => webInvoicerApi().delete(`Employees/${id}`),\r\n      errorData: 'delete'\r\n    },\r\n    dispatch\r\n  );\r\n\r\n  return id;\r\n});\r\n\r\nconst handleAction = async ({ method, errorData }, dispatch) => {\r\n  dispatch(setActionPending(true));\r\n  const response = await apiHandler(method(), errorData);\r\n  dispatch(setActionPending(false));\r\n\r\n  if (response.type === 'ERROR') {\r\n    dispatch(setError(response.data));\r\n    throw new Error(response.data);\r\n  }\r\n  return response.data;\r\n};\r\n\r\nconst employeeSlice = createSlice({\r\n  name: 'employee',\r\n  initialState,\r\n  reducers: {\r\n    setActionPending(state, action) {\r\n      state.actionPending = action.payload;\r\n    },\r\n    setError(state, action) {\r\n      state.error = action.payload;\r\n    }\r\n  },\r\n  extraReducers: {\r\n    [createEmployee.fulfilled]: (state, action) => {\r\n      state.employeeData.push(action.payload);\r\n    },\r\n    [getEmployees.fulfilled]: (state, action) => {\r\n      state.employeeData = action.payload;\r\n    },\r\n    [updateEmployee.fulfilled]: (state, action) => {\r\n      const index = state.employeeData.findIndex(x => x.id === action.payload.id);\r\n      state.employeeData[index] = action.payload;\r\n    },\r\n    [deleteEmployee.fulfilled]: (state, action) => {\r\n      state.employeeData = state.employeeData.filter(x => x.id !== action.payload);\r\n    }\r\n  }\r\n});\r\n\r\nexport const { setActionPending, setError } = employeeSlice.actions;\r\n\r\nexport default employeeSlice.reducer;\r\n","import { useTranslation } from 'react-i18next';\r\nimport { createEmployee, deleteEmployee, updateEmployee } from '../../../slices/employeeSlice';\r\nimport useValidation from '../../../hooks/useValidation';\r\n\r\nconst useConfig = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const { required, validate } = useValidation();\r\n\r\n  const columns = [\r\n    {\r\n      title: t('employees.fullName'),\r\n      field: 'fullName',\r\n      width: 190,\r\n      validate: row => required(row.fullName)\r\n    },\r\n    {\r\n      title: t('employees.phoneNumber'),\r\n      field: 'phoneNumber',\r\n      width: 190,\r\n      validate: row => validate('phoneNumber', row.phoneNumber, true)\r\n    },\r\n    {\r\n      title: t('employees.dateAdded'),\r\n      field: 'dateAdded',\r\n      width: 190,\r\n      type: 'datetime',\r\n      editable: 'never'\r\n    }\r\n  ];\r\n\r\n  const editableConfig = {\r\n    createAction: createEmployee,\r\n    updateAction: updateEmployee,\r\n    deleteAction: deleteEmployee\r\n  };\r\n\r\n  return { columns, editableConfig };\r\n};\r\n\r\nexport default useConfig;\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport DataTable from '../../common/DataTable';\r\nimport ErrorDialog from '../../common/ErrorDialog';\r\nimport { getEmployees, setError } from '../../../slices/employeeSlice';\r\nimport useConfig from './config';\r\n\r\nconst Employees = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const employees = useSelector(state => state.employee.employeeData);\r\n\r\n  const actionPending = useSelector(state => state.employee.actionPending);\r\n\r\n  const error = useSelector(state => state.employee.error);\r\n\r\n  const { columns, editableConfig } = useConfig();\r\n\r\n  useEffect(() => {\r\n    dispatch(getEmployees());\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <ErrorDialog error={error} clearAction={setError} />\r\n      <DataTable\r\n        title={t('employees.title')}\r\n        isLoading={actionPending}\r\n        data={employees}\r\n        columns={columns}\r\n        editableConfig={editableConfig}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Employees;\r\n","import React from 'react';\r\n\r\nconst DataVisualization = () => {\r\n  return <div></div>;\r\n};\r\n\r\nexport default DataVisualization;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Box, Button, Typography } from '@material-ui/core';\r\n\r\nconst NotFound = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const isLoggedIn = useSelector(state => state.user.isLoggedIn);\r\n\r\n  return (\r\n    <Box mt={3} className='text-center'>\r\n      <Typography variant='h1' color='primary'>\r\n        404\r\n      </Typography>\r\n      <Typography variant='h2'>{t('notFound.header')}</Typography>\r\n      <Box my={2}>\r\n        <Typography variant='h6' color='textSecondary'>\r\n          {t('notFound.description')}\r\n        </Typography>\r\n      </Box>\r\n      <Button\r\n        component={Link}\r\n        to={isLoggedIn ? '/invoices' : '/'}\r\n        variant='contained'\r\n        color='primary'>\r\n        {t('notFound.button')}\r\n      </Button>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport PrivateRoute from './common/PrivateRoute';\r\nimport Home from './pages/Home';\r\nimport Invoices from './pages/Invoices';\r\nimport Products from './pages/Products';\r\nimport Counterparties from './pages/Counterparties';\r\nimport Employees from './pages/Employees';\r\nimport DataVisualization from './pages/DataVisualization';\r\nimport NotFound from './pages/NotFound';\r\n\r\nconst Routes = () => {\r\n  const validHomePaths = [\r\n    '/',\r\n    '/login',\r\n    '/register',\r\n    '/resetPassword',\r\n    '/changePassword',\r\n    '/confirmEmail'\r\n  ];\r\n\r\n  return (\r\n    <Switch>\r\n      <Route exact path={validHomePaths} component={Home} />\r\n      <PrivateRoute exact path='/invoices' component={Invoices} />\r\n      <PrivateRoute exact path='/products' component={Products} />\r\n      <PrivateRoute exact path='/counterparties' component={Counterparties} />\r\n      <PrivateRoute exact path='/employees' component={Employees} />\r\n      <PrivateRoute exact path='/dataVisualization' component={DataVisualization} />\r\n      <Route component={NotFound} />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React, { Suspense } from 'react';\r\nimport { HashRouter as Router } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { Container, createMuiTheme, CssBaseline, ThemeProvider, Toolbar } from '@material-ui/core';\r\nimport Navigation from './components/layout/Navigation';\r\nimport SuspenseLoading from './components/SuspenseLoading';\r\nimport Routes from './components/Routes';\r\nimport lightTheme from './styles/lightTheme.json';\r\nimport darkTheme from './styles/darkTheme.json';\r\n\r\nconst App = () => {\r\n  const isLoggedIn = useSelector(state => state.user.isLoggedIn);\r\n  const theme = useSelector(state => state.app.theme);\r\n  const muiTheme = createMuiTheme(theme === 'light' ? lightTheme : darkTheme);\r\n\r\n  return (\r\n    <Router>\r\n      <ThemeProvider theme={muiTheme}>\r\n        <CssBaseline />\r\n        <Suspense fallback={<SuspenseLoading />}>\r\n          <Navigation />\r\n          <Container {...(isLoggedIn && { className: 'logged-in-container' })}>\r\n            <Toolbar />\r\n            <Routes />\r\n          </Container>\r\n        </Suspense>\r\n      </ThemeProvider>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialState = {\r\n  actionPending: false,\r\n  error: null,\r\n  invoiceData: []\r\n};\r\n\r\nexport const getInvoices = createAsyncThunk('invoice/get', async (_, dispatch) => {});\r\n\r\nconst invoiceSlice = createSlice({\r\n  name: 'invoice',\r\n  initialState,\r\n  reducers: {\r\n    setActionPending(state, action) {\r\n      state.actionPending = action.payload;\r\n    },\r\n    setError(state, action) {\r\n      state.error = action.payload;\r\n    }\r\n  },\r\n  extraReducers: {\r\n    [getInvoices.fulfilled]: (state, action) => {\r\n      state.invoiceData = action.payload;\r\n    }\r\n  }\r\n});\r\n\r\nexport const { setActionPending, setError } = invoiceSlice.actions;\r\n\r\nexport default invoiceSlice.reducer;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport appReducer from './slices/appSlice';\r\nimport userReducer from './slices/userSlice';\r\nimport invoiceReducer from './slices/invoiceSlice';\r\nimport counterpartyReducer from './slices/counterpartySlice';\r\nimport employeeReducer from './slices/employeeSlice';\r\nimport productReducer from './slices/productSlice';\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    app: appReducer,\r\n    user: userReducer,\r\n    invoice: invoiceReducer,\r\n    counterparty: counterpartyReducer,\r\n    employee: employeeReducer,\r\n    product: productReducer\r\n  }\r\n});\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport './i18n';\r\nimport App from './App';\r\nimport store from './store';\r\nimport './styles/styles.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}